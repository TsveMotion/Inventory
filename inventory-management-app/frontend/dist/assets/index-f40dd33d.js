var nE=Object.defineProperty;var rE=(t,e,n)=>e in t?nE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ue=(t,e,n)=>(rE(t,typeof e!="symbol"?e+"":e,n),n);function iE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ph(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wx={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),sE=Symbol.for("react.portal"),oE=Symbol.for("react.fragment"),aE=Symbol.for("react.strict_mode"),lE=Symbol.for("react.profiler"),cE=Symbol.for("react.provider"),uE=Symbol.for("react.context"),fE=Symbol.for("react.forward_ref"),dE=Symbol.for("react.suspense"),hE=Symbol.for("react.memo"),gE=Symbol.for("react.lazy"),ng=Symbol.iterator;function pE(t){return t===null||typeof t!="object"?null:(t=ng&&t[ng]||t["@@iterator"],typeof t=="function"?t:null)}var vx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ex=Object.assign,bx={};function wo(t,e,n){this.props=t,this.context=e,this.refs=bx,this.updater=n||vx}wo.prototype.isReactComponent={};wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _x(){}_x.prototype=wo.prototype;function Lh(t,e,n){this.props=t,this.context=e,this.refs=bx,this.updater=n||vx}var Bh=Lh.prototype=new _x;Bh.constructor=Lh;Ex(Bh,wo.prototype);Bh.isPureReactComponent=!0;var rg=Array.isArray,Cx=Object.prototype.hasOwnProperty,Fh={current:null},Sx={key:!0,ref:!0,__self:!0,__source:!0};function Ax(t,e,n){var r,i={},o=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(o=""+e.key),e)Cx.call(e,r)&&!Sx.hasOwnProperty(r)&&(i[r]=e[r]);var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){for(var g=Array(d),p=0;p<d;p++)g[p]=arguments[p+2];i.children=g}if(t&&t.defaultProps)for(r in d=t.defaultProps,d)i[r]===void 0&&(i[r]=d[r]);return{$$typeof:ol,type:t,key:o,ref:c,props:i,_owner:Fh.current}}function mE(t,e){return{$$typeof:ol,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ol}function xE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ig=/\/+/g;function Sf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xE(""+t.key):e.toString(36)}function mc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var c=!1;if(t===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case ol:case sE:c=!0}}if(c)return c=t,i=i(c),t=r===""?"."+Sf(c,0):r,rg(i)?(n="",t!=null&&(n=t.replace(ig,"$&/")+"/"),mc(i,e,n,"",function(p){return p})):i!=null&&(zh(i)&&(i=mE(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(ig,"$&/")+"/")+t)),e.push(i)),1;if(c=0,r=r===""?".":r+":",rg(t))for(var d=0;d<t.length;d++){o=t[d];var g=r+Sf(o,d);c+=mc(o,e,n,g,i)}else if(g=pE(t),typeof g=="function")for(t=g.call(t),d=0;!(o=t.next()).done;)o=o.value,g=r+Sf(o,d++),c+=mc(o,e,n,g,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function Rl(t,e,n){if(t==null)return t;var r=[],i=0;return mc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function yE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},xc={transition:null},wE={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:xc,ReactCurrentOwner:Fh};function Ix(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Rl,forEach:function(t,e,n){Rl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rl(t,function(){e++}),e},toArray:function(t){return Rl(t,function(e){return e})||[]},only:function(t){if(!zh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=wo;Oe.Fragment=oE;Oe.Profiler=lE;Oe.PureComponent=Lh;Oe.StrictMode=aE;Oe.Suspense=dE;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wE;Oe.act=Ix;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ex({},t.props),i=t.key,o=t.ref,c=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,c=Fh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var d=t.type.defaultProps;for(g in e)Cx.call(e,g)&&!Sx.hasOwnProperty(g)&&(r[g]=e[g]===void 0&&d!==void 0?d[g]:e[g])}var g=arguments.length-2;if(g===1)r.children=n;else if(1<g){d=Array(g);for(var p=0;p<g;p++)d[p]=arguments[p+2];r.children=d}return{$$typeof:ol,type:t.type,key:i,ref:o,props:r,_owner:c}};Oe.createContext=function(t){return t={$$typeof:uE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cE,_context:t},t.Consumer=t};Oe.createElement=Ax;Oe.createFactory=function(t){var e=Ax.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:fE,render:t}};Oe.isValidElement=zh;Oe.lazy=function(t){return{$$typeof:gE,_payload:{_status:-1,_result:t},_init:yE}};Oe.memo=function(t,e){return{$$typeof:hE,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=xc.transition;xc.transition={};try{t()}finally{xc.transition=e}};Oe.unstable_act=Ix;Oe.useCallback=function(t,e){return ln.current.useCallback(t,e)};Oe.useContext=function(t){return ln.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return ln.current.useEffect(t,e)};Oe.useId=function(){return ln.current.useId()};Oe.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return ln.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};Oe.useRef=function(t){return ln.current.useRef(t)};Oe.useState=function(t){return ln.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return ln.current.useTransition()};Oe.version="18.3.1";wx.exports=Oe;var W=wx.exports;const I=Ph(W);var vd={},Ox={exports:{}},Pn={},Tx={exports:{}},Nx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,ae){var pe=re.length;re.push(ae);e:for(;0<pe;){var Fe=pe-1>>>1,be=re[Fe];if(0<i(be,ae))re[Fe]=ae,re[pe]=be,pe=Fe;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ae=re[0],pe=re.pop();if(pe!==ae){re[0]=pe;e:for(var Fe=0,be=re.length,At=be>>>1;Fe<At;){var Me=2*(Fe+1)-1,he=re[Me],ie=Me+1,bt=re[ie];if(0>i(he,pe))ie<be&&0>i(bt,he)?(re[Fe]=bt,re[ie]=pe,Fe=ie):(re[Fe]=he,re[Me]=pe,Fe=Me);else if(ie<be&&0>i(bt,pe))re[Fe]=bt,re[ie]=pe,Fe=ie;else break e}}return ae}function i(re,ae){var pe=re.sortIndex-ae.sortIndex;return pe!==0?pe:re.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var g=[],p=[],y=1,v=null,E=3,_=!1,N=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(re){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=re)r(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(p)}}function B(re){if(S=!1,R(re),!N)if(n(g)!==null)N=!0,ve(F);else{var ae=n(p);ae!==null&&le(B,ae.startTime-re)}}function F(re,ae){N=!1,S&&(S=!1,O(j),j=-1),_=!0;var pe=E;try{for(R(ae),v=n(g);v!==null&&(!(v.expirationTime>ae)||re&&!oe());){var Fe=v.callback;if(typeof Fe=="function"){v.callback=null,E=v.priorityLevel;var be=Fe(v.expirationTime<=ae);ae=t.unstable_now(),typeof be=="function"?v.callback=be:v===n(g)&&r(g),R(ae)}else r(g);v=n(g)}if(v!==null)var At=!0;else{var Me=n(p);Me!==null&&le(B,Me.startTime-ae),At=!1}return At}finally{v=null,E=pe,_=!1}}var V=!1,L=null,j=-1,H=5,Q=-1;function oe(){return!(t.unstable_now()-Q<H)}function te(){if(L!==null){var re=t.unstable_now();Q=re;var ae=!0;try{ae=L(!0,re)}finally{ae?xe():(V=!1,L=null)}}else V=!1}var xe;if(typeof T=="function")xe=function(){T(te)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,X=Ce.port2;Ce.port1.onmessage=te,xe=function(){X.postMessage(null)}}else xe=function(){k(te,0)};function ve(re){L=re,V||(V=!0,xe())}function le(re,ae){j=k(function(){re(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){N||_||(N=!0,ve(F))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(g)},t.unstable_next=function(re){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var pe=E;E=ae;try{return re()}finally{E=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,ae){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=E;E=re;try{return ae()}finally{E=pe}},t.unstable_scheduleCallback=function(re,ae,pe){var Fe=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Fe+pe:Fe):pe=Fe,re){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=pe+be,re={id:y++,callback:ae,priorityLevel:re,startTime:pe,expirationTime:be,sortIndex:-1},pe>Fe?(re.sortIndex=pe,e(p,re),n(g)===null&&re===n(p)&&(S?(O(j),j=-1):S=!0,le(B,pe-Fe))):(re.sortIndex=be,e(g,re),N||_||(N=!0,ve(F))),re},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(re){var ae=E;return function(){var pe=E;E=ae;try{return re.apply(this,arguments)}finally{E=pe}}}})(Nx);Tx.exports=Nx;var vE=Tx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE=W,Dn=vE;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rx=new Set,Ma={};function ms(t,e){ao(t,e),ao(t+"Capture",e)}function ao(t,e){for(Ma[t]=e,t=0;t<e.length;t++)Rx.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ed=Object.prototype.hasOwnProperty,bE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sg={},og={};function _E(t){return Ed.call(og,t)?!0:Ed.call(sg,t)?!1:bE.test(t)?og[t]=!0:(sg[t]=!0,!1)}function CE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SE(t,e,n,r){if(e===null||typeof e>"u"||CE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,o,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=c}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uh=/[\-:]([a-z])/g;function Wh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uh,Wh);$t[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uh,Wh);$t[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uh,Wh);$t[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vh(t,e,n,r){var i=$t.hasOwnProperty(e)?$t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SE(e,n,i,r)&&(n=null),r||i===null?_E(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zr=EE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ml=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),bd=Symbol.for("react.profiler"),Mx=Symbol.for("react.provider"),kx=Symbol.for("react.context"),jh=Symbol.for("react.forward_ref"),_d=Symbol.for("react.suspense"),Cd=Symbol.for("react.suspense_list"),Gh=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),Dx=Symbol.for("react.offscreen"),ag=Symbol.iterator;function Uo(t){return t===null||typeof t!="object"?null:(t=ag&&t[ag]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Af;function la(t){if(Af===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Af=e&&e[1]||""}return`
`+Af+t}var If=!1;function Of(t,e){if(!t||If)return"";If=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),o=r.stack.split(`
`),c=i.length-1,d=o.length-1;1<=c&&0<=d&&i[c]!==o[d];)d--;for(;1<=c&&0<=d;c--,d--)if(i[c]!==o[d]){if(c!==1||d!==1)do if(c--,d--,0>d||i[c]!==o[d]){var g=`
`+i[c].replace(" at new "," at ");return t.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",t.displayName)),g}while(1<=c&&0<=d);break}}}finally{If=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?la(t):""}function AE(t){switch(t.tag){case 5:return la(t.type);case 16:return la("Lazy");case 13:return la("Suspense");case 19:return la("SuspenseList");case 0:case 2:case 15:return t=Of(t.type,!1),t;case 11:return t=Of(t.type.render,!1),t;case 1:return t=Of(t.type,!0),t;default:return""}}function Sd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vs:return"Fragment";case Ws:return"Portal";case bd:return"Profiler";case Hh:return"StrictMode";case _d:return"Suspense";case Cd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kx:return(t.displayName||"Context")+".Consumer";case Mx:return(t._context.displayName||"Context")+".Provider";case jh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gh:return e=t.displayName||null,e!==null?e:Sd(t.type)||"Memo";case ai:e=t._payload,t=t._init;try{return Sd(t(e))}catch{}}return null}function IE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sd(e);case 8:return e===Hh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Px(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OE(t){var e=Px(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kl(t){t._valueTracker||(t._valueTracker=OE(t))}function Lx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Px(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ad(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bx(t,e){e=e.checked,e!=null&&Vh(t,"checked",e,!1)}function Id(t,e){Bx(t,e);var n=Oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Od(t,e.type,n):e.hasOwnProperty("defaultValue")&&Od(t,e.type,Oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Od(t,e,n){(e!=="number"||zc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ca=Array.isArray;function eo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Td(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ug(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(ca(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oi(n)}}function Fx(t,e){var n=Oi(e.value),r=Oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dl,Ux=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ka(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TE=["Webkit","ms","Moz","O"];Object.keys(wa).forEach(function(t){TE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wa[e]=wa[t]})});function Wx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wa.hasOwnProperty(t)&&wa[t]?(""+e).trim():e+"px"}function Vx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var NE=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rd(t,e){if(e){if(NE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Md(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=null;function Xh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dd=null,to=null,no=null;function dg(t){if(t=cl(t)){if(typeof Dd!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Tu(e),Dd(t.stateNode,t.type,e))}}function Hx(t){to?no?no.push(t):no=[t]:to=t}function jx(){if(to){var t=to,e=no;if(no=to=null,dg(t),e)for(t=0;t<e.length;t++)dg(e[t])}}function Gx(t,e){return t(e)}function Xx(){}var Tf=!1;function $x(t,e,n){if(Tf)return t(e,n);Tf=!0;try{return Gx(t,e,n)}finally{Tf=!1,(to!==null||no!==null)&&(Xx(),jx())}}function Da(t,e){var n=t.stateNode;if(n===null)return null;var r=Tu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Pd=!1;if(jr)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Pd=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Pd=!1}function RE(t,e,n,r,i,o,c,d,g){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(y){this.onError(y)}}var va=!1,Uc=null,Wc=!1,Ld=null,ME={onError:function(t){va=!0,Uc=t}};function kE(t,e,n,r,i,o,c,d,g){va=!1,Uc=null,RE.apply(ME,arguments)}function DE(t,e,n,r,i,o,c,d,g){if(kE.apply(this,arguments),va){if(va){var p=Uc;va=!1,Uc=null}else throw Error(J(198));Wc||(Wc=!0,Ld=p)}}function xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hg(t){if(xs(t)!==t)throw Error(J(188))}function PE(t){var e=t.alternate;if(!e){if(e=xs(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return hg(i),t;if(o===r)return hg(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var c=!1,d=i.child;d;){if(d===n){c=!0,n=i,r=o;break}if(d===r){c=!0,r=i,n=o;break}d=d.sibling}if(!c){for(d=o.child;d;){if(d===n){c=!0,n=o,r=i;break}if(d===r){c=!0,r=o,n=i;break}d=d.sibling}if(!c)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function Zx(t){return t=PE(t),t!==null?Kx(t):null}function Kx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kx(t);if(e!==null)return e;t=t.sibling}return null}var qx=Dn.unstable_scheduleCallback,gg=Dn.unstable_cancelCallback,LE=Dn.unstable_shouldYield,BE=Dn.unstable_requestPaint,Ct=Dn.unstable_now,FE=Dn.unstable_getCurrentPriorityLevel,$h=Dn.unstable_ImmediatePriority,Qx=Dn.unstable_UserBlockingPriority,Vc=Dn.unstable_NormalPriority,zE=Dn.unstable_LowPriority,Jx=Dn.unstable_IdlePriority,Su=null,Sr=null;function UE(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Su,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:HE,WE=Math.log,VE=Math.LN2;function HE(t){return t>>>=0,t===0?32:31-(WE(t)/VE|0)|0}var Pl=64,Ll=4194304;function ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,c=n&268435455;if(c!==0){var d=c&~i;d!==0?r=ua(d):(o&=c,o!==0&&(r=ua(o)))}else c=n&~i,c!==0?r=ua(c):o!==0&&(r=ua(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),i=1<<n,r|=t[n],e&=~i;return r}function jE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var c=31-sr(o),d=1<<c,g=i[c];g===-1?(!(d&n)||d&r)&&(i[c]=jE(d,e)):g<=e&&(t.expiredLanes|=d),o&=~d}}function Bd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function e2(){var t=Pl;return Pl<<=1,!(Pl&4194240)&&(Pl=64),t}function Nf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function al(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function XE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-sr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Yh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function t2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var n2,Zh,r2,i2,s2,Fd=!1,Bl=[],yi=null,wi=null,vi=null,Pa=new Map,La=new Map,ci=[],$E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pg(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Pa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(e.pointerId)}}function Vo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=cl(e),e!==null&&Zh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YE(t,e,n,r,i){switch(e){case"focusin":return yi=Vo(yi,t,e,n,r,i),!0;case"dragenter":return wi=Vo(wi,t,e,n,r,i),!0;case"mouseover":return vi=Vo(vi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pa.set(o,Vo(Pa.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,La.set(o,Vo(La.get(o)||null,t,e,n,r,i)),!0}return!1}function o2(t){var e=Ji(t.target);if(e!==null){var n=xs(e);if(n!==null){if(e=n.tag,e===13){if(e=Yx(n),e!==null){t.blockedOn=e,s2(t.priority,function(){r2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kd=r,n.target.dispatchEvent(r),kd=null}else return e=cl(n),e!==null&&Zh(e),t.blockedOn=n,!1;e.shift()}return!0}function mg(t,e,n){yc(t)&&n.delete(e)}function ZE(){Fd=!1,yi!==null&&yc(yi)&&(yi=null),wi!==null&&yc(wi)&&(wi=null),vi!==null&&yc(vi)&&(vi=null),Pa.forEach(mg),La.forEach(mg)}function Ho(t,e){t.blockedOn===e&&(t.blockedOn=null,Fd||(Fd=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,ZE)))}function Ba(t){function e(i){return Ho(i,t)}if(0<Bl.length){Ho(Bl[0],t);for(var n=1;n<Bl.length;n++){var r=Bl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yi!==null&&Ho(yi,t),wi!==null&&Ho(wi,t),vi!==null&&Ho(vi,t),Pa.forEach(e),La.forEach(e),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)o2(n),n.blockedOn===null&&ci.shift()}var ro=Zr.ReactCurrentBatchConfig,jc=!0;function KE(t,e,n,r){var i=je,o=ro.transition;ro.transition=null;try{je=1,Kh(t,e,n,r)}finally{je=i,ro.transition=o}}function qE(t,e,n,r){var i=je,o=ro.transition;ro.transition=null;try{je=4,Kh(t,e,n,r)}finally{je=i,ro.transition=o}}function Kh(t,e,n,r){if(jc){var i=zd(t,e,n,r);if(i===null)Uf(t,e,r,Gc,n),pg(t,r);else if(YE(i,t,e,n,r))r.stopPropagation();else if(pg(t,r),e&4&&-1<$E.indexOf(t)){for(;i!==null;){var o=cl(i);if(o!==null&&n2(o),o=zd(t,e,n,r),o===null&&Uf(t,e,r,Gc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Uf(t,e,r,null,n)}}var Gc=null;function zd(t,e,n,r){if(Gc=null,t=Xh(r),t=Ji(t),t!==null)if(e=xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gc=t,null}function a2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FE()){case $h:return 1;case Qx:return 4;case Vc:case zE:return 16;case Jx:return 536870912;default:return 16}default:return 16}}var fi=null,qh=null,wc=null;function l2(){if(wc)return wc;var t,e=qh,n=e.length,r,i="value"in fi?fi.value:fi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var c=n-t;for(r=1;r<=c&&e[n-r]===i[o-r];r++);return wc=i.slice(t,1<r?1-r:void 0)}function vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fl(){return!0}function xg(){return!1}function Ln(t){function e(n,r,i,o,c){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var d in t)t.hasOwnProperty(d)&&(n=t[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fl:xg,this.isPropagationStopped=xg,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),e}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qh=Ln(vo),ll=ht({},vo,{view:0,detail:0}),QE=Ln(ll),Rf,Mf,jo,Au=ht({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jo&&(jo&&t.type==="mousemove"?(Rf=t.screenX-jo.screenX,Mf=t.screenY-jo.screenY):Mf=Rf=0,jo=t),Rf)},movementY:function(t){return"movementY"in t?t.movementY:Mf}}),yg=Ln(Au),JE=ht({},Au,{dataTransfer:0}),eb=Ln(JE),tb=ht({},ll,{relatedTarget:0}),kf=Ln(tb),nb=ht({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),rb=Ln(nb),ib=ht({},vo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sb=Ln(ib),ob=ht({},vo,{data:0}),wg=Ln(ob),ab={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ub(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cb[t])?!!e[t]:!1}function Jh(){return ub}var fb=ht({},ll,{key:function(t){if(t.key){var e=ab[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jh,charCode:function(t){return t.type==="keypress"?vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),db=Ln(fb),hb=ht({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vg=Ln(hb),gb=ht({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jh}),pb=Ln(gb),mb=ht({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),xb=Ln(mb),yb=ht({},Au,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wb=Ln(yb),vb=[9,13,27,32],e0=jr&&"CompositionEvent"in window,Ea=null;jr&&"documentMode"in document&&(Ea=document.documentMode);var Eb=jr&&"TextEvent"in window&&!Ea,c2=jr&&(!e0||Ea&&8<Ea&&11>=Ea),Eg=String.fromCharCode(32),bg=!1;function u2(t,e){switch(t){case"keyup":return vb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function bb(t,e){switch(t){case"compositionend":return f2(e);case"keypress":return e.which!==32?null:(bg=!0,Eg);case"textInput":return t=e.data,t===Eg&&bg?null:t;default:return null}}function _b(t,e){if(Hs)return t==="compositionend"||!e0&&u2(t,e)?(t=l2(),wc=qh=fi=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return c2&&e.locale!=="ko"?null:e.data;default:return null}}var Cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Cb[t.type]:e==="textarea"}function d2(t,e,n,r){Hx(r),e=Xc(e,"onChange"),0<e.length&&(n=new Qh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ba=null,Fa=null;function Sb(t){_2(t,0)}function Iu(t){var e=Xs(t);if(Lx(e))return t}function Ab(t,e){if(t==="change")return e}var h2=!1;if(jr){var Df;if(jr){var Pf="oninput"in document;if(!Pf){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Pf=typeof Cg.oninput=="function"}Df=Pf}else Df=!1;h2=Df&&(!document.documentMode||9<document.documentMode)}function Sg(){ba&&(ba.detachEvent("onpropertychange",g2),Fa=ba=null)}function g2(t){if(t.propertyName==="value"&&Iu(Fa)){var e=[];d2(e,Fa,t,Xh(t)),$x(Sb,e)}}function Ib(t,e,n){t==="focusin"?(Sg(),ba=e,Fa=n,ba.attachEvent("onpropertychange",g2)):t==="focusout"&&Sg()}function Ob(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Fa)}function Tb(t,e){if(t==="click")return Iu(e)}function Nb(t,e){if(t==="input"||t==="change")return Iu(e)}function Rb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:Rb;function za(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ed.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function Ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,e){var n=Ag(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ag(n)}}function p2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?p2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function m2(){for(var t=window,e=zc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zc(t.document)}return e}function t0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mb(t){var e=m2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&p2(n.ownerDocument.documentElement,n)){if(r!==null&&t0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Ig(n,o);var c=Ig(n,r);i&&c&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==c.node||t.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kb=jr&&"documentMode"in document&&11>=document.documentMode,js=null,Ud=null,_a=null,Wd=!1;function Og(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wd||js==null||js!==zc(r)||(r=js,"selectionStart"in r&&t0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_a&&za(_a,r)||(_a=r,r=Xc(Ud,"onSelect"),0<r.length&&(e=new Qh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=js)))}function zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gs={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Lf={},x2={};jr&&(x2=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Ou(t){if(Lf[t])return Lf[t];if(!Gs[t])return t;var e=Gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in x2)return Lf[t]=e[n];return t}var y2=Ou("animationend"),w2=Ou("animationiteration"),v2=Ou("animationstart"),E2=Ou("transitionend"),b2=new Map,Tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(t,e){b2.set(t,e),ms(e,[t])}for(var Bf=0;Bf<Tg.length;Bf++){var Ff=Tg[Bf],Db=Ff.toLowerCase(),Pb=Ff[0].toUpperCase()+Ff.slice(1);Ri(Db,"on"+Pb)}Ri(y2,"onAnimationEnd");Ri(w2,"onAnimationIteration");Ri(v2,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri(E2,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lb=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function Ng(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DE(r,e,void 0,t),t.currentTarget=null}function _2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var c=r.length-1;0<=c;c--){var d=r[c],g=d.instance,p=d.currentTarget;if(d=d.listener,g!==o&&i.isPropagationStopped())break e;Ng(i,d,p),o=g}else for(c=0;c<r.length;c++){if(d=r[c],g=d.instance,p=d.currentTarget,d=d.listener,g!==o&&i.isPropagationStopped())break e;Ng(i,d,p),o=g}}}if(Wc)throw t=Ld,Wc=!1,Ld=null,t}function et(t,e){var n=e[Xd];n===void 0&&(n=e[Xd]=new Set);var r=t+"__bubble";n.has(r)||(C2(e,t,2,!1),n.add(r))}function zf(t,e,n){var r=0;e&&(r|=4),C2(n,t,r,e)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function Ua(t){if(!t[Ul]){t[Ul]=!0,Rx.forEach(function(n){n!=="selectionchange"&&(Lb.has(n)||zf(n,!1,t),zf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ul]||(e[Ul]=!0,zf("selectionchange",!1,e))}}function C2(t,e,n,r){switch(a2(e)){case 1:var i=KE;break;case 4:i=qE;break;default:i=Kh}n=i.bind(null,e,n,t),i=void 0,!Pd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Uf(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var d=r.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(c===4)for(c=r.return;c!==null;){var g=c.tag;if((g===3||g===4)&&(g=c.stateNode.containerInfo,g===i||g.nodeType===8&&g.parentNode===i))return;c=c.return}for(;d!==null;){if(c=Ji(d),c===null)return;if(g=c.tag,g===5||g===6){r=o=c;continue e}d=d.parentNode}}r=r.return}$x(function(){var p=o,y=Xh(n),v=[];e:{var E=b2.get(t);if(E!==void 0){var _=Qh,N=t;switch(t){case"keypress":if(vc(n)===0)break e;case"keydown":case"keyup":_=db;break;case"focusin":N="focus",_=kf;break;case"focusout":N="blur",_=kf;break;case"beforeblur":case"afterblur":_=kf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=eb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=pb;break;case y2:case w2:case v2:_=rb;break;case E2:_=xb;break;case"scroll":_=QE;break;case"wheel":_=wb;break;case"copy":case"cut":case"paste":_=sb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=vg}var S=(e&4)!==0,k=!S&&t==="scroll",O=S?E!==null?E+"Capture":null:E;S=[];for(var T=p,R;T!==null;){R=T;var B=R.stateNode;if(R.tag===5&&B!==null&&(R=B,O!==null&&(B=Da(T,O),B!=null&&S.push(Wa(T,B,R)))),k)break;T=T.return}0<S.length&&(E=new _(E,N,null,n,y),v.push({event:E,listeners:S}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",E&&n!==kd&&(N=n.relatedTarget||n.fromElement)&&(Ji(N)||N[Gr]))break e;if((_||E)&&(E=y.window===y?y:(E=y.ownerDocument)?E.defaultView||E.parentWindow:window,_?(N=n.relatedTarget||n.toElement,_=p,N=N?Ji(N):null,N!==null&&(k=xs(N),N!==k||N.tag!==5&&N.tag!==6)&&(N=null)):(_=null,N=p),_!==N)){if(S=yg,B="onMouseLeave",O="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(S=vg,B="onPointerLeave",O="onPointerEnter",T="pointer"),k=_==null?E:Xs(_),R=N==null?E:Xs(N),E=new S(B,T+"leave",_,n,y),E.target=k,E.relatedTarget=R,B=null,Ji(y)===p&&(S=new S(O,T+"enter",N,n,y),S.target=R,S.relatedTarget=k,B=S),k=B,_&&N)t:{for(S=_,O=N,T=0,R=S;R;R=ks(R))T++;for(R=0,B=O;B;B=ks(B))R++;for(;0<T-R;)S=ks(S),T--;for(;0<R-T;)O=ks(O),R--;for(;T--;){if(S===O||O!==null&&S===O.alternate)break t;S=ks(S),O=ks(O)}S=null}else S=null;_!==null&&Rg(v,E,_,S,!1),N!==null&&k!==null&&Rg(v,k,N,S,!0)}}e:{if(E=p?Xs(p):window,_=E.nodeName&&E.nodeName.toLowerCase(),_==="select"||_==="input"&&E.type==="file")var F=Ab;else if(_g(E))if(h2)F=Nb;else{F=Ob;var V=Ib}else(_=E.nodeName)&&_.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(F=Tb);if(F&&(F=F(t,p))){d2(v,F,n,y);break e}V&&V(t,E,p),t==="focusout"&&(V=E._wrapperState)&&V.controlled&&E.type==="number"&&Od(E,"number",E.value)}switch(V=p?Xs(p):window,t){case"focusin":(_g(V)||V.contentEditable==="true")&&(js=V,Ud=p,_a=null);break;case"focusout":_a=Ud=js=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,Og(v,n,y);break;case"selectionchange":if(kb)break;case"keydown":case"keyup":Og(v,n,y)}var L;if(e0)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Hs?u2(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(c2&&n.locale!=="ko"&&(Hs||j!=="onCompositionStart"?j==="onCompositionEnd"&&Hs&&(L=l2()):(fi=y,qh="value"in fi?fi.value:fi.textContent,Hs=!0)),V=Xc(p,j),0<V.length&&(j=new wg(j,t,null,n,y),v.push({event:j,listeners:V}),L?j.data=L:(L=f2(n),L!==null&&(j.data=L)))),(L=Eb?bb(t,n):_b(t,n))&&(p=Xc(p,"onBeforeInput"),0<p.length&&(y=new wg("onBeforeInput","beforeinput",null,n,y),v.push({event:y,listeners:p}),y.data=L))}_2(v,e)})}function Wa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Da(t,n),o!=null&&r.unshift(Wa(t,o,i)),o=Da(t,e),o!=null&&r.push(Wa(t,o,i))),t=t.return}return r}function ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rg(t,e,n,r,i){for(var o=e._reactName,c=[];n!==null&&n!==r;){var d=n,g=d.alternate,p=d.stateNode;if(g!==null&&g===r)break;d.tag===5&&p!==null&&(d=p,i?(g=Da(n,o),g!=null&&c.unshift(Wa(n,g,d))):i||(g=Da(n,o),g!=null&&c.push(Wa(n,g,d)))),n=n.return}c.length!==0&&t.push({event:e,listeners:c})}var Bb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function Mg(t){return(typeof t=="string"?t:""+t).replace(Bb,`
`).replace(Fb,"")}function Wl(t,e,n){if(e=Mg(e),Mg(t)!==e&&n)throw Error(J(425))}function $c(){}var Vd=null,Hd=null;function jd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gd=typeof setTimeout=="function"?setTimeout:void 0,zb=typeof clearTimeout=="function"?clearTimeout:void 0,kg=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof kg<"u"?function(t){return kg.resolve(null).then(t).catch(Wb)}:Gd;function Wb(t){setTimeout(function(){throw t})}function Wf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ba(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ba(e)}function Ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),br="__reactFiber$"+Eo,Va="__reactProps$"+Eo,Gr="__reactContainer$"+Eo,Xd="__reactEvents$"+Eo,Vb="__reactListeners$"+Eo,Hb="__reactHandles$"+Eo;function Ji(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gr]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Dg(t);t!==null;){if(n=t[br])return n;t=Dg(t)}return e}t=n,n=t.parentNode}return null}function cl(t){return t=t[br]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Tu(t){return t[Va]||null}var $d=[],$s=-1;function Mi(t){return{current:t}}function nt(t){0>$s||(t.current=$d[$s],$d[$s]=null,$s--)}function Qe(t,e){$s++,$d[$s]=t.current,t.current=e}var Ti={},tn=Mi(Ti),En=Mi(!1),cs=Ti;function lo(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function Yc(){nt(En),nt(tn)}function Pg(t,e,n){if(tn.current!==Ti)throw Error(J(168));Qe(tn,e),Qe(En,n)}function S2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,IE(t)||"Unknown",i));return ht({},n,r)}function Zc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,cs=tn.current,Qe(tn,t),Qe(En,En.current),!0}function Lg(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=S2(t,e,cs),r.__reactInternalMemoizedMergedChildContext=t,nt(En),nt(tn),Qe(tn,t)):nt(En),Qe(En,n)}var Lr=null,Nu=!1,Vf=!1;function A2(t){Lr===null?Lr=[t]:Lr.push(t)}function jb(t){Nu=!0,A2(t)}function ki(){if(!Vf&&Lr!==null){Vf=!0;var t=0,e=je;try{var n=Lr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lr=null,Nu=!1}catch(i){throw Lr!==null&&(Lr=Lr.slice(t+1)),qx($h,ki),i}finally{je=e,Vf=!1}}return null}var Ys=[],Zs=0,Kc=null,qc=0,Vn=[],Hn=0,us=null,Fr=1,zr="";function $i(t,e){Ys[Zs++]=qc,Ys[Zs++]=Kc,Kc=t,qc=e}function I2(t,e,n){Vn[Hn++]=Fr,Vn[Hn++]=zr,Vn[Hn++]=us,us=t;var r=Fr;t=zr;var i=32-sr(r)-1;r&=~(1<<i),n+=1;var o=32-sr(e)+i;if(30<o){var c=i-i%5;o=(r&(1<<c)-1).toString(32),r>>=c,i-=c,Fr=1<<32-sr(e)+i|n<<i|r,zr=o+t}else Fr=1<<o|n<<i|r,zr=t}function n0(t){t.return!==null&&($i(t,1),I2(t,1,0))}function r0(t){for(;t===Kc;)Kc=Ys[--Zs],Ys[Zs]=null,qc=Ys[--Zs],Ys[Zs]=null;for(;t===us;)us=Vn[--Hn],Vn[Hn]=null,zr=Vn[--Hn],Vn[Hn]=null,Fr=Vn[--Hn],Vn[Hn]=null}var kn=null,Mn=null,st=!1,ir=null;function O2(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,Mn=Ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:Fr,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,Mn=null,!0):!1;default:return!1}}function Yd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zd(t){if(st){var e=Mn;if(e){var n=e;if(!Bg(t,e)){if(Yd(t))throw Error(J(418));e=Ei(n.nextSibling);var r=kn;e&&Bg(t,e)?O2(r,n):(t.flags=t.flags&-4097|2,st=!1,kn=t)}}else{if(Yd(t))throw Error(J(418));t.flags=t.flags&-4097|2,st=!1,kn=t}}}function Fg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function Vl(t){if(t!==kn)return!1;if(!st)return Fg(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jd(t.type,t.memoizedProps)),e&&(e=Mn)){if(Yd(t))throw T2(),Error(J(418));for(;e;)O2(t,e),e=Ei(e.nextSibling)}if(Fg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=Ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=kn?Ei(t.stateNode.nextSibling):null;return!0}function T2(){for(var t=Mn;t;)t=Ei(t.nextSibling)}function co(){Mn=kn=null,st=!1}function i0(t){ir===null?ir=[t]:ir.push(t)}var Gb=Zr.ReactCurrentBatchConfig;function Go(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(c){var d=i.refs;c===null?delete d[o]:d[o]=c},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Hl(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zg(t){var e=t._init;return e(t._payload)}function N2(t){function e(O,T){if(t){var R=O.deletions;R===null?(O.deletions=[T],O.flags|=16):R.push(T)}}function n(O,T){if(!t)return null;for(;T!==null;)e(O,T),T=T.sibling;return null}function r(O,T){for(O=new Map;T!==null;)T.key!==null?O.set(T.key,T):O.set(T.index,T),T=T.sibling;return O}function i(O,T){return O=Si(O,T),O.index=0,O.sibling=null,O}function o(O,T,R){return O.index=R,t?(R=O.alternate,R!==null?(R=R.index,R<T?(O.flags|=2,T):R):(O.flags|=2,T)):(O.flags|=1048576,T)}function c(O){return t&&O.alternate===null&&(O.flags|=2),O}function d(O,T,R,B){return T===null||T.tag!==6?(T=Zf(R,O.mode,B),T.return=O,T):(T=i(T,R),T.return=O,T)}function g(O,T,R,B){var F=R.type;return F===Vs?y(O,T,R.props.children,B,R.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ai&&zg(F)===T.type)?(B=i(T,R.props),B.ref=Go(O,T,R),B.return=O,B):(B=Ic(R.type,R.key,R.props,null,O.mode,B),B.ref=Go(O,T,R),B.return=O,B)}function p(O,T,R,B){return T===null||T.tag!==4||T.stateNode.containerInfo!==R.containerInfo||T.stateNode.implementation!==R.implementation?(T=Kf(R,O.mode,B),T.return=O,T):(T=i(T,R.children||[]),T.return=O,T)}function y(O,T,R,B,F){return T===null||T.tag!==7?(T=is(R,O.mode,B,F),T.return=O,T):(T=i(T,R),T.return=O,T)}function v(O,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Zf(""+T,O.mode,R),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ml:return R=Ic(T.type,T.key,T.props,null,O.mode,R),R.ref=Go(O,null,T),R.return=O,R;case Ws:return T=Kf(T,O.mode,R),T.return=O,T;case ai:var B=T._init;return v(O,B(T._payload),R)}if(ca(T)||Uo(T))return T=is(T,O.mode,R,null),T.return=O,T;Hl(O,T)}return null}function E(O,T,R,B){var F=T!==null?T.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return F!==null?null:d(O,T,""+R,B);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ml:return R.key===F?g(O,T,R,B):null;case Ws:return R.key===F?p(O,T,R,B):null;case ai:return F=R._init,E(O,T,F(R._payload),B)}if(ca(R)||Uo(R))return F!==null?null:y(O,T,R,B,null);Hl(O,R)}return null}function _(O,T,R,B,F){if(typeof B=="string"&&B!==""||typeof B=="number")return O=O.get(R)||null,d(T,O,""+B,F);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ml:return O=O.get(B.key===null?R:B.key)||null,g(T,O,B,F);case Ws:return O=O.get(B.key===null?R:B.key)||null,p(T,O,B,F);case ai:var V=B._init;return _(O,T,R,V(B._payload),F)}if(ca(B)||Uo(B))return O=O.get(R)||null,y(T,O,B,F,null);Hl(T,B)}return null}function N(O,T,R,B){for(var F=null,V=null,L=T,j=T=0,H=null;L!==null&&j<R.length;j++){L.index>j?(H=L,L=null):H=L.sibling;var Q=E(O,L,R[j],B);if(Q===null){L===null&&(L=H);break}t&&L&&Q.alternate===null&&e(O,L),T=o(Q,T,j),V===null?F=Q:V.sibling=Q,V=Q,L=H}if(j===R.length)return n(O,L),st&&$i(O,j),F;if(L===null){for(;j<R.length;j++)L=v(O,R[j],B),L!==null&&(T=o(L,T,j),V===null?F=L:V.sibling=L,V=L);return st&&$i(O,j),F}for(L=r(O,L);j<R.length;j++)H=_(L,O,j,R[j],B),H!==null&&(t&&H.alternate!==null&&L.delete(H.key===null?j:H.key),T=o(H,T,j),V===null?F=H:V.sibling=H,V=H);return t&&L.forEach(function(oe){return e(O,oe)}),st&&$i(O,j),F}function S(O,T,R,B){var F=Uo(R);if(typeof F!="function")throw Error(J(150));if(R=F.call(R),R==null)throw Error(J(151));for(var V=F=null,L=T,j=T=0,H=null,Q=R.next();L!==null&&!Q.done;j++,Q=R.next()){L.index>j?(H=L,L=null):H=L.sibling;var oe=E(O,L,Q.value,B);if(oe===null){L===null&&(L=H);break}t&&L&&oe.alternate===null&&e(O,L),T=o(oe,T,j),V===null?F=oe:V.sibling=oe,V=oe,L=H}if(Q.done)return n(O,L),st&&$i(O,j),F;if(L===null){for(;!Q.done;j++,Q=R.next())Q=v(O,Q.value,B),Q!==null&&(T=o(Q,T,j),V===null?F=Q:V.sibling=Q,V=Q);return st&&$i(O,j),F}for(L=r(O,L);!Q.done;j++,Q=R.next())Q=_(L,O,j,Q.value,B),Q!==null&&(t&&Q.alternate!==null&&L.delete(Q.key===null?j:Q.key),T=o(Q,T,j),V===null?F=Q:V.sibling=Q,V=Q);return t&&L.forEach(function(te){return e(O,te)}),st&&$i(O,j),F}function k(O,T,R,B){if(typeof R=="object"&&R!==null&&R.type===Vs&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Ml:e:{for(var F=R.key,V=T;V!==null;){if(V.key===F){if(F=R.type,F===Vs){if(V.tag===7){n(O,V.sibling),T=i(V,R.props.children),T.return=O,O=T;break e}}else if(V.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ai&&zg(F)===V.type){n(O,V.sibling),T=i(V,R.props),T.ref=Go(O,V,R),T.return=O,O=T;break e}n(O,V);break}else e(O,V);V=V.sibling}R.type===Vs?(T=is(R.props.children,O.mode,B,R.key),T.return=O,O=T):(B=Ic(R.type,R.key,R.props,null,O.mode,B),B.ref=Go(O,T,R),B.return=O,O=B)}return c(O);case Ws:e:{for(V=R.key;T!==null;){if(T.key===V)if(T.tag===4&&T.stateNode.containerInfo===R.containerInfo&&T.stateNode.implementation===R.implementation){n(O,T.sibling),T=i(T,R.children||[]),T.return=O,O=T;break e}else{n(O,T);break}else e(O,T);T=T.sibling}T=Kf(R,O.mode,B),T.return=O,O=T}return c(O);case ai:return V=R._init,k(O,T,V(R._payload),B)}if(ca(R))return N(O,T,R,B);if(Uo(R))return S(O,T,R,B);Hl(O,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,T!==null&&T.tag===6?(n(O,T.sibling),T=i(T,R),T.return=O,O=T):(n(O,T),T=Zf(R,O.mode,B),T.return=O,O=T),c(O)):n(O,T)}return k}var uo=N2(!0),R2=N2(!1),Qc=Mi(null),Jc=null,Ks=null,s0=null;function o0(){s0=Ks=Jc=null}function a0(t){var e=Qc.current;nt(Qc),t._currentValue=e}function Kd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function io(t,e){Jc=t,s0=Ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vn=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(s0!==t)if(t={context:t,memoizedValue:e,next:null},Ks===null){if(Jc===null)throw Error(J(308));Ks=t,Jc.dependencies={lanes:0,firstContext:t}}else Ks=Ks.next=t;return e}var es=null;function l0(t){es===null?es=[t]:es.push(t)}function M2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,l0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var li=!1;function c0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xr(t,n)}return i=r.interleaved,i===null?(e.next=e,l0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xr(t,n)}function Ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yh(t,n)}}function Ug(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eu(t,e,n,r){var i=t.updateQueue;li=!1;var o=i.firstBaseUpdate,c=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var g=d,p=g.next;g.next=null,c===null?o=p:c.next=p,c=g;var y=t.alternate;y!==null&&(y=y.updateQueue,d=y.lastBaseUpdate,d!==c&&(d===null?y.firstBaseUpdate=p:d.next=p,y.lastBaseUpdate=g))}if(o!==null){var v=i.baseState;c=0,y=p=g=null,d=o;do{var E=d.lane,_=d.eventTime;if((r&E)===E){y!==null&&(y=y.next={eventTime:_,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var N=t,S=d;switch(E=e,_=n,S.tag){case 1:if(N=S.payload,typeof N=="function"){v=N.call(_,v,E);break e}v=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=S.payload,E=typeof N=="function"?N.call(_,v,E):N,E==null)break e;v=ht({},v,E);break e;case 2:li=!0}}d.callback!==null&&d.lane!==0&&(t.flags|=64,E=i.effects,E===null?i.effects=[d]:E.push(d))}else _={eventTime:_,lane:E,tag:d.tag,payload:d.payload,callback:d.callback,next:null},y===null?(p=y=_,g=v):y=y.next=_,c|=E;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;E=d,d=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(1);if(y===null&&(g=v),i.baseState=g,i.firstBaseUpdate=p,i.lastBaseUpdate=y,e=i.shared.interleaved,e!==null){i=e;do c|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ds|=c,t.lanes=c,t.memoizedState=v}}function Wg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var ul={},Ar=Mi(ul),Ha=Mi(ul),ja=Mi(ul);function ts(t){if(t===ul)throw Error(J(174));return t}function u0(t,e){switch(Qe(ja,e),Qe(Ha,t),Qe(Ar,ul),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nd(e,t)}nt(Ar),Qe(Ar,e)}function fo(){nt(Ar),nt(Ha),nt(ja)}function D2(t){ts(ja.current);var e=ts(Ar.current),n=Nd(e,t.type);e!==n&&(Qe(Ha,t),Qe(Ar,n))}function f0(t){Ha.current===t&&(nt(Ar),nt(Ha))}var ut=Mi(0);function tu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hf=[];function d0(){for(var t=0;t<Hf.length;t++)Hf[t]._workInProgressVersionPrimary=null;Hf.length=0}var bc=Zr.ReactCurrentDispatcher,jf=Zr.ReactCurrentBatchConfig,fs=0,dt=null,Mt=null,Lt=null,nu=!1,Ca=!1,Ga=0,Xb=0;function qt(){throw Error(J(321))}function h0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function g0(t,e,n,r,i,o){if(fs=o,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bc.current=t===null||t.memoizedState===null?Kb:qb,t=n(r,i),Ca){o=0;do{if(Ca=!1,Ga=0,25<=o)throw Error(J(301));o+=1,Lt=Mt=null,e.updateQueue=null,bc.current=Qb,t=n(r,i)}while(Ca)}if(bc.current=ru,e=Mt!==null&&Mt.next!==null,fs=0,Lt=Mt=dt=null,nu=!1,e)throw Error(J(300));return t}function p0(){var t=Ga!==0;return Ga=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?dt.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Yn(){if(Mt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Lt===null?dt.memoizedState:Lt.next;if(e!==null)Lt=e,Mt=t;else{if(t===null)throw Error(J(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Lt===null?dt.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Xa(t,e){return typeof e=="function"?e(t):e}function Gf(t){var e=Yn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var c=i.next;i.next=o.next,o.next=c}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var d=c=null,g=null,p=o;do{var y=p.lane;if((fs&y)===y)g!==null&&(g=g.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var v={lane:y,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};g===null?(d=g=v,c=r):g=g.next=v,dt.lanes|=y,ds|=y}p=p.next}while(p!==null&&p!==o);g===null?c=r:g.next=d,ar(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=g,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,dt.lanes|=o,ds|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xf(t){var e=Yn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var c=i=i.next;do o=t(o,c.action),c=c.next;while(c!==i);ar(o,e.memoizedState)||(vn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function P2(){}function L2(t,e){var n=dt,r=Yn(),i=e(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,vn=!0),r=r.queue,m0(z2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,$a(9,F2.bind(null,n,r,i,e),void 0,null),Ft===null)throw Error(J(349));fs&30||B2(n,e,i)}return i}function B2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function F2(t,e,n,r){e.value=n,e.getSnapshot=r,U2(e)&&W2(t)}function z2(t,e,n){return n(function(){U2(e)&&W2(t)})}function U2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function W2(t){var e=Xr(t,1);e!==null&&or(e,t,1,-1)}function Vg(t){var e=vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:t},e.queue=t,t=t.dispatch=Zb.bind(null,dt,t),[e.memoizedState,t]}function $a(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function V2(){return Yn().memoizedState}function _c(t,e,n,r){var i=vr();dt.flags|=t,i.memoizedState=$a(1|e,n,void 0,r===void 0?null:r)}function Ru(t,e,n,r){var i=Yn();r=r===void 0?null:r;var o=void 0;if(Mt!==null){var c=Mt.memoizedState;if(o=c.destroy,r!==null&&h0(r,c.deps)){i.memoizedState=$a(e,n,o,r);return}}dt.flags|=t,i.memoizedState=$a(1|e,n,o,r)}function Hg(t,e){return _c(8390656,8,t,e)}function m0(t,e){return Ru(2048,8,t,e)}function H2(t,e){return Ru(4,2,t,e)}function j2(t,e){return Ru(4,4,t,e)}function G2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function X2(t,e,n){return n=n!=null?n.concat([t]):null,Ru(4,4,G2.bind(null,e,t),n)}function x0(){}function $2(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&h0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y2(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&h0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z2(t,e,n){return fs&21?(ar(n,e)||(n=e2(),dt.lanes|=n,ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n)}function $b(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=jf.transition;jf.transition={};try{t(!1),e()}finally{je=n,jf.transition=r}}function K2(){return Yn().memoizedState}function Yb(t,e,n){var r=Ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},q2(t))Q2(e,n);else if(n=M2(t,e,n,r),n!==null){var i=on();or(n,t,r,i),J2(n,e,r)}}function Zb(t,e,n){var r=Ci(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(q2(t))Q2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var c=e.lastRenderedState,d=o(c,n);if(i.hasEagerState=!0,i.eagerState=d,ar(d,c)){var g=e.interleaved;g===null?(i.next=i,l0(e)):(i.next=g.next,g.next=i),e.interleaved=i;return}}catch{}finally{}n=M2(t,e,i,r),n!==null&&(i=on(),or(n,t,r,i),J2(n,e,r))}}function q2(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function Q2(t,e){Ca=nu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function J2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yh(t,n)}}var ru={readContext:$n,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},Kb={readContext:$n,useCallback:function(t,e){return vr().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:Hg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_c(4194308,4,G2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _c(4194308,4,t,e)},useInsertionEffect:function(t,e){return _c(4,2,t,e)},useMemo:function(t,e){var n=vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Yb.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var e=vr();return t={current:t},e.memoizedState=t},useState:Vg,useDebugValue:x0,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=Vg(!1),e=t[0];return t=$b.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dt,i=vr();if(st){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Ft===null)throw Error(J(349));fs&30||B2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Hg(z2.bind(null,r,o,t),[t]),r.flags|=2048,$a(9,F2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=vr(),e=Ft.identifierPrefix;if(st){var n=zr,r=Fr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ga++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Xb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qb={readContext:$n,useCallback:$2,useContext:$n,useEffect:m0,useImperativeHandle:X2,useInsertionEffect:H2,useLayoutEffect:j2,useMemo:Y2,useReducer:Gf,useRef:V2,useState:function(){return Gf(Xa)},useDebugValue:x0,useDeferredValue:function(t){var e=Yn();return Z2(e,Mt.memoizedState,t)},useTransition:function(){var t=Gf(Xa)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:P2,useSyncExternalStore:L2,useId:K2,unstable_isNewReconciler:!1},Qb={readContext:$n,useCallback:$2,useContext:$n,useEffect:m0,useImperativeHandle:X2,useInsertionEffect:H2,useLayoutEffect:j2,useMemo:Y2,useReducer:Xf,useRef:V2,useState:function(){return Xf(Xa)},useDebugValue:x0,useDeferredValue:function(t){var e=Yn();return Mt===null?e.memoizedState=t:Z2(e,Mt.memoizedState,t)},useTransition:function(){var t=Xf(Xa)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:P2,useSyncExternalStore:L2,useId:K2,unstable_isNewReconciler:!1};function tr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mu={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),i=Ci(t),o=Wr(r,i);o.payload=e,n!=null&&(o.callback=n),e=bi(t,o,i),e!==null&&(or(e,t,i,r),Ec(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),i=Ci(t),o=Wr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=bi(t,o,i),e!==null&&(or(e,t,i,r),Ec(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=Ci(t),i=Wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=bi(t,i,r),e!==null&&(or(e,t,r,n),Ec(e,t,r))}};function jg(t,e,n,r,i,o,c){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,c):e.prototype&&e.prototype.isPureReactComponent?!za(n,r)||!za(i,o):!0}function ey(t,e,n){var r=!1,i=Ti,o=e.contextType;return typeof o=="object"&&o!==null?o=$n(o):(i=bn(e)?cs:tn.current,r=e.contextTypes,o=(r=r!=null)?lo(t,i):Ti),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Gg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mu.enqueueReplaceState(e,e.state,null)}function Qd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},c0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=$n(o):(o=bn(e)?cs:tn.current,i.context=lo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(qd(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Mu.enqueueReplaceState(i,i.state,null),eu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ho(t,e){try{var n="",r=e;do n+=AE(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function $f(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jb=typeof WeakMap=="function"?WeakMap:Map;function ty(t,e,n){n=Wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){su||(su=!0,ch=r),Jd(t,e)},n}function ny(t,e,n){n=Wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Jd(t,e),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),n}function Xg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=h_.bind(null,t,e,n),e.then(t,t))}function $g(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Yg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wr(-1,1),e.tag=2,bi(n,e,1))),n.lanes|=1),t)}var e_=Zr.ReactCurrentOwner,vn=!1;function sn(t,e,n,r){e.child=t===null?R2(e,null,n,r):uo(e,t.child,n,r)}function Zg(t,e,n,r,i){n=n.render;var o=e.ref;return io(e,i),r=g0(t,e,n,r,o,i),n=p0(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(st&&n&&n0(e),e.flags|=1,sn(t,e,r,i),e.child)}function Kg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!S0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ry(t,e,o,r,i)):(t=Ic(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:za,n(c,r)&&t.ref===e.ref)return $r(t,e,i)}return e.flags|=1,t=Si(o,r),t.ref=e.ref,t.return=e,e.child=t}function ry(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(za(o,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(vn=!0);else return e.lanes=t.lanes,$r(t,e,i)}return eh(t,e,n,r,i)}function iy(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Qs,Nn),Nn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(Qs,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Qe(Qs,Nn),Nn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Qe(Qs,Nn),Nn|=r;return sn(t,e,i,n),e.child}function sy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function eh(t,e,n,r,i){var o=bn(n)?cs:tn.current;return o=lo(e,o),io(e,i),n=g0(t,e,n,r,o,i),r=p0(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(st&&r&&n0(e),e.flags|=1,sn(t,e,n,i),e.child)}function qg(t,e,n,r,i){if(bn(n)){var o=!0;Zc(e)}else o=!1;if(io(e,i),e.stateNode===null)Cc(t,e),ey(e,n,r),Qd(e,n,r,i),r=!0;else if(t===null){var c=e.stateNode,d=e.memoizedProps;c.props=d;var g=c.context,p=n.contextType;typeof p=="object"&&p!==null?p=$n(p):(p=bn(n)?cs:tn.current,p=lo(e,p));var y=n.getDerivedStateFromProps,v=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function";v||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==r||g!==p)&&Gg(e,c,r,p),li=!1;var E=e.memoizedState;c.state=E,eu(e,r,c,i),g=e.memoizedState,d!==r||E!==g||En.current||li?(typeof y=="function"&&(qd(e,n,y,r),g=e.memoizedState),(d=li||jg(e,n,d,r,E,g,p))?(v||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=g),c.props=r,c.state=g,c.context=p,r=d):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,k2(t,e),d=e.memoizedProps,p=e.type===e.elementType?d:tr(e.type,d),c.props=p,v=e.pendingProps,E=c.context,g=n.contextType,typeof g=="object"&&g!==null?g=$n(g):(g=bn(n)?cs:tn.current,g=lo(e,g));var _=n.getDerivedStateFromProps;(y=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==v||E!==g)&&Gg(e,c,r,g),li=!1,E=e.memoizedState,c.state=E,eu(e,r,c,i);var N=e.memoizedState;d!==v||E!==N||En.current||li?(typeof _=="function"&&(qd(e,n,_,r),N=e.memoizedState),(p=li||jg(e,n,p,r,E,N,g)||!1)?(y||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,N,g),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,N,g)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),c.props=r,c.state=N,c.context=g,r=p):(typeof c.componentDidUpdate!="function"||d===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),r=!1)}return th(t,e,n,r,o,i)}function th(t,e,n,r,i,o){sy(t,e);var c=(e.flags&128)!==0;if(!r&&!c)return i&&Lg(e,n,!1),$r(t,e,o);r=e.stateNode,e_.current=e;var d=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&c?(e.child=uo(e,t.child,null,o),e.child=uo(e,null,d,o)):sn(t,e,d,o),e.memoizedState=r.state,i&&Lg(e,n,!0),e.child}function oy(t){var e=t.stateNode;e.pendingContext?Pg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pg(t,e.context,!1),u0(t,e.containerInfo)}function Qg(t,e,n,r,i){return co(),i0(i),e.flags|=256,sn(t,e,n,r),e.child}var nh={dehydrated:null,treeContext:null,retryLane:0};function rh(t){return{baseLanes:t,cachePool:null,transitions:null}}function ay(t,e,n){var r=e.pendingProps,i=ut.current,o=!1,c=(e.flags&128)!==0,d;if((d=c)||(d=t!==null&&t.memoizedState===null?!1:(i&2)!==0),d?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(ut,i&1),t===null)return Zd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,t=r.fallback,o?(r=e.mode,o=e.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=Pu(c,r,0,null),t=is(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=rh(n),e.memoizedState=nh,t):y0(e,c));if(i=t.memoizedState,i!==null&&(d=i.dehydrated,d!==null))return t_(t,e,c,r,d,i,n);if(o){o=r.fallback,c=e.mode,i=t.child,d=i.sibling;var g={mode:"hidden",children:r.children};return!(c&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=g,e.deletions=null):(r=Si(i,g),r.subtreeFlags=i.subtreeFlags&14680064),d!==null?o=Si(d,o):(o=is(o,c,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,c=t.child.memoizedState,c=c===null?rh(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=t.childLanes&~n,e.memoizedState=nh,r}return o=t.child,t=o.sibling,r=Si(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function y0(t,e){return e=Pu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jl(t,e,n,r){return r!==null&&i0(r),uo(e,t.child,null,n),t=y0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function t_(t,e,n,r,i,o,c){if(n)return e.flags&256?(e.flags&=-257,r=$f(Error(J(422))),jl(t,e,c,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Pu({mode:"visible",children:r.children},i,0,null),o=is(o,i,c,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&uo(e,t.child,null,c),e.child.memoizedState=rh(c),e.memoizedState=nh,o);if(!(e.mode&1))return jl(t,e,c,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var d=r.dgst;return r=d,o=Error(J(419)),r=$f(o,r,void 0),jl(t,e,c,r)}if(d=(c&t.childLanes)!==0,vn||d){if(r=Ft,r!==null){switch(c&-c){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|c)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xr(t,i),or(r,t,i,-1))}return C0(),r=$f(Error(J(421))),jl(t,e,c,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=g_.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Mn=Ei(i.nextSibling),kn=e,st=!0,ir=null,t!==null&&(Vn[Hn++]=Fr,Vn[Hn++]=zr,Vn[Hn++]=us,Fr=t.id,zr=t.overflow,us=e),e=y0(e,r.children),e.flags|=4096,e)}function Jg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kd(t.return,e,n)}function Yf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ly(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(sn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jg(t,n,e);else if(t.tag===19)Jg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yf(e,!0,n,null,o);break;case"together":Yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function n_(t,e,n){switch(e.tag){case 3:oy(e),co();break;case 5:D2(e);break;case 1:bn(e.type)&&Zc(e);break;case 4:u0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(Qc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?ay(t,e,n):(Qe(ut,ut.current&1),t=$r(t,e,n),t!==null?t.sibling:null);Qe(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ly(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,iy(t,e,n)}return $r(t,e,n)}var cy,ih,uy,fy;cy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ih=function(){};uy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ts(Ar.current);var o=null;switch(n){case"input":i=Ad(t,i),r=Ad(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=Td(t,i),r=Td(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$c)}Rd(n,r);var c;n=null;for(p in i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var d=i[p];for(c in d)d.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Ma.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in r){var g=r[p];if(d=i!=null?i[p]:void 0,r.hasOwnProperty(p)&&g!==d&&(g!=null||d!=null))if(p==="style")if(d){for(c in d)!d.hasOwnProperty(c)||g&&g.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in g)g.hasOwnProperty(c)&&d[c]!==g[c]&&(n||(n={}),n[c]=g[c])}else n||(o||(o=[]),o.push(p,n)),n=g;else p==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,d=d?d.__html:void 0,g!=null&&d!==g&&(o=o||[]).push(p,g)):p==="children"?typeof g!="string"&&typeof g!="number"||(o=o||[]).push(p,""+g):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Ma.hasOwnProperty(p)?(g!=null&&p==="onScroll"&&et("scroll",t),o||d===g||(o=[])):(o=o||[]).push(p,g))}n&&(o=o||[]).push("style",n);var p=o;(e.updateQueue=p)&&(e.flags|=4)}};fy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xo(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function r_(t,e,n){var r=e.pendingProps;switch(r0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return bn(e.type)&&Yc(),Qt(e),null;case 3:return r=e.stateNode,fo(),nt(En),nt(tn),d0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(dh(ir),ir=null))),ih(t,e),Qt(e),null;case 5:f0(e);var i=ts(ja.current);if(n=e.type,t!==null&&e.stateNode!=null)uy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Qt(e),null}if(t=ts(Ar.current),Vl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[br]=e,r[Va]=o,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<fa.length;i++)et(fa[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":lg(r,o),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},et("invalid",r);break;case"textarea":ug(r,o),et("invalid",r)}Rd(n,o),i=null;for(var c in o)if(o.hasOwnProperty(c)){var d=o[c];c==="children"?typeof d=="string"?r.textContent!==d&&(o.suppressHydrationWarning!==!0&&Wl(r.textContent,d,t),i=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&Wl(r.textContent,d,t),i=["children",""+d]):Ma.hasOwnProperty(c)&&d!=null&&c==="onScroll"&&et("scroll",r)}switch(n){case"input":kl(r),cg(r,o,!0);break;case"textarea":kl(r),fg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=$c)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),n==="select"&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[br]=e,t[Va]=r,cy(t,e,!1,!1),e.stateNode=t;e:{switch(c=Md(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<fa.length;i++)et(fa[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":lg(t,r),i=Ad(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),et("invalid",t);break;case"textarea":ug(t,r),i=Td(t,r),et("invalid",t);break;default:i=r}Rd(n,i),d=i;for(o in d)if(d.hasOwnProperty(o)){var g=d[o];o==="style"?Vx(t,g):o==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&Ux(t,g)):o==="children"?typeof g=="string"?(n!=="textarea"||g!=="")&&ka(t,g):typeof g=="number"&&ka(t,""+g):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ma.hasOwnProperty(o)?g!=null&&o==="onScroll"&&et("scroll",t):g!=null&&Vh(t,o,g,c))}switch(n){case"input":kl(t),cg(t,r,!1);break;case"textarea":kl(t),fg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?eo(t,!!r.multiple,o,!1):r.defaultValue!=null&&eo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$c)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)fy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=ts(ja.current),ts(Ar.current),Vl(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(o=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:Wl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return Qt(e),null;case 13:if(nt(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Mn!==null&&e.mode&1&&!(e.flags&128))T2(),co(),e.flags|=98560,o=!1;else if(o=Vl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[br]=e}else co(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),o=!1}else ir!==null&&(dh(ir),ir=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?kt===0&&(kt=3):C0())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return fo(),ih(t,e),t===null&&Ua(e.stateNode.containerInfo),Qt(e),null;case 10:return a0(e.type._context),Qt(e),null;case 17:return bn(e.type)&&Yc(),Qt(e),null;case 19:if(nt(ut),o=e.memoizedState,o===null)return Qt(e),null;if(r=(e.flags&128)!==0,c=o.rendering,c===null)if(r)Xo(o,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(c=tu(t),c!==null){for(e.flags|=128,Xo(o,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,t=c.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(ut,ut.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ct()>go&&(e.flags|=128,r=!0,Xo(o,!1),e.lanes=4194304)}else{if(!r)if(t=tu(c),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!st)return Qt(e),null}else 2*Ct()-o.renderingStartTime>go&&n!==1073741824&&(e.flags|=128,r=!0,Xo(o,!1),e.lanes=4194304);o.isBackwards?(c.sibling=e.child,e.child=c):(n=o.last,n!==null?n.sibling=c:e.child=c,o.last=c)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ct(),e.sibling=null,n=ut.current,Qe(ut,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return _0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function i_(t,e){switch(r0(e),e.tag){case 1:return bn(e.type)&&Yc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fo(),nt(En),nt(tn),d0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return f0(e),null;case 13:if(nt(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(ut),null;case 4:return fo(),null;case 10:return a0(e.type._context),null;case 22:case 23:return _0(),null;case 24:return null;default:return null}}var Gl=!1,Jt=!1,s_=typeof WeakSet=="function"?WeakSet:Set,de=null;function qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function sh(t,e,n){try{n()}catch(r){wt(t,e,r)}}var ep=!1;function o_(t,e){if(Vd=jc,t=m2(),t0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,d=-1,g=-1,p=0,y=0,v=t,E=null;t:for(;;){for(var _;v!==n||i!==0&&v.nodeType!==3||(d=c+i),v!==o||r!==0&&v.nodeType!==3||(g=c+r),v.nodeType===3&&(c+=v.nodeValue.length),(_=v.firstChild)!==null;)E=v,v=_;for(;;){if(v===t)break t;if(E===n&&++p===i&&(d=c),E===o&&++y===r&&(g=c),(_=v.nextSibling)!==null)break;v=E,E=v.parentNode}v=_}n=d===-1||g===-1?null:{start:d,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hd={focusedElem:t,selectionRange:n},jc=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var S=N.memoizedProps,k=N.memoizedState,O=e.stateNode,T=O.getSnapshotBeforeUpdate(e.elementType===e.type?S:tr(e.type,S),k);O.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(B){wt(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return N=ep,ep=!1,N}function Sa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&sh(e,n,o)}i=i.next}while(i!==r)}}function ku(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function oh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dy(t){var e=t.alternate;e!==null&&(t.alternate=null,dy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[Va],delete e[Xd],delete e[Vb],delete e[Hb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hy(t){return t.tag===5||t.tag===3||t.tag===4}function tp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ah(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$c));else if(r!==4&&(t=t.child,t!==null))for(ah(t,e,n),t=t.sibling;t!==null;)ah(t,e,n),t=t.sibling}function lh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lh(t,e,n),t=t.sibling;t!==null;)lh(t,e,n),t=t.sibling}var Ht=null,nr=!1;function ii(t,e,n){for(n=n.child;n!==null;)gy(t,e,n),n=n.sibling}function gy(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Su,n)}catch{}switch(n.tag){case 5:Jt||qs(n,e);case 6:var r=Ht,i=nr;Ht=null,ii(t,e,n),Ht=r,nr=i,Ht!==null&&(nr?(t=Ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(nr?(t=Ht,n=n.stateNode,t.nodeType===8?Wf(t.parentNode,n):t.nodeType===1&&Wf(t,n),Ba(t)):Wf(Ht,n.stateNode));break;case 4:r=Ht,i=nr,Ht=n.stateNode.containerInfo,nr=!0,ii(t,e,n),Ht=r,nr=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&sh(n,e,c),i=i.next}while(i!==r)}ii(t,e,n);break;case 1:if(!Jt&&(qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){wt(n,e,d)}ii(t,e,n);break;case 21:ii(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,ii(t,e,n),Jt=r):ii(t,e,n);break;default:ii(t,e,n)}}function np(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new s_),e.forEach(function(r){var i=p_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,c=e,d=c;e:for(;d!==null;){switch(d.tag){case 5:Ht=d.stateNode,nr=!1;break e;case 3:Ht=d.stateNode.containerInfo,nr=!0;break e;case 4:Ht=d.stateNode.containerInfo,nr=!0;break e}d=d.return}if(Ht===null)throw Error(J(160));gy(o,c,i),Ht=null,nr=!1;var g=i.alternate;g!==null&&(g.return=null),i.return=null}catch(p){wt(i,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)py(e,t),e=e.sibling}function py(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(e,t),yr(t),r&4){try{Sa(3,t,t.return),ku(3,t)}catch(S){wt(t,t.return,S)}try{Sa(5,t,t.return)}catch(S){wt(t,t.return,S)}}break;case 1:er(e,t),yr(t),r&512&&n!==null&&qs(n,n.return);break;case 5:if(er(e,t),yr(t),r&512&&n!==null&&qs(n,n.return),t.flags&32){var i=t.stateNode;try{ka(i,"")}catch(S){wt(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,c=n!==null?n.memoizedProps:o,d=t.type,g=t.updateQueue;if(t.updateQueue=null,g!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&Bx(i,o),Md(d,c);var p=Md(d,o);for(c=0;c<g.length;c+=2){var y=g[c],v=g[c+1];y==="style"?Vx(i,v):y==="dangerouslySetInnerHTML"?Ux(i,v):y==="children"?ka(i,v):Vh(i,y,v,p)}switch(d){case"input":Id(i,o);break;case"textarea":Fx(i,o);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var _=o.value;_!=null?eo(i,!!o.multiple,_,!1):E!==!!o.multiple&&(o.defaultValue!=null?eo(i,!!o.multiple,o.defaultValue,!0):eo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Va]=o}catch(S){wt(t,t.return,S)}}break;case 6:if(er(e,t),yr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(S){wt(t,t.return,S)}}break;case 3:if(er(e,t),yr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ba(e.containerInfo)}catch(S){wt(t,t.return,S)}break;case 4:er(e,t),yr(t);break;case 13:er(e,t),yr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(E0=Ct())),r&4&&np(t);break;case 22:if(y=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(p=Jt)||y,er(e,t),Jt=p):er(e,t),yr(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!y&&t.mode&1)for(de=t,y=t.child;y!==null;){for(v=de=y;de!==null;){switch(E=de,_=E.child,E.tag){case 0:case 11:case 14:case 15:Sa(4,E,E.return);break;case 1:qs(E,E.return);var N=E.stateNode;if(typeof N.componentWillUnmount=="function"){r=E,n=E.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(S){wt(r,n,S)}}break;case 5:qs(E,E.return);break;case 22:if(E.memoizedState!==null){ip(v);continue}}_!==null?(_.return=E,de=_):ip(v)}y=y.sibling}e:for(y=null,v=t;;){if(v.tag===5){if(y===null){y=v;try{i=v.stateNode,p?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=v.stateNode,g=v.memoizedProps.style,c=g!=null&&g.hasOwnProperty("display")?g.display:null,d.style.display=Wx("display",c))}catch(S){wt(t,t.return,S)}}}else if(v.tag===6){if(y===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(S){wt(t,t.return,S)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;y===v&&(y=null),v=v.return}y===v&&(y=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:er(e,t),yr(t),r&4&&np(t);break;case 21:break;default:er(e,t),yr(t)}}function yr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hy(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ka(i,""),r.flags&=-33);var o=tp(t);lh(t,o,i);break;case 3:case 4:var c=r.stateNode.containerInfo,d=tp(t);ah(t,d,c);break;default:throw Error(J(161))}}catch(g){wt(t,t.return,g)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function a_(t,e,n){de=t,my(t)}function my(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var c=i.memoizedState!==null||Gl;if(!c){var d=i.alternate,g=d!==null&&d.memoizedState!==null||Jt;d=Gl;var p=Jt;if(Gl=c,(Jt=g)&&!p)for(de=i;de!==null;)c=de,g=c.child,c.tag===22&&c.memoizedState!==null?sp(i):g!==null?(g.return=c,de=g):sp(i);for(;o!==null;)de=o,my(o),o=o.sibling;de=i,Gl=d,Jt=p}rp(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):rp(t)}}function rp(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||ku(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Wg(e,o,r);break;case 3:var c=e.updateQueue;if(c!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wg(e,c,n)}break;case 5:var d=e.stateNode;if(n===null&&e.flags&4){n=d;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&n.focus();break;case"img":g.src&&(n.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var y=p.memoizedState;if(y!==null){var v=y.dehydrated;v!==null&&Ba(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Jt||e.flags&512&&oh(e)}catch(E){wt(e,e.return,E)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function ip(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function sp(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ku(4,e)}catch(g){wt(e,n,g)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(g){wt(e,i,g)}}var o=e.return;try{oh(e)}catch(g){wt(e,o,g)}break;case 5:var c=e.return;try{oh(e)}catch(g){wt(e,c,g)}}}catch(g){wt(e,e.return,g)}if(e===t){de=null;break}var d=e.sibling;if(d!==null){d.return=e.return,de=d;break}de=e.return}}var l_=Math.ceil,iu=Zr.ReactCurrentDispatcher,w0=Zr.ReactCurrentOwner,Xn=Zr.ReactCurrentBatchConfig,Pe=0,Ft=null,Ot=null,Gt=0,Nn=0,Qs=Mi(0),kt=0,Ya=null,ds=0,Du=0,v0=0,Aa=null,xn=null,E0=0,go=1/0,Pr=null,su=!1,ch=null,_i=null,Xl=!1,di=null,ou=0,Ia=0,uh=null,Sc=-1,Ac=0;function on(){return Pe&6?Ct():Sc!==-1?Sc:Sc=Ct()}function Ci(t){return t.mode&1?Pe&2&&Gt!==0?Gt&-Gt:Gb.transition!==null?(Ac===0&&(Ac=e2()),Ac):(t=je,t!==0||(t=window.event,t=t===void 0?16:a2(t.type)),t):1}function or(t,e,n,r){if(50<Ia)throw Ia=0,uh=null,Error(J(185));al(t,n,r),(!(Pe&2)||t!==Ft)&&(t===Ft&&(!(Pe&2)&&(Du|=n),kt===4&&ui(t,Gt)),_n(t,r),n===1&&Pe===0&&!(e.mode&1)&&(go=Ct()+500,Nu&&ki()))}function _n(t,e){var n=t.callbackNode;GE(t,e);var r=Hc(t,t===Ft?Gt:0);if(r===0)n!==null&&gg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&gg(n),e===1)t.tag===0?jb(op.bind(null,t)):A2(op.bind(null,t)),Ub(function(){!(Pe&6)&&ki()}),n=null;else{switch(t2(r)){case 1:n=$h;break;case 4:n=Qx;break;case 16:n=Vc;break;case 536870912:n=Jx;break;default:n=Vc}n=Cy(n,xy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xy(t,e){if(Sc=-1,Ac=0,Pe&6)throw Error(J(327));var n=t.callbackNode;if(so()&&t.callbackNode!==n)return null;var r=Hc(t,t===Ft?Gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=au(t,r);else{e=r;var i=Pe;Pe|=2;var o=wy();(Ft!==t||Gt!==e)&&(Pr=null,go=Ct()+500,rs(t,e));do try{f_();break}catch(d){yy(t,d)}while(1);o0(),iu.current=o,Pe=i,Ot!==null?e=0:(Ft=null,Gt=0,e=kt)}if(e!==0){if(e===2&&(i=Bd(t),i!==0&&(r=i,e=fh(t,i))),e===1)throw n=Ya,rs(t,0),ui(t,r),_n(t,Ct()),n;if(e===6)ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!c_(i)&&(e=au(t,r),e===2&&(o=Bd(t),o!==0&&(r=o,e=fh(t,o))),e===1))throw n=Ya,rs(t,0),ui(t,r),_n(t,Ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Yi(t,xn,Pr);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=E0+500-Ct(),10<e)){if(Hc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gd(Yi.bind(null,t,xn,Pr),e);break}Yi(t,xn,Pr);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var c=31-sr(r);o=1<<c,c=e[c],c>i&&(i=c),r&=~o}if(r=i,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*l_(r/1960))-r,10<r){t.timeoutHandle=Gd(Yi.bind(null,t,xn,Pr),r);break}Yi(t,xn,Pr);break;case 5:Yi(t,xn,Pr);break;default:throw Error(J(329))}}}return _n(t,Ct()),t.callbackNode===n?xy.bind(null,t):null}function fh(t,e){var n=Aa;return t.current.memoizedState.isDehydrated&&(rs(t,e).flags|=256),t=au(t,e),t!==2&&(e=xn,xn=n,e!==null&&dh(e)),t}function dh(t){xn===null?xn=t:xn.push.apply(xn,t)}function c_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~v0,e&=~Du,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function op(t){if(Pe&6)throw Error(J(327));so();var e=Hc(t,0);if(!(e&1))return _n(t,Ct()),null;var n=au(t,e);if(t.tag!==0&&n===2){var r=Bd(t);r!==0&&(e=r,n=fh(t,r))}if(n===1)throw n=Ya,rs(t,0),ui(t,e),_n(t,Ct()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yi(t,xn,Pr),_n(t,Ct()),null}function b0(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(go=Ct()+500,Nu&&ki())}}function hs(t){di!==null&&di.tag===0&&!(Pe&6)&&so();var e=Pe;Pe|=1;var n=Xn.transition,r=je;try{if(Xn.transition=null,je=1,t)return t()}finally{je=r,Xn.transition=n,Pe=e,!(Pe&6)&&ki()}}function _0(){Nn=Qs.current,nt(Qs)}function rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zb(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(r0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yc();break;case 3:fo(),nt(En),nt(tn),d0();break;case 5:f0(r);break;case 4:fo();break;case 13:nt(ut);break;case 19:nt(ut);break;case 10:a0(r.type._context);break;case 22:case 23:_0()}n=n.return}if(Ft=t,Ot=t=Si(t.current,null),Gt=Nn=e,kt=0,Ya=null,v0=Du=ds=0,xn=Aa=null,es!==null){for(e=0;e<es.length;e++)if(n=es[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var c=o.next;o.next=i,r.next=c}n.pending=r}es=null}return t}function yy(t,e){do{var n=Ot;try{if(o0(),bc.current=ru,nu){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nu=!1}if(fs=0,Lt=Mt=dt=null,Ca=!1,Ga=0,w0.current=null,n===null||n.return===null){kt=1,Ya=e,Ot=null;break}e:{var o=t,c=n.return,d=n,g=e;if(e=Gt,d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var p=g,y=d,v=y.tag;if(!(y.mode&1)&&(v===0||v===11||v===15)){var E=y.alternate;E?(y.updateQueue=E.updateQueue,y.memoizedState=E.memoizedState,y.lanes=E.lanes):(y.updateQueue=null,y.memoizedState=null)}var _=$g(c);if(_!==null){_.flags&=-257,Yg(_,c,d,o,e),_.mode&1&&Xg(o,p,e),e=_,g=p;var N=e.updateQueue;if(N===null){var S=new Set;S.add(g),e.updateQueue=S}else N.add(g);break e}else{if(!(e&1)){Xg(o,p,e),C0();break e}g=Error(J(426))}}else if(st&&d.mode&1){var k=$g(c);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Yg(k,c,d,o,e),i0(ho(g,d));break e}}o=g=ho(g,d),kt!==4&&(kt=2),Aa===null?Aa=[o]:Aa.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var O=ty(o,g,e);Ug(o,O);break e;case 1:d=g;var T=o.type,R=o.stateNode;if(!(o.flags&128)&&(typeof T.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(_i===null||!_i.has(R)))){o.flags|=65536,e&=-e,o.lanes|=e;var B=ny(o,d,e);Ug(o,B);break e}}o=o.return}while(o!==null)}Ey(n)}catch(F){e=F,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(1)}function wy(){var t=iu.current;return iu.current=ru,t===null?ru:t}function C0(){(kt===0||kt===3||kt===2)&&(kt=4),Ft===null||!(ds&268435455)&&!(Du&268435455)||ui(Ft,Gt)}function au(t,e){var n=Pe;Pe|=2;var r=wy();(Ft!==t||Gt!==e)&&(Pr=null,rs(t,e));do try{u_();break}catch(i){yy(t,i)}while(1);if(o0(),Pe=n,iu.current=r,Ot!==null)throw Error(J(261));return Ft=null,Gt=0,kt}function u_(){for(;Ot!==null;)vy(Ot)}function f_(){for(;Ot!==null&&!LE();)vy(Ot)}function vy(t){var e=_y(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?Ey(t):Ot=e,w0.current=null}function Ey(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=i_(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,Ot=null;return}}else if(n=r_(n,e,Nn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);kt===0&&(kt=5)}function Yi(t,e,n){var r=je,i=Xn.transition;try{Xn.transition=null,je=1,d_(t,e,n,r)}finally{Xn.transition=i,je=r}return null}function d_(t,e,n,r){do so();while(di!==null);if(Pe&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(XE(t,o),t===Ft&&(Ot=Ft=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xl||(Xl=!0,Cy(Vc,function(){return so(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Xn.transition,Xn.transition=null;var c=je;je=1;var d=Pe;Pe|=4,w0.current=null,o_(t,n),py(n,t),Mb(Hd),jc=!!Vd,Hd=Vd=null,t.current=n,a_(n),BE(),Pe=d,je=c,Xn.transition=o}else t.current=n;if(Xl&&(Xl=!1,di=t,ou=i),o=t.pendingLanes,o===0&&(_i=null),UE(n.stateNode),_n(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(su)throw su=!1,t=ch,ch=null,t;return ou&1&&t.tag!==0&&so(),o=t.pendingLanes,o&1?t===uh?Ia++:(Ia=0,uh=t):Ia=0,ki(),null}function so(){if(di!==null){var t=t2(ou),e=Xn.transition,n=je;try{if(Xn.transition=null,je=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,ou=0,Pe&6)throw Error(J(331));var i=Pe;for(Pe|=4,de=t.current;de!==null;){var o=de,c=o.child;if(de.flags&16){var d=o.deletions;if(d!==null){for(var g=0;g<d.length;g++){var p=d[g];for(de=p;de!==null;){var y=de;switch(y.tag){case 0:case 11:case 15:Sa(8,y,o)}var v=y.child;if(v!==null)v.return=y,de=v;else for(;de!==null;){y=de;var E=y.sibling,_=y.return;if(dy(y),y===p){de=null;break}if(E!==null){E.return=_,de=E;break}de=_}}}var N=o.alternate;if(N!==null){var S=N.child;if(S!==null){N.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}de=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,de=c;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Sa(9,o,o.return)}var O=o.sibling;if(O!==null){O.return=o.return,de=O;break e}de=o.return}}var T=t.current;for(de=T;de!==null;){c=de;var R=c.child;if(c.subtreeFlags&2064&&R!==null)R.return=c,de=R;else e:for(c=T;de!==null;){if(d=de,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:ku(9,d)}}catch(F){wt(d,d.return,F)}if(d===c){de=null;break e}var B=d.sibling;if(B!==null){B.return=d.return,de=B;break e}de=d.return}}if(Pe=i,ki(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Su,t)}catch{}r=!0}return r}finally{je=n,Xn.transition=e}}return!1}function ap(t,e,n){e=ho(n,e),e=ty(t,e,1),t=bi(t,e,1),e=on(),t!==null&&(al(t,1,e),_n(t,e))}function wt(t,e,n){if(t.tag===3)ap(t,t,n);else for(;e!==null;){if(e.tag===3){ap(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){t=ho(n,t),t=ny(e,t,1),e=bi(e,t,1),t=on(),e!==null&&(al(e,1,t),_n(e,t));break}}e=e.return}}function h_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(Gt&n)===n&&(kt===4||kt===3&&(Gt&130023424)===Gt&&500>Ct()-E0?rs(t,0):v0|=n),_n(t,e)}function by(t,e){e===0&&(t.mode&1?(e=Ll,Ll<<=1,!(Ll&130023424)&&(Ll=4194304)):e=1);var n=on();t=Xr(t,e),t!==null&&(al(t,e,n),_n(t,n))}function g_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),by(t,n)}function p_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),by(t,n)}var _y;_y=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vn=!1,n_(t,e,n);vn=!!(t.flags&131072)}else vn=!1,st&&e.flags&1048576&&I2(e,qc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cc(t,e),t=e.pendingProps;var i=lo(e,tn.current);io(e,n),i=g0(null,e,r,t,i,n);var o=p0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(o=!0,Zc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c0(e),i.updater=Mu,e.stateNode=i,i._reactInternals=e,Qd(e,r,t,n),e=th(null,e,r,!0,o,n)):(e.tag=0,st&&o&&n0(e),sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=x_(r),t=tr(r,t),i){case 0:e=eh(null,e,r,t,n);break e;case 1:e=qg(null,e,r,t,n);break e;case 11:e=Zg(null,e,r,t,n);break e;case 14:e=Kg(null,e,r,tr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),eh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),qg(t,e,r,i,n);case 3:e:{if(oy(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,k2(t,e),eu(e,r,null,n);var c=e.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ho(Error(J(423)),e),e=Qg(t,e,r,n,i);break e}else if(r!==i){i=ho(Error(J(424)),e),e=Qg(t,e,r,n,i);break e}else for(Mn=Ei(e.stateNode.containerInfo.firstChild),kn=e,st=!0,ir=null,n=R2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===i){e=$r(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return D2(e),t===null&&Zd(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,c=i.children,jd(r,i)?c=null:o!==null&&jd(r,o)&&(e.flags|=32),sy(t,e),sn(t,e,c,n),e.child;case 6:return t===null&&Zd(e),null;case 13:return ay(t,e,n);case 4:return u0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=uo(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),Zg(t,e,r,i,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,c=i.value,Qe(Qc,r._currentValue),r._currentValue=c,o!==null)if(ar(o.value,c)){if(o.children===i.children&&!En.current){e=$r(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){c=o.child;for(var g=d.firstContext;g!==null;){if(g.context===r){if(o.tag===1){g=Wr(-1,n&-n),g.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var y=p.pending;y===null?g.next=g:(g.next=y.next,y.next=g),p.pending=g}}o.lanes|=n,g=o.alternate,g!==null&&(g.lanes|=n),Kd(o.return,n,e),d.lanes|=n;break}g=g.next}}else if(o.tag===10)c=o.type===e.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(J(341));c.lanes|=n,d=c.alternate,d!==null&&(d.lanes|=n),Kd(c,n,e),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===e){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,io(e,n),i=$n(i),r=r(i),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,i=tr(r,e.pendingProps),i=tr(r.type,i),Kg(t,e,r,i,n);case 15:return ry(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),Cc(t,e),e.tag=1,bn(r)?(t=!0,Zc(e)):t=!1,io(e,n),ey(e,r,i),Qd(e,r,i,n),th(null,e,r,!0,t,n);case 19:return ly(t,e,n);case 22:return iy(t,e,n)}throw Error(J(156,e.tag))};function Cy(t,e){return qx(t,e)}function m_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new m_(t,e,n,r)}function S0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function x_(t){if(typeof t=="function")return S0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jh)return 11;if(t===Gh)return 14}return 2}function Si(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ic(t,e,n,r,i,o){var c=2;if(r=t,typeof t=="function")S0(t)&&(c=1);else if(typeof t=="string")c=5;else e:switch(t){case Vs:return is(n.children,i,o,e);case Hh:c=8,i|=8;break;case bd:return t=Gn(12,n,e,i|2),t.elementType=bd,t.lanes=o,t;case _d:return t=Gn(13,n,e,i),t.elementType=_d,t.lanes=o,t;case Cd:return t=Gn(19,n,e,i),t.elementType=Cd,t.lanes=o,t;case Dx:return Pu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mx:c=10;break e;case kx:c=9;break e;case jh:c=11;break e;case Gh:c=14;break e;case ai:c=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Gn(c,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function is(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function Pu(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=Dx,t.lanes=n,t.stateNode={isHidden:!1},t}function Zf(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function Kf(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function y_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nf(0),this.expirationTimes=Nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function A0(t,e,n,r,i,o,c,d,g){return t=new y_(t,e,n,d,g),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},c0(o),t}function w_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Sy(t){if(!t)return Ti;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(bn(n))return S2(t,n,e)}return e}function Ay(t,e,n,r,i,o,c,d,g){return t=A0(n,r,!0,t,i,o,c,d,g),t.context=Sy(null),n=t.current,r=on(),i=Ci(n),o=Wr(r,i),o.callback=e??null,bi(n,o,i),t.current.lanes=i,al(t,i,r),_n(t,r),t}function Lu(t,e,n,r){var i=e.current,o=on(),c=Ci(i);return n=Sy(n),e.context===null?e.context=n:e.pendingContext=n,e=Wr(o,c),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bi(i,e,c),t!==null&&(or(t,i,c,o),Ec(t,i,c)),c}function lu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function I0(t,e){lp(t,e),(t=t.alternate)&&lp(t,e)}function v_(){return null}var Iy=typeof reportError=="function"?reportError:function(t){console.error(t)};function O0(t){this._internalRoot=t}Bu.prototype.render=O0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Lu(t,e,null,null)};Bu.prototype.unmount=O0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hs(function(){Lu(null,t,null,null)}),e[Gr]=null}};function Bu(t){this._internalRoot=t}Bu.prototype.unstable_scheduleHydration=function(t){if(t){var e=i2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ci.length&&e!==0&&e<ci[n].priority;n++);ci.splice(n,0,t),n===0&&o2(t)}};function T0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cp(){}function E_(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var p=lu(c);o.call(p)}}var c=Ay(e,r,t,0,null,!1,!1,"",cp);return t._reactRootContainer=c,t[Gr]=c.current,Ua(t.nodeType===8?t.parentNode:t),hs(),c}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var d=r;r=function(){var p=lu(g);d.call(p)}}var g=A0(t,0,!1,null,null,!1,!1,"",cp);return t._reactRootContainer=g,t[Gr]=g.current,Ua(t.nodeType===8?t.parentNode:t),hs(function(){Lu(e,g,n,r)}),g}function zu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var c=o;if(typeof i=="function"){var d=i;i=function(){var g=lu(c);d.call(g)}}Lu(e,c,t,i)}else c=E_(n,e,t,i,r);return lu(c)}n2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ua(e.pendingLanes);n!==0&&(Yh(e,n|1),_n(e,Ct()),!(Pe&6)&&(go=Ct()+500,ki()))}break;case 13:hs(function(){var r=Xr(t,1);if(r!==null){var i=on();or(r,t,1,i)}}),I0(t,1)}};Zh=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=on();or(e,t,134217728,n)}I0(t,134217728)}};r2=function(t){if(t.tag===13){var e=Ci(t),n=Xr(t,e);if(n!==null){var r=on();or(n,t,e,r)}I0(t,e)}};i2=function(){return je};s2=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};Dd=function(t,e,n){switch(e){case"input":if(Id(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tu(r);if(!i)throw Error(J(90));Lx(r),Id(r,i)}}}break;case"textarea":Fx(t,n);break;case"select":e=n.value,e!=null&&eo(t,!!n.multiple,e,!1)}};Gx=b0;Xx=hs;var b_={usingClientEntryPoint:!1,Events:[cl,Xs,Tu,Hx,jx,b0]},$o={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},__={bundleType:$o.bundleType,version:$o.version,rendererPackageName:$o.rendererPackageName,rendererConfig:$o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zx(t),t===null?null:t.stateNode},findFiberByHostInstance:$o.findFiberByHostInstance||v_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{Su=$l.inject(__),Sr=$l}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b_;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T0(e))throw Error(J(200));return w_(t,e,null,n)};Pn.createRoot=function(t,e){if(!T0(t))throw Error(J(299));var n=!1,r="",i=Iy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=A0(t,1,!1,null,null,n,!1,r,i),t[Gr]=e.current,Ua(t.nodeType===8?t.parentNode:t),new O0(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=Zx(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return hs(t)};Pn.hydrate=function(t,e,n){if(!Fu(e))throw Error(J(200));return zu(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!T0(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",c=Iy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),e=Ay(e,null,t,1,n??null,i,!1,o,c),t[Gr]=e.current,Ua(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bu(e)};Pn.render=function(t,e,n){if(!Fu(e))throw Error(J(200));return zu(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!Fu(t))throw Error(J(40));return t._reactRootContainer?(hs(function(){zu(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};Pn.unstable_batchedUpdates=b0;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fu(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return zu(t,e,n,!1,r)};Pn.version="18.3.1-next-f1338f8080-20240426";function Oy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oy)}catch(t){console.error(t)}}Oy(),Ox.exports=Pn;var C_=Ox.exports,up=C_;vd.createRoot=up.createRoot,vd.hydrateRoot=up.hydrateRoot;const S_="modulepreload",A_=function(t){return"/"+t},fp={},I_=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=A_(o),o in fp)return;fp[o]=!0;const c=o.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!r)for(let y=i.length-1;y>=0;y--){const v=i[y];if(v.href===o&&(!c||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":S_,c||(p.as="script",p.crossOrigin=""),p.href=o,document.head.appendChild(p),c)return new Promise((y,v)=>{p.addEventListener("load",y),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o})};var N0={};Object.defineProperty(N0,"__esModule",{value:!0});N0.parse=D_;N0.serialize=P_;const O_=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,T_=/^[\u0021-\u003A\u003C-\u007E]*$/,N_=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,R_=/^[\u0020-\u003A\u003D-\u007E]*$/,M_=Object.prototype.toString,k_=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function D_(t,e){const n=new k_,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||L_;let o=0;do{const c=t.indexOf("=",o);if(c===-1)break;const d=t.indexOf(";",o),g=d===-1?r:d;if(c>g){o=t.lastIndexOf(";",c-1)+1;continue}const p=dp(t,o,c),y=hp(t,c,p),v=t.slice(p,y);if(n[v]===void 0){let E=dp(t,c+1,g),_=hp(t,g,E);const N=i(t.slice(E,_));n[v]=N}o=g+1}while(o<r);return n}function dp(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function hp(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function P_(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!O_.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!T_.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!N_.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!R_.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!B_(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function L_(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function B_(t){return M_.call(t)==="[object Date]"}var gp="popstate";function F_(t={}){function e(r,i){let{pathname:o,search:c,hash:d}=r.location;return hh("",{pathname:o,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Za(i)}return U_(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z_(){return Math.random().toString(36).substring(2,10)}function pp(t,e){return{usr:t.state,key:t.key,idx:e}}function hh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||r||z_()}}function Za({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function U_(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,d="POP",g=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function v(){d="POP";let k=y(),O=k==null?null:k-p;p=k,g&&g({action:d,location:S.location,delta:O})}function E(k,O){d="PUSH";let T=hh(S.location,k,O);n&&n(T,k),p=y()+1;let R=pp(T,p),B=S.createHref(T);try{c.pushState(R,"",B)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(B)}o&&g&&g({action:d,location:S.location,delta:1})}function _(k,O){d="REPLACE";let T=hh(S.location,k,O);n&&n(T,k),p=y();let R=pp(T,p),B=S.createHref(T);c.replaceState(R,"",B),o&&g&&g({action:d,location:S.location,delta:0})}function N(k){let O=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof k=="string"?k:Za(k);return T=T.replace(/ $/,"%20"),at(O,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,O)}let S={get action(){return d},get location(){return t(i,c)},listen(k){if(g)throw new Error("A history only accepts one active listener");return i.addEventListener(gp,v),g=k,()=>{i.removeEventListener(gp,v),g=null}},createHref(k){return e(i,k)},createURL:N,encodeLocation(k){let O=N(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:_,go(k){return c.go(k)}};return S}function Ty(t,e,n="/"){return W_(t,e,n,!1)}function W_(t,e,n,r){let i=typeof e=="string"?bo(e):e,o=Yr(i.pathname||"/",n);if(o==null)return null;let c=Ny(t);V_(c);let d=null;for(let g=0;d==null&&g<c.length;++g){let p=J_(o);d=q_(c[g],p,r)}return d}function Ny(t,e=[],n=[],r=""){let i=(o,c,d)=>{let g={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};g.relativePath.startsWith("/")&&(at(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length));let p=Vr([r,g.relativePath]),y=n.concat(g);o.children&&o.children.length>0&&(at(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Ny(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:Z_(p,o.index),routesMeta:y})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,c);else for(let g of Ry(o.path))i(o,c,g)}),e}function Ry(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=Ry(r.join("/")),d=[];return d.push(...c.map(g=>g===""?o:[o,g].join("/"))),i&&d.push(...c),d.map(g=>t.startsWith("/")&&g===""?"/":g)}function V_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:K_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var H_=/^:[\w-]+$/,j_=3,G_=2,X_=1,$_=10,Y_=-2,mp=t=>t==="*";function Z_(t,e){let n=t.split("/"),r=n.length;return n.some(mp)&&(r+=Y_),e&&(r+=G_),n.filter(i=>!mp(i)).reduce((i,o)=>i+(H_.test(o)?j_:o===""?X_:$_),r)}function K_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function q_(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",c=[];for(let d=0;d<r.length;++d){let g=r[d],p=d===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",v=cu({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},y),E=g.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=cu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:Vr([o,v.pathname]),pathnameBase:r3(Vr([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=Vr([o,v.pathnameBase]))}return c}function cu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Q_(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let N=d[E]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const _=d[E];return v&&!_?p[y]=void 0:p[y]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function Q_(t,e=!1,n=!0){lr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,g)=>(r.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function J_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function e3(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bo(t):t;return{pathname:n?n.startsWith("/")?n:t3(n,e):e,search:i3(r),hash:s3(i)}}function t3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R0(t){let e=n3(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function M0(t,e,n,r=!1){let i;typeof t=="string"?i=bo(t):(i={...t},at(!i.pathname||!i.pathname.includes("?"),qf("?","pathname","search",i)),at(!i.pathname||!i.pathname.includes("#"),qf("#","pathname","hash",i)),at(!i.search||!i.search.includes("#"),qf("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}d=v>=0?e[v]:"/"}let g=e3(i,d),p=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||y)&&(g.pathname+="/"),g}var Vr=t=>t.join("/").replace(/\/\/+/g,"/"),r3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),i3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,s3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function o3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var My=["POST","PUT","PATCH","DELETE"];new Set(My);var a3=["GET",...My];new Set(a3);var _o=W.createContext(null);_o.displayName="DataRouter";var Uu=W.createContext(null);Uu.displayName="DataRouterState";var ky=W.createContext({isTransitioning:!1});ky.displayName="ViewTransition";var l3=W.createContext(new Map);l3.displayName="Fetchers";var c3=W.createContext(null);c3.displayName="Await";var ur=W.createContext(null);ur.displayName="Navigation";var fl=W.createContext(null);fl.displayName="Location";var Tr=W.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var k0=W.createContext(null);k0.displayName="RouteError";function u3(t,{relative:e}={}){at(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=W.useContext(ur),{hash:i,pathname:o,search:c}=dl(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:Vr([n,o])),r.createHref({pathname:d,search:c,hash:i})}function Co(){return W.useContext(fl)!=null}function Di(){return at(Co(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(fl).location}var Dy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Py(t){W.useContext(ur).static||W.useLayoutEffect(t)}function Ly(){let{isDataRoute:t}=W.useContext(Tr);return t?_3():f3()}function f3(){at(Co(),"useNavigate() may be used only in the context of a <Router> component.");let t=W.useContext(_o),{basename:e,navigator:n}=W.useContext(ur),{matches:r}=W.useContext(Tr),{pathname:i}=Di(),o=JSON.stringify(R0(r)),c=W.useRef(!1);return Py(()=>{c.current=!0}),W.useCallback((g,p={})=>{if(lr(c.current,Dy),!c.current)return;if(typeof g=="number"){n.go(g);return}let y=M0(g,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Vr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,o,i,t])}W.createContext(null);function dl(t,{relative:e}={}){let{matches:n}=W.useContext(Tr),{pathname:r}=Di(),i=JSON.stringify(R0(n));return W.useMemo(()=>M0(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function d3(t,e){return By(t,e)}function By(t,e,n,r){var T;at(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=W.useContext(ur),{matches:c}=W.useContext(Tr),d=c[c.length-1],g=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",v=d&&d.route;{let R=v&&v.path||"";Fy(p,!v||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let E=Di(),_;if(e){let R=typeof e=="string"?bo(e):e;at(y==="/"||((T=R.pathname)==null?void 0:T.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${R.pathname}" was given in the \`location\` prop.`),_=R}else _=E;let N=_.pathname||"/",S=N;if(y!=="/"){let R=y.replace(/^\//,"").split("/");S="/"+N.replace(/^\//,"").split("/").slice(R.length).join("/")}let k=!o&&n&&n.matches&&n.matches.length>0?n.matches:Ty(t,{pathname:S});lr(v||k!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),lr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=x3(k&&k.map(R=>Object.assign({},R,{params:Object.assign({},g,R.params),pathname:Vr([y,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?y:Vr([y,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),c,n,r);return e&&O?W.createElement(fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},O):O}function h3(){let t=b3(),e=o3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:i},n):null,c)}var g3=W.createElement(h3,null),p3=class extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?W.createElement(Tr.Provider,{value:this.props.routeContext},W.createElement(k0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m3({routeContext:t,match:e,children:n}){let r=W.useContext(_o);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Tr.Provider,{value:t},n)}function x3(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let g=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);at(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,g+1))}let c=!1,d=-1;if(n)for(let g=0;g<i.length;g++){let p=i[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=g),p.route.id){let{loaderData:y,errors:v}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((g,p,y)=>{let v,E=!1,_=null,N=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,_=p.route.errorElement||g3,c&&(d<0&&y===0?(Fy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):d===y&&(E=!0,N=p.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,y+1)),k=()=>{let O;return v?O=_:E?O=N:p.route.Component?O=W.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=g,W.createElement(m3,{match:p,routeContext:{outlet:g,matches:S,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?W.createElement(p3,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}function D0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y3(t){let e=W.useContext(_o);return at(e,D0(t)),e}function w3(t){let e=W.useContext(Uu);return at(e,D0(t)),e}function v3(t){let e=W.useContext(Tr);return at(e,D0(t)),e}function P0(t){let e=v3(t),n=e.matches[e.matches.length-1];return at(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function E3(){return P0("useRouteId")}function b3(){var r;let t=W.useContext(k0),e=w3("useRouteError"),n=P0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function _3(){let{router:t}=y3("useNavigate"),e=P0("useNavigate"),n=W.useRef(!1);return Py(()=>{n.current=!0}),W.useCallback(async(i,o={})=>{lr(n.current,Dy),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var xp={};function Fy(t,e,n){!e&&!xp[t]&&(xp[t]=!0,lr(!1,n))}W.memo(C3);function C3({routes:t,future:e,state:n}){return By(t,void 0,n,e)}function S3({to:t,replace:e,state:n,relative:r}){at(Co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=W.useContext(ur);lr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=W.useContext(Tr),{pathname:c}=Di(),d=Ly(),g=M0(t,R0(o),c,r==="path"),p=JSON.stringify(g);return W.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function Zi(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A3({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){at(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=W.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof n=="string"&&(n=bo(n));let{pathname:g="/",search:p="",hash:y="",state:v=null,key:E="default"}=n,_=W.useMemo(()=>{let N=Yr(g,c);return N==null?null:{location:{pathname:N,search:p,hash:y,state:v,key:E},navigationType:r}},[c,g,p,y,v,E,r]);return lr(_!=null,`<Router basename="${c}"> is not able to match the URL "${g}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:W.createElement(ur.Provider,{value:d},W.createElement(fl.Provider,{children:e,value:_}))}function I3({children:t,location:e}){return d3(gh(t),e)}function gh(t,e=[]){let n=[];return W.Children.forEach(t,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){n.push.apply(n,gh(r.props.children,o));return}at(r.type===Zi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=gh(r.props.children,o)),n.push(c)}),n}var Oc="get",Tc="application/x-www-form-urlencoded";function Wu(t){return t!=null&&typeof t.tagName=="string"}function O3(t){return Wu(t)&&t.tagName.toLowerCase()==="button"}function T3(t){return Wu(t)&&t.tagName.toLowerCase()==="form"}function N3(t){return Wu(t)&&t.tagName.toLowerCase()==="input"}function R3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M3(t,e){return t.button===0&&(!e||e==="_self")&&!R3(t)}var Yl=null;function k3(){if(Yl===null)try{new FormData(document.createElement("form"),0),Yl=!1}catch{Yl=!0}return Yl}var D3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qf(t){return t!=null&&!D3.has(t)?(lr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tc}"`),null):t}function P3(t,e){let n,r,i,o,c;if(T3(t)){let d=t.getAttribute("action");r=d?Yr(d,e):null,n=t.getAttribute("method")||Oc,i=Qf(t.getAttribute("enctype"))||Tc,o=new FormData(t)}else if(O3(t)||N3(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||d.getAttribute("action");if(r=g?Yr(g,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Oc,i=Qf(t.getAttribute("formenctype"))||Qf(d.getAttribute("enctype"))||Tc,o=new FormData(d,t),!k3()){let{name:p,type:y,value:v}=t;if(y==="image"){let E=p?`${p}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else p&&o.append(p,v)}}else{if(Wu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oc,r=null,i=Tc,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:c}}function L0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function L3(t,e){if(t.id in e)return e[t.id];try{let n=await I_(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B3(t){return t!=null&&typeof t.page=="string"}function F3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function z3(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await L3(o,n);return c.links?c.links():[]}return[]}));return H3(r.flat(1).filter(F3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function yp(t,e,n,r,i,o){let c=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,d=(g,p)=>{var y;return n[p].pathname!==g.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return o==="assets"?e.filter((g,p)=>c(g,p)||d(g,p)):o==="data"?e.filter((g,p)=>{var v;let y=r.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(c(g,p)||d(g,p))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function U3(t,e,{includeHydrateFallback:n}={}){return W3(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function W3(t){return[...new Set(t)]}function V3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function H3(t,e){let n=new Set,r=new Set(e);return t.reduce((i,o)=>{if(e&&!B3(o)&&o.as==="script"&&o.href&&r.has(o.href))return i;let d=JSON.stringify(V3(o));return n.has(d)||(n.add(d),i.push({key:d,link:o})),i},[])}function j3(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Yr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function zy(){let t=W.useContext(_o);return L0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function G3(){let t=W.useContext(Uu);return L0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var B0=W.createContext(void 0);B0.displayName="FrameworkContext";function Uy(){let t=W.useContext(B0);return L0(t,"You must render this element inside a <HydratedRouter> element"),t}function X3(t,e){let n=W.useContext(B0),[r,i]=W.useState(!1),[o,c]=W.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=W.useRef(null);W.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let S=O=>{O.forEach(T=>{c(T.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[t]),W.useEffect(()=>{if(r){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[r]);let _=()=>{i(!0)},N=()=>{i(!1),c(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:Yo(d,_),onBlur:Yo(g,N),onMouseEnter:Yo(p,_),onMouseLeave:Yo(y,N),onTouchStart:Yo(v,_)}]:[!1,E,{}]}function Yo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $3({page:t,...e}){let{router:n}=zy(),r=W.useMemo(()=>Ty(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?W.createElement(Z3,{page:t,matches:r,...e}):null}function Y3(t){let{manifest:e,routeModules:n}=Uy(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return z3(t,e,n).then(c=>{o||i(c)}),()=>{o=!0}},[t,e,n]),r}function Z3({page:t,matches:e,...n}){let r=Di(),{manifest:i,routeModules:o}=Uy(),{basename:c}=zy(),{loaderData:d,matches:g}=G3(),p=W.useMemo(()=>yp(t,e,g,i,r,"data"),[t,e,g,i,r]),y=W.useMemo(()=>yp(t,e,g,i,r,"assets"),[t,e,g,i,r]),v=W.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,S=!1;if(e.forEach(O=>{var R;let T=i.routes[O.route.id];!T||!T.hasLoader||(!p.some(B=>B.route.id===O.route.id)&&O.route.id in d&&((R=o[O.route.id])!=null&&R.shouldRevalidate)||T.hasClientLoader?S=!0:N.add(O.route.id))}),N.size===0)return[];let k=j3(t,c);return S&&N.size>0&&k.searchParams.set("_routes",e.filter(O=>N.has(O.route.id)).map(O=>O.route.id).join(",")),[k.pathname+k.search]},[c,d,r,i,p,e,t,o]),E=W.useMemo(()=>U3(y,i),[y,i]),_=Y3(y);return W.createElement(W.Fragment,null,v.map(N=>W.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),E.map(N=>W.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),_.map(({key:N,link:S})=>W.createElement("link",{key:N,...S})))}function K3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Wy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wy&&(window.__reactRouterVersion="7.5.0")}catch{}function q3({basename:t,children:e,window:n}){let r=W.useRef();r.current==null&&(r.current=F_({window:n,v5Compat:!0}));let i=r.current,[o,c]=W.useState({action:i.action,location:i.location}),d=W.useCallback(g=>{W.startTransition(()=>c(g))},[c]);return W.useLayoutEffect(()=>i.listen(d),[i,d]),W.createElement(A3,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var Vy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hy=W.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:c,state:d,target:g,to:p,preventScrollReset:y,viewTransition:v,...E},_){let{basename:N}=W.useContext(ur),S=typeof p=="string"&&Vy.test(p),k,O=!1;if(typeof p=="string"&&S&&(k=p,Wy))try{let H=new URL(window.location.href),Q=p.startsWith("//")?new URL(H.protocol+p):new URL(p),oe=Yr(Q.pathname,N);Q.origin===H.origin&&oe!=null?p=oe+Q.search+Q.hash:O=!0}catch{lr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=u3(p,{relative:i}),[R,B,F]=X3(r,E),V=eC(p,{replace:c,state:d,target:g,preventScrollReset:y,relative:i,viewTransition:v});function L(H){e&&e(H),H.defaultPrevented||V(H)}let j=W.createElement("a",{...E,...F,href:k||T,onClick:O||o?e:L,ref:K3(_,B),target:g,"data-discover":!S&&n==="render"?"true":void 0});return R&&!S?W.createElement(W.Fragment,null,j,W.createElement($3,{page:T})):j});Hy.displayName="Link";var jy=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:c,viewTransition:d,children:g,...p},y){let v=dl(c,{relative:p.relative}),E=Di(),_=W.useContext(Uu),{navigator:N,basename:S}=W.useContext(ur),k=_!=null&&sC(v)&&d===!0,O=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,T=E.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(T=T.toLowerCase(),R=R?R.toLowerCase():null,O=O.toLowerCase()),R&&S&&(R=Yr(R,S)||R);const B=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let F=T===O||!i&&T.startsWith(O)&&T.charAt(B)==="/",V=R!=null&&(R===O||!i&&R.startsWith(O)&&R.charAt(O.length)==="/"),L={isActive:F,isPending:V,isTransitioning:k},j=F?e:void 0,H;typeof r=="function"?H=r(L):H=[r,F?"active":null,V?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(L):o;return W.createElement(Hy,{...p,"aria-current":j,className:H,ref:y,style:Q,to:c,viewTransition:d},typeof g=="function"?g(L):g)});jy.displayName="NavLink";var Q3=W.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:c=Oc,action:d,onSubmit:g,relative:p,preventScrollReset:y,viewTransition:v,...E},_)=>{let N=rC(),S=iC(d,{relative:p}),k=c.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&Vy.test(d),T=R=>{if(g&&g(R),R.defaultPrevented)return;R.preventDefault();let B=R.nativeEvent.submitter,F=(B==null?void 0:B.getAttribute("formmethod"))||c;N(B||R.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:i,state:o,relative:p,preventScrollReset:y,viewTransition:v})};return W.createElement("form",{ref:_,method:k,action:S,onSubmit:r?g:T,...E,"data-discover":!O&&t==="render"?"true":void 0})});Q3.displayName="Form";function J3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gy(t){let e=W.useContext(_o);return at(e,J3(t)),e}function eC(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:c}={}){let d=Ly(),g=Di(),p=dl(t,{relative:o});return W.useCallback(y=>{if(M3(y,e)){y.preventDefault();let v=n!==void 0?n:Za(g)===Za(p);d(t,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:c})}},[g,d,p,n,r,e,t,i,o,c])}var tC=0,nC=()=>`__${String(++tC)}__`;function rC(){let{router:t}=Gy("useSubmit"),{basename:e}=W.useContext(ur),n=E3();return W.useCallback(async(r,i={})=>{let{action:o,method:c,encType:d,formData:g,body:p}=P3(r,e);if(i.navigate===!1){let y=i.fetcherKey||nC();await t.fetch(y,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:g,body:p,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:g,body:p,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function iC(t,{relative:e}={}){let{basename:n}=W.useContext(ur),r=W.useContext(Tr);at(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...dl(t||".",{relative:e})},c=Di();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),g=d.getAll("index");if(g.some(y=>y==="")){d.delete("index"),g.filter(v=>v).forEach(v=>d.append("index",v));let y=d.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Vr([n,o.pathname])),Za(o)}function sC(t,e={}){let n=W.useContext(ky);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Gy("useViewTransitionState"),i=dl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Yr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Yr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cu(i.pathname,c)!=null||cu(i.pathname,o)!=null}new TextEncoder;var Xy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wp=I.createContext&&I.createContext(Xy),oC=["attr","size","title"];function aC(t,e){if(t==null)return{};var n=lC(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lC(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(this,arguments)}function vp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vp(Object(n),!0).forEach(function(r){cC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cC(t,e,n){return e=uC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uC(t){var e=fC(t,"string");return typeof e=="symbol"?e:e+""}function fC(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $y(t){return t&&t.map((e,n)=>I.createElement(e.tag,fu({key:n},e.attr),$y(e.child)))}function un(t){return e=>I.createElement(dC,uu({attr:fu({},t.attr)},e),$y(t.child))}function dC(t){var e=n=>{var{attr:r,size:i,title:o}=t,c=aC(t,oC),d=i||n.size||"1em",g;return n.className&&(g=n.className),t.className&&(g=(g?g+" ":"")+t.className),I.createElement("svg",uu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:g,style:fu(fu({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&I.createElement("title",null,o),t.children)};return wp!==void 0?I.createElement(wp.Consumer,null,n=>e(n)):e(Xy)}function hC(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function gC(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function du(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function pC(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function mC(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function xC(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function yC(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function wC(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function vC(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function EC(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function bC(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"5",x2:"5",y2:"19"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"6.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"17.5",r:"2.5"},child:[]}]})(t)}function F0(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function Yy(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function Ep(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function Zy(t){return un({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}const ph="/assets/logo-2f0e5cc0.png",_C=[{name:"Dashboard",path:"/",icon:I.createElement(wC,null)},{name:"Inventory",path:"/inventory",icon:I.createElement(du,null)},{name:"Find Item",path:"/find-item",icon:I.createElement(F0,null)},{name:"Scan In // Scan Out",path:"/scan",icon:I.createElement(Yy,null)},{name:"Vinted Bot",path:"/vinted-bot",icon:I.createElement(Zy,null)}];function CC({onLogout:t}){return I.createElement("aside",{className:"h-screen w-56 bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-white flex flex-col py-6 px-4 shadow-2xl fixed top-0 left-0 z-50"},I.createElement("div",{className:"flex flex-col items-center mb-10"},I.createElement("img",{src:ph,alt:"Logo",className:"w-16 h-16 mb-1 object-contain",style:{background:"none",boxShadow:"none",border:"none"}}),I.createElement("div",{className:"text-xl font-bold text-center mt-1 tracking-wide",style:{color:"#2dd4bf",letterSpacing:"2px"}},"FlinTor")),I.createElement("nav",{className:"flex flex-col gap-2 flex-1"},_C.map(e=>I.createElement(jy,{key:e.path,to:e.path,className:({isActive:n})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-all font-medium text-lg ${n?"bg-gradient-to-r from-blue-600 to-green-500 shadow-lg text-white scale-105":"hover:bg-gray-700 hover:scale-105 text-gray-100 opacity-90"}`,end:e.path==="/"},I.createElement("span",{className:"text-xl"},e.icon),I.createElement("span",null,e.name)))),I.createElement("button",{className:"flex items-center gap-2 justify-center w-full mt-6 py-2 bg-gradient-to-r from-red-500 to-orange-400 hover:from-red-600 hover:to-orange-500 text-white rounded-lg font-semibold text-lg shadow-lg transition",onClick:t},I.createElement(vC,{className:"text-xl"})," Logout"),I.createElement("div",{className:"mt-8 text-xs text-gray-400 text-center opacity-60"},"© ",new Date().getFullYear()," Reselling Inventory",I.createElement("br",null),"All rights reserved."))}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function hl(t){return t+.5|0}const hi=(t,e,n)=>Math.max(Math.min(t,n),e);function da(t){return hi(hl(t*2.55),0,255)}function Ai(t){return hi(hl(t*255),0,255)}function Br(t){return hi(hl(t/2.55)/100,0,1)}function bp(t){return hi(hl(t*100),0,100)}const Wn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},mh=[..."0123456789ABCDEF"],SC=t=>mh[t&15],AC=t=>mh[(t&240)>>4]+mh[t&15],Zl=t=>(t&240)>>4===(t&15),IC=t=>Zl(t.r)&&Zl(t.g)&&Zl(t.b)&&Zl(t.a);function OC(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Wn[t[1]]*17,g:255&Wn[t[2]]*17,b:255&Wn[t[3]]*17,a:e===5?Wn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Wn[t[1]]<<4|Wn[t[2]],g:Wn[t[3]]<<4|Wn[t[4]],b:Wn[t[5]]<<4|Wn[t[6]],a:e===9?Wn[t[7]]<<4|Wn[t[8]]:255})),n}const TC=(t,e)=>t<255?e(t):"";function NC(t){var e=IC(t)?SC:AC;return t?"#"+e(t.r)+e(t.g)+e(t.b)+TC(t.a,e):void 0}const RC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ky(t,e,n){const r=e*Math.min(n,1-n),i=(o,c=(o+t/30)%12)=>n-r*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function MC(t,e,n){const r=(i,o=(i+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function kC(t,e,n){const r=Ky(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function DC(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function z0(t){const n=t.r/255,r=t.g/255,i=t.b/255,o=Math.max(n,r,i),c=Math.min(n,r,i),d=(o+c)/2;let g,p,y;return o!==c&&(y=o-c,p=d>.5?y/(2-o-c):y/(o+c),g=DC(n,r,i,y,o),g=g*60+.5),[g|0,p||0,d]}function U0(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Ai)}function W0(t,e,n){return U0(Ky,t,e,n)}function PC(t,e,n){return U0(kC,t,e,n)}function LC(t,e,n){return U0(MC,t,e,n)}function qy(t){return(t%360+360)%360}function BC(t){const e=RC.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?da(+e[5]):Ai(+e[5]));const i=qy(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?r=PC(i,o,c):e[1]==="hsv"?r=LC(i,o,c):r=W0(i,o,c),{r:r[0],g:r[1],b:r[2],a:n}}function FC(t,e){var n=z0(t);n[0]=qy(n[0]+e),n=W0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function zC(t){if(!t)return;const e=z0(t),n=e[0],r=bp(e[1]),i=bp(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Br(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const _p={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Cp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UC(){const t={},e=Object.keys(Cp),n=Object.keys(_p);let r,i,o,c,d;for(r=0;r<e.length;r++){for(c=d=e[r],i=0;i<n.length;i++)o=n[i],d=d.replace(o,_p[o]);o=parseInt(Cp[c],16),t[d]=[o>>16&255,o>>8&255,o&255]}return t}let Kl;function WC(t){Kl||(Kl=UC(),Kl.transparent=[0,0,0,0]);const e=Kl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const VC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function HC(t){const e=VC.exec(t);let n=255,r,i,o;if(e){if(e[7]!==r){const c=+e[7];n=e[8]?da(c):hi(c*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?da(r):hi(r,0,255)),i=255&(e[4]?da(i):hi(i,0,255)),o=255&(e[6]?da(o):hi(o,0,255)),{r,g:i,b:o,a:n}}}function jC(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Br(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Jf=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ds=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function GC(t,e,n){const r=Ds(Br(t.r)),i=Ds(Br(t.g)),o=Ds(Br(t.b));return{r:Ai(Jf(r+n*(Ds(Br(e.r))-r))),g:Ai(Jf(i+n*(Ds(Br(e.g))-i))),b:Ai(Jf(o+n*(Ds(Br(e.b))-o))),a:t.a+n*(e.a-t.a)}}function ql(t,e,n){if(t){let r=z0(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=W0(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Qy(t,e){return t&&Object.assign(e||{},t)}function Sp(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ai(t[3]))):(e=Qy(t,{r:0,g:0,b:0,a:1}),e.a=Ai(e.a)),e}function XC(t){return t.charAt(0)==="r"?HC(t):BC(t)}class Ka{constructor(e){if(e instanceof Ka)return e;const n=typeof e;let r;n==="object"?r=Sp(e):n==="string"&&(r=OC(e)||WC(e)||XC(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Qy(this._rgb);return e&&(e.a=Br(e.a)),e}set rgb(e){this._rgb=Sp(e)}rgbString(){return this._valid?jC(this._rgb):void 0}hexString(){return this._valid?NC(this._rgb):void 0}hslString(){return this._valid?zC(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let o;const c=n===o?.5:n,d=2*c-1,g=r.a-i.a,p=((d*g===-1?d:(d+g)/(1+d*g))+1)/2;o=1-p,r.r=255&p*r.r+o*i.r+.5,r.g=255&p*r.g+o*i.g+.5,r.b=255&p*r.b+o*i.b+.5,r.a=c*r.a+(1-c)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=GC(this._rgb,e._rgb,n)),this}clone(){return new Ka(this.rgb)}alpha(e){return this._rgb.a=Ai(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=hl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ql(this._rgb,2,e),this}darken(e){return ql(this._rgb,2,-e),this}saturate(e){return ql(this._rgb,1,e),this}desaturate(e){return ql(this._rgb,1,-e),this}rotate(e){return FC(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Rr(){}const $C=(()=>{let t=0;return()=>t++})();function Le(t){return t==null}function ft(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Be(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Bt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Tn(t,e){return Bt(t)?t:e}function Ie(t,e){return typeof t>"u"?e:t}const YC=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Jy=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function qe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function He(t,e,n,r){let i,o,c;if(ft(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(Be(t))for(c=Object.keys(t),o=c.length,i=0;i<o;i++)e.call(n,t[c[i]],c[i])}function hu(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function gu(t){if(ft(t))return t.map(gu);if(Be(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=gu(t[n[i]]);return e}return t}function ew(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function ZC(t,e,n,r){if(!ew(t))return;const i=e[t],o=n[t];Be(i)&&Be(o)?qa(i,o,r):e[t]=gu(o)}function qa(t,e,n){const r=ft(e)?e:[e],i=r.length;if(!Be(t))return t;n=n||{};const o=n.merger||ZC;let c;for(let d=0;d<i;++d){if(c=r[d],!Be(c))continue;const g=Object.keys(c);for(let p=0,y=g.length;p<y;++p)o(g[p],t,c,n)}return t}function Oa(t,e){return qa(t,e,{merger:KC})}function KC(t,e,n){if(!ew(t))return;const r=e[t],i=n[t];Be(r)&&Be(i)?Oa(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=gu(i))}const Ap={"":t=>t,x:t=>t.x,y:t=>t.y};function qC(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function QC(t){const e=qC(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function gs(t,e){return(Ap[e]||(Ap[e]=QC(e)))(t)}function V0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Qa=t=>typeof t<"u",Ni=t=>typeof t=="function",Ip=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function JC(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Et=Math.PI,ot=2*Et,eS=ot+Et,pu=Number.POSITIVE_INFINITY,tS=Et/180,St=Et/2,Hi=Et/4,Op=Et*2/3,gi=Math.log10,Ir=Math.sign;function Ta(t,e,n){return Math.abs(t-e)<n}function Tp(t){const e=Math.round(t);t=Ta(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(gi(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function nS(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,o)=>i-o).pop(),e}function rS(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Ja(t){return!rS(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function iS(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function tw(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function _r(t){return t*(Et/180)}function H0(t){return t*(180/Et)}function Np(t){if(!Bt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function nw(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*Et&&(o+=ot),{angle:o,distance:i}}function xh(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function sS(t,e){return(t-e+eS)%ot-Et}function rr(t){return(t%ot+ot)%ot}function el(t,e,n,r){const i=rr(t),o=rr(e),c=rr(n),d=rr(o-i),g=rr(c-i),p=rr(i-o),y=rr(i-c);return i===o||i===c||r&&o===c||d>g&&p<y}function en(t,e,n){return Math.max(e,Math.min(n,t))}function oS(t){return en(t,-32768,32767)}function pi(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function j0(t,e,n){n=n||(c=>t[c]<e);let r=t.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,n(o)?i=o:r=o;return{lo:i,hi:r}}const ns=(t,e,n,r)=>j0(t,n,r?i=>{const o=t[i][e];return o<n||o===n&&t[i+1][e]===n}:i=>t[i][e]<n),aS=(t,e,n)=>j0(t,n,r=>t[r][e]>=n);function lS(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const rw=["push","pop","shift","splice","unshift"];function cS(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),rw.forEach(n=>{const r="_onData"+V0(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const c=i.apply(this,o);return t._chartjs.listeners.forEach(d=>{typeof d[r]=="function"&&d[r](...o)}),c}})})}function Rp(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(rw.forEach(o=>{delete t[o]}),delete t._chartjs)}function iw(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const sw=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ow(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,sw.call(window,()=>{r=!1,t.apply(e,n)}))}}function uS(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const aw=t=>t==="start"?"left":t==="end"?"right":"center",In=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,fS=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function dS(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:c,vScale:d,_parsed:g}=t,p=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,y=c.axis,{min:v,max:E,minDefined:_,maxDefined:N}=c.getUserBounds();if(_){if(i=Math.min(ns(g,y,v).lo,n?r:ns(e,y,c.getPixelForValue(v)).lo),p){const S=g.slice(0,i+1).reverse().findIndex(k=>!Le(k[d.axis]));i-=Math.max(0,S)}i=en(i,0,r-1)}if(N){let S=Math.max(ns(g,c.axis,E,!0).hi+1,n?0:ns(e,y,c.getPixelForValue(E),!0).hi+1);if(p){const k=g.slice(S-1).findIndex(O=>!Le(O[d.axis]));S+=Math.max(0,k)}o=en(S,i,r)-i}else o=r-i}return{start:i,count:o}}function hS(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const Ql=t=>t===0||t===1,Mp=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ot/n)),kp=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ot/n)+1,Na={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*St)+1,easeOutSine:t=>Math.sin(t*St),easeInOutSine:t=>-.5*(Math.cos(Et*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ql(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ql(t)?t:Mp(t,.075,.3),easeOutElastic:t=>Ql(t)?t:kp(t,.075,.3),easeInOutElastic(t){return Ql(t)?t:t<.5?.5*Mp(t*2,.1125,.45):.5+.5*kp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Na.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Na.easeInBounce(t*2)*.5:Na.easeOutBounce(t*2-1)*.5+.5};function G0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Dp(t){return G0(t)?t:new Ka(t)}function ed(t){return G0(t)?t:new Ka(t).saturate(.5).darken(.1).hexString()}const gS=["x","y","borderWidth","radius","tension"],pS=["color","borderColor","backgroundColor"];function mS(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:pS},numbers:{type:"number",properties:gS}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xS(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Pp=new Map;function yS(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Pp.get(n);return r||(r=new Intl.NumberFormat(t,e),Pp.set(n,r)),r}function Vu(t,e,n){return yS(e,n).format(t)}const lw={values(t){return ft(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(i="scientific"),o=wS(t,n)}const c=gi(Math.abs(o)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),g={notation:i,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(g,this.options.ticks.format),Vu(t,r,g)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(gi(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?lw.numeric.call(this,t,e,n):""}};function wS(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Hu={formatters:lw};function vS(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ps=Object.create(null),yh=Object.create(null);function Ra(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function td(t,e,n){return typeof e=="string"?qa(Ra(t,e),n):qa(Ra(t,""),e)}class ES{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>ed(i.backgroundColor),this.hoverBorderColor=(r,i)=>ed(i.borderColor),this.hoverColor=(r,i)=>ed(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return td(this,e,n)}get(e){return Ra(this,e)}describe(e,n){return td(yh,e,n)}override(e,n){return td(ps,e,n)}route(e,n,r,i){const o=Ra(this,e),c=Ra(this,r),d="_"+n;Object.defineProperties(o,{[d]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const g=this[d],p=c[i];return Be(g)?Object.assign({},p,g):Ie(g,p)},set(g){this[d]=g}}})}apply(e){e.forEach(n=>n(this))}}var vt=new ES({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mS,xS,vS]);function bS(t){return!t||Le(t.size)||Le(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function mu(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function _S(t,e,n,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let c=0;const d=n.length;let g,p,y,v,E;for(g=0;g<d;g++)if(v=n[g],v!=null&&!ft(v))c=mu(t,i,o,c,v);else if(ft(v))for(p=0,y=v.length;p<y;p++)E=v[p],E!=null&&!ft(E)&&(c=mu(t,i,o,c,E));t.restore();const _=o.length/2;if(_>n.length){for(g=0;g<_;g++)delete i[o[g]];o.splice(0,_)}return c}function ji(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Lp(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function wh(t,e,n,r){cw(t,e,n,r,null)}function cw(t,e,n,r,i){let o,c,d,g,p,y,v,E;const _=e.pointStyle,N=e.rotation,S=e.radius;let k=(N||0)*tS;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(k),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),_){default:i?t.ellipse(n,r,i/2,S,0,0,ot):t.arc(n,r,S,0,ot),t.closePath();break;case"triangle":y=i?i/2:S,t.moveTo(n+Math.sin(k)*y,r-Math.cos(k)*S),k+=Op,t.lineTo(n+Math.sin(k)*y,r-Math.cos(k)*S),k+=Op,t.lineTo(n+Math.sin(k)*y,r-Math.cos(k)*S),t.closePath();break;case"rectRounded":p=S*.516,g=S-p,c=Math.cos(k+Hi)*g,v=Math.cos(k+Hi)*(i?i/2-p:g),d=Math.sin(k+Hi)*g,E=Math.sin(k+Hi)*(i?i/2-p:g),t.arc(n-v,r-d,p,k-Et,k-St),t.arc(n+E,r-c,p,k-St,k),t.arc(n+v,r+d,p,k,k+St),t.arc(n-E,r+c,p,k+St,k+Et),t.closePath();break;case"rect":if(!N){g=Math.SQRT1_2*S,y=i?i/2:g,t.rect(n-y,r-g,2*y,2*g);break}k+=Hi;case"rectRot":v=Math.cos(k)*(i?i/2:S),c=Math.cos(k)*S,d=Math.sin(k)*S,E=Math.sin(k)*(i?i/2:S),t.moveTo(n-v,r-d),t.lineTo(n+E,r-c),t.lineTo(n+v,r+d),t.lineTo(n-E,r+c),t.closePath();break;case"crossRot":k+=Hi;case"cross":v=Math.cos(k)*(i?i/2:S),c=Math.cos(k)*S,d=Math.sin(k)*S,E=Math.sin(k)*(i?i/2:S),t.moveTo(n-v,r-d),t.lineTo(n+v,r+d),t.moveTo(n+E,r-c),t.lineTo(n-E,r+c);break;case"star":v=Math.cos(k)*(i?i/2:S),c=Math.cos(k)*S,d=Math.sin(k)*S,E=Math.sin(k)*(i?i/2:S),t.moveTo(n-v,r-d),t.lineTo(n+v,r+d),t.moveTo(n+E,r-c),t.lineTo(n-E,r+c),k+=Hi,v=Math.cos(k)*(i?i/2:S),c=Math.cos(k)*S,d=Math.sin(k)*S,E=Math.sin(k)*(i?i/2:S),t.moveTo(n-v,r-d),t.lineTo(n+v,r+d),t.moveTo(n+E,r-c),t.lineTo(n-E,r+c);break;case"line":c=i?i/2:Math.cos(k)*S,d=Math.sin(k)*S,t.moveTo(n-c,r-d),t.lineTo(n+c,r+d);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(k)*(i?i/2:S),r+Math.sin(k)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ur(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function X0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function $0(t){t.restore()}function CS(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function SS(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function AS(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Le(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function IS(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),c=e-o.actualBoundingBoxLeft,d=e+o.actualBoundingBoxRight,g=n-o.actualBoundingBoxAscent,p=n+o.actualBoundingBoxDescent,y=i.strikethrough?(g+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(c,y),t.lineTo(d,y),t.stroke()}}function OS(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function po(t,e,n,r,i,o={}){const c=ft(e)?e:[e],d=o.strokeWidth>0&&o.strokeColor!=="";let g,p;for(t.save(),t.font=i.string,AS(t,o),g=0;g<c.length;++g)p=c[g],o.backdrop&&OS(t,o.backdrop),d&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Le(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(p,n,r,o.maxWidth)),t.fillText(p,n,r,o.maxWidth),IS(t,n,r,p,o),r+=Number(i.lineHeight);t.restore()}function tl(t,e){const{x:n,y:r,w:i,h:o,radius:c}=e;t.arc(n+c.topLeft,r+c.topLeft,c.topLeft,1.5*Et,Et,!0),t.lineTo(n,r+o-c.bottomLeft),t.arc(n+c.bottomLeft,r+o-c.bottomLeft,c.bottomLeft,Et,St,!0),t.lineTo(n+i-c.bottomRight,r+o),t.arc(n+i-c.bottomRight,r+o-c.bottomRight,c.bottomRight,St,0,!0),t.lineTo(n+i,r+c.topRight),t.arc(n+i-c.topRight,r+c.topRight,c.topRight,0,-St,!0),t.lineTo(n+c.topLeft,r)}const TS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,NS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function RS(t,e){const n=(""+t).match(TS);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const MS=t=>+t||0;function Y0(t,e){const n={},r=Be(e),i=r?Object.keys(e):e,o=Be(t)?r?c=>Ie(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of i)n[c]=MS(o(c));return n}function uw(t){return Y0(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ss(t){return Y0(t,["topLeft","topRight","bottomLeft","bottomRight"])}function an(t){const e=uw(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function jt(t,e){t=t||{},e=e||vt.font;let n=Ie(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ie(t.style,e.style);r&&!(""+r).match(NS)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ie(t.family,e.family),lineHeight:RS(Ie(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ie(t.weight,e.weight),string:""};return i.string=bS(i),i}function Jl(t,e,n,r){let i=!0,o,c,d;for(o=0,c=t.length;o<c;++o)if(d=t[o],d!==void 0&&(e!==void 0&&typeof d=="function"&&(d=d(e),i=!1),n!==void 0&&ft(d)&&(d=d[n%d.length],i=!1),d!==void 0))return r&&!i&&(r.cacheable=!1),d}function kS(t,e,n){const{min:r,max:i}=t,o=Jy(e,(i-r)/2),c=(d,g)=>n&&d===0?0:d+g;return{min:c(r,-Math.abs(o)),max:c(i,o)}}function Pi(t,e){return Object.assign(Object.create(t),e)}function Z0(t,e=[""],n,r,i=()=>t[0]){const o=n||t;typeof r>"u"&&(r=gw("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:r,_getTarget:i,override:d=>Z0([d,...t],e,o,r)};return new Proxy(c,{deleteProperty(d,g){return delete d[g],delete d._keys,delete t[0][g],!0},get(d,g){return dw(d,g,()=>WS(g,e,t,d))},getOwnPropertyDescriptor(d,g){return Reflect.getOwnPropertyDescriptor(d._scopes[0],g)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,g){return Fp(d).includes(g)},ownKeys(d){return Fp(d)},set(d,g,p){const y=d._storage||(d._storage=i());return d[g]=y[g]=p,delete d._keys,!0}})}function mo(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:fw(t,r),setContext:o=>mo(t,o,n,r),override:o=>mo(t.override(o),e,n,r)};return new Proxy(i,{deleteProperty(o,c){return delete o[c],delete t[c],!0},get(o,c,d){return dw(o,c,()=>PS(o,c,d))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(o,c,d){return t[c]=d,delete o[c],!0}})}function fw(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Ni(n)?n:()=>n,isIndexable:Ni(r)?r:()=>r}}const DS=(t,e)=>t?t+V0(e):e,K0=(t,e)=>Be(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function dw(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function PS(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:c}=t;let d=r[e];return Ni(d)&&c.isScriptable(e)&&(d=LS(e,d,t,n)),ft(d)&&d.length&&(d=BS(e,d,t,c.isIndexable)),K0(e,d)&&(d=mo(d,i,o&&o[e],c)),d}function LS(t,e,n,r){const{_proxy:i,_context:o,_subProxy:c,_stack:d}=n;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let g=e(o,c||r);return d.delete(t),K0(t,g)&&(g=q0(i._scopes,i,t,g)),g}function BS(t,e,n,r){const{_proxy:i,_context:o,_subProxy:c,_descriptors:d}=n;if(typeof o.index<"u"&&r(t))return e[o.index%e.length];if(Be(e[0])){const g=e,p=i._scopes.filter(y=>y!==g);e=[];for(const y of g){const v=q0(p,i,t,y);e.push(mo(v,o,c&&c[t],d))}}return e}function hw(t,e,n){return Ni(t)?t(e,n):t}const FS=(t,e)=>t===!0?e:typeof t=="string"?gs(e,t):void 0;function zS(t,e,n,r,i){for(const o of e){const c=FS(n,o);if(c){t.add(c);const d=hw(c._fallback,n,i);if(typeof d<"u"&&d!==n&&d!==r)return d}else if(c===!1&&typeof r<"u"&&n!==r)return null}return!1}function q0(t,e,n,r){const i=e._rootScopes,o=hw(e._fallback,n,r),c=[...t,...i],d=new Set;d.add(r);let g=Bp(d,c,n,o||n,r);return g===null||typeof o<"u"&&o!==n&&(g=Bp(d,c,o,g,r),g===null)?!1:Z0(Array.from(d),[""],i,o,()=>US(e,n,r))}function Bp(t,e,n,r,i){for(;n;)n=zS(t,e,n,r,i);return n}function US(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return ft(i)&&Be(n)?n:i||{}}function WS(t,e,n,r){let i;for(const o of e)if(i=gw(DS(o,t),n),typeof i<"u")return K0(t,i)?q0(n,r,t,i):i}function gw(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Fp(t){let e=t._keys;return e||(e=t._keys=VS(t._scopes)),e}function VS(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const HS=Number.EPSILON||1e-14,xo=(t,e)=>e<t.length&&!t[e].skip&&t[e],pw=t=>t==="x"?"y":"x";function jS(t,e,n,r){const i=t.skip?e:t,o=e,c=n.skip?e:n,d=xh(o,i),g=xh(c,o);let p=d/(d+g),y=g/(d+g);p=isNaN(p)?0:p,y=isNaN(y)?0:y;const v=r*p,E=r*y;return{previous:{x:o.x-v*(c.x-i.x),y:o.y-v*(c.y-i.y)},next:{x:o.x+E*(c.x-i.x),y:o.y+E*(c.y-i.y)}}}function GS(t,e,n){const r=t.length;let i,o,c,d,g,p=xo(t,0);for(let y=0;y<r-1;++y)if(g=p,p=xo(t,y+1),!(!g||!p)){if(Ta(e[y],0,HS)){n[y]=n[y+1]=0;continue}i=n[y]/e[y],o=n[y+1]/e[y],d=Math.pow(i,2)+Math.pow(o,2),!(d<=9)&&(c=3/Math.sqrt(d),n[y]=i*c*e[y],n[y+1]=o*c*e[y])}}function XS(t,e,n="x"){const r=pw(n),i=t.length;let o,c,d,g=xo(t,0);for(let p=0;p<i;++p){if(c=d,d=g,g=xo(t,p+1),!d)continue;const y=d[n],v=d[r];c&&(o=(y-c[n])/3,d[`cp1${n}`]=y-o,d[`cp1${r}`]=v-o*e[p]),g&&(o=(g[n]-y)/3,d[`cp2${n}`]=y+o,d[`cp2${r}`]=v+o*e[p])}}function $S(t,e="x"){const n=pw(e),r=t.length,i=Array(r).fill(0),o=Array(r);let c,d,g,p=xo(t,0);for(c=0;c<r;++c)if(d=g,g=p,p=xo(t,c+1),!!g){if(p){const y=p[e]-g[e];i[c]=y!==0?(p[n]-g[n])/y:0}o[c]=d?p?Ir(i[c-1])!==Ir(i[c])?0:(i[c-1]+i[c])/2:i[c-1]:i[c]}GS(t,i,o),XS(t,o,e)}function ec(t,e,n){return Math.max(Math.min(t,n),e)}function YS(t,e){let n,r,i,o,c,d=Ur(t[0],e);for(n=0,r=t.length;n<r;++n)c=o,o=d,d=n<r-1&&Ur(t[n+1],e),o&&(i=t[n],c&&(i.cp1x=ec(i.cp1x,e.left,e.right),i.cp1y=ec(i.cp1y,e.top,e.bottom)),d&&(i.cp2x=ec(i.cp2x,e.left,e.right),i.cp2y=ec(i.cp2y,e.top,e.bottom)))}function ZS(t,e,n,r,i){let o,c,d,g;if(e.spanGaps&&(t=t.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")$S(t,i);else{let p=r?t[t.length-1]:t[0];for(o=0,c=t.length;o<c;++o)d=t[o],g=jS(p,d,t[Math.min(o+1,c-(r?0:1))%c],e.tension),d.cp1x=g.previous.x,d.cp1y=g.previous.y,d.cp2x=g.next.x,d.cp2y=g.next.y,p=d}e.capBezierPoints&&YS(t,n)}function Q0(){return typeof window<"u"&&typeof document<"u"}function J0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function xu(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const ju=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function KS(t,e){return ju(t).getPropertyValue(e)}const qS=["top","right","bottom","left"];function os(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=qS[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const QS=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function JS(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=r;let c=!1,d,g;if(QS(i,o,t.target))d=i,g=o;else{const p=e.getBoundingClientRect();d=r.clientX-p.left,g=r.clientY-p.top,c=!0}return{x:d,y:g,box:c}}function Ki(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=ju(n),o=i.boxSizing==="border-box",c=os(i,"padding"),d=os(i,"border","width"),{x:g,y:p,box:y}=JS(t,n),v=c.left+(y&&d.left),E=c.top+(y&&d.top);let{width:_,height:N}=e;return o&&(_-=c.width+d.width,N-=c.height+d.height),{x:Math.round((g-v)/_*n.width/r),y:Math.round((p-E)/N*n.height/r)}}function eA(t,e,n){let r,i;if(e===void 0||n===void 0){const o=t&&J0(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const c=o.getBoundingClientRect(),d=ju(o),g=os(d,"border","width"),p=os(d,"padding");e=c.width-p.width-g.width,n=c.height-p.height-g.height,r=xu(d.maxWidth,o,"clientWidth"),i=xu(d.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:r||pu,maxHeight:i||pu}}const tc=t=>Math.round(t*10)/10;function tA(t,e,n,r){const i=ju(t),o=os(i,"margin"),c=xu(i.maxWidth,t,"clientWidth")||pu,d=xu(i.maxHeight,t,"clientHeight")||pu,g=eA(t,e,n);let{width:p,height:y}=g;if(i.boxSizing==="content-box"){const E=os(i,"border","width"),_=os(i,"padding");p-=_.width+E.width,y-=_.height+E.height}return p=Math.max(0,p-o.width),y=Math.max(0,r?p/r:y-o.height),p=tc(Math.min(p,c,g.maxWidth)),y=tc(Math.min(y,d,g.maxHeight)),p&&!y&&(y=tc(p/2)),(e!==void 0||n!==void 0)&&r&&g.height&&y>g.height&&(y=g.height,p=tc(Math.floor(y*r))),{width:p,height:y}}function zp(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||c.height!==i||c.width!==o?(t.currentDevicePixelRatio=r,c.height=i,c.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const nA=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Q0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Up(t,e){const n=KS(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function qi(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function rA(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function iA(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},c=qi(t,i,n),d=qi(i,o,n),g=qi(o,e,n),p=qi(c,d,n),y=qi(d,g,n);return qi(p,y,n)}const sA=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},oA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function oo(t,e,n){return t?sA(e,n):oA()}function mw(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function xw(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function yw(t){return t==="angle"?{between:el,compare:sS,normalize:rr}:{between:pi,compare:(e,n)=>e-n,normalize:e=>e}}function Wp({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function aA(t,e,n){const{property:r,start:i,end:o}=n,{between:c,normalize:d}=yw(r),g=e.length;let{start:p,end:y,loop:v}=t,E,_;if(v){for(p+=g,y+=g,E=0,_=g;E<_&&c(d(e[p%g][r]),i,o);++E)p--,y--;p%=g,y%=g}return y<p&&(y+=g),{start:p,end:y,loop:v,style:t.style}}function lA(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,c=e.length,{compare:d,between:g,normalize:p}=yw(r),{start:y,end:v,loop:E,style:_}=aA(t,e,n),N=[];let S=!1,k=null,O,T,R;const B=()=>g(i,R,O)&&d(i,R)!==0,F=()=>d(o,O)===0||g(o,R,O),V=()=>S||B(),L=()=>!S||F();for(let j=y,H=y;j<=v;++j)T=e[j%c],!T.skip&&(O=p(T[r]),O!==R&&(S=g(O,i,o),k===null&&V()&&(k=d(O,i)===0?j:H),k!==null&&L()&&(N.push(Wp({start:k,end:j,loop:E,count:c,style:_})),k=null),H=j,R=O));return k!==null&&N.push(Wp({start:k,end:v,loop:E,count:c,style:_})),N}function cA(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=lA(r[i],t.points,e);o.length&&n.push(...o)}return n}function uA(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}function fA(t,e,n,r){const i=t.length,o=[];let c=e,d=t[e],g;for(g=e+1;g<=n;++g){const p=t[g%i];p.skip||p.stop?d.skip||(r=!1,o.push({start:e%i,end:(g-1)%i,loop:r}),e=c=p.stop?g:null):(c=g,d.skip&&(e=g)),d=p}return c!==null&&o.push({start:e%i,end:c%i,loop:r}),o}function dA(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:c,end:d}=uA(n,i,o,r);if(r===!0)return Vp(t,[{start:c,end:d,loop:o}],n,e);const g=d<c?d+i:d,p=!!t._fullLoop&&c===0&&d===i-1;return Vp(t,fA(n,c,g,p),n,e)}function Vp(t,e,n,r){return!r||!r.setContext||!n?e:hA(t,e,n,r)}function hA(t,e,n,r){const i=t._chart.getContext(),o=Hp(t.options),{_datasetIndex:c,options:{spanGaps:d}}=t,g=n.length,p=[];let y=o,v=e[0].start,E=v;function _(N,S,k,O){const T=d?-1:1;if(N!==S){for(N+=g;n[N%g].skip;)N-=T;for(;n[S%g].skip;)S+=T;N%g!==S%g&&(p.push({start:N%g,end:S%g,loop:k,style:O}),y=O,v=S%g)}}for(const N of e){v=d?v:N.start;let S=n[v%g],k;for(E=v+1;E<=N.end;E++){const O=n[E%g];k=Hp(r.setContext(Pi(i,{type:"segment",p0:S,p1:O,p0DataIndex:(E-1)%g,p1DataIndex:E%g,datasetIndex:c}))),gA(k,y)&&_(v,E-1,N.loop,y),S=O,y=k}v<E-1&&_(v,E-1,N.loop,y)}return p}function Hp(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function gA(t,e){if(!e)return!1;const n=[],r=function(i,o){return G0(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function nc(t,e,n){return t.options.clip?t[n]:e[n]}function pA(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:nc(n,e,"left"),right:nc(n,e,"right"),top:nc(r,e,"top"),bottom:nc(r,e,"bottom")}:e}function mA(t,e){const n=e._clip;if(n.disabled)return!1;const r=pA(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const o=n.listeners[i],c=n.duration;o.forEach(d=>d({chart:e,initial:n.initial,numSteps:c,currentStep:Math.min(r-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=sw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let c=o.length-1,d=!1,g;for(;c>=0;--c)g=o[c],g._active?(g._total>r.duration&&(r.duration=g._total),g.tick(e),d=!0):(o[c]=o[o.length-1],o.pop());d&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Mr=new xA;const jp="transparent",yA={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Dp(t||jp),i=r.valid&&Dp(e||jp);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class wA{constructor(e,n,r,i){const o=n[r];i=Jl([e.to,i,o,e.from]);const c=Jl([e.from,o,i]);this._active=!0,this._fn=e.fn||yA[e.type||typeof c],this._easing=Na[e.easing]||Na.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,c=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Jl([e.to,n,i,e.from]),this._from=Jl([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,o=this._from,c=this._loop,d=this._to;let g;if(this._active=o!==d&&(c||n<r),!this._active){this._target[i]=d,this._notify(!0);return}if(n<0){this._target[i]=o;return}g=n/r%2,g=c&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[i]=this._fn(o,d,g)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class ww{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Be(e))return;const n=Object.keys(vt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!Be(o))return;const c={};for(const d of n)c[d]=o[d];(ft(o.properties)&&o.properties||[i]).forEach(d=>{(d===i||!r.has(d))&&r.set(d,c)})})}_animateOptions(e,n){const r=n.options,i=EA(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&vA(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,n){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),c=Object.keys(n),d=Date.now();let g;for(g=c.length-1;g>=0;--g){const p=c[g];if(p.charAt(0)==="$")continue;if(p==="options"){i.push(...this._animateOptions(e,n));continue}const y=n[p];let v=o[p];const E=r.get(p);if(v)if(E&&v.active()){v.update(E,y,d);continue}else v.cancel();if(!E||!E.duration){e[p]=y;continue}o[p]=v=new wA(E,e,p,y),i.push(v)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Mr.add(this._chart,r),!0}}function vA(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=t[r[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function EA(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Gp(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function bA(t,e,n){if(n===!1)return!1;const r=Gp(t,n),i=Gp(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function _A(t){let e,n,r,i;return Be(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function vw(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function Xp(t,e,n,r={}){const i=t.keys,o=r.mode==="single";let c,d,g,p;if(e===null)return;let y=!1;for(c=0,d=i.length;c<d;++c){if(g=+i[c],g===n){if(y=!0,r.all)continue;break}p=t.values[g],Bt(p)&&(o||e===0||Ir(e)===Ir(p))&&(e+=p)}return!y&&!r.all?0:e}function CA(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",c=Object.keys(t),d=new Array(c.length);let g,p,y;for(g=0,p=c.length;g<p;++g)y=c[g],d[g]={[i]:y,[o]:t[y]};return d}function nd(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function SA(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function AA(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function IA(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function $p(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=t[i.index];if(n&&o>0||!n&&o<0)return i.index}return null}function Yp(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:d}=r,g=o.axis,p=c.axis,y=SA(o,c,r),v=e.length;let E;for(let _=0;_<v;++_){const N=e[_],{[g]:S,[p]:k}=N,O=N._stacks||(N._stacks={});E=O[p]=IA(i,y,S),E[d]=k,E._top=$p(E,c,!0,r.type),E._bottom=$p(E,c,!1,r.type);const T=E._visualValues||(E._visualValues={});T[d]=k}}function rd(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function OA(t,e){return Pi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function TA(t,e,n){return Pi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Zo(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][n]===void 0)return;delete o[r][n],o[r]._visualValues!==void 0&&o[r]._visualValues[n]!==void 0&&delete o[r]._visualValues[n]}}}const id=t=>t==="reset"||t==="none",Zp=(t,e)=>e?t:Object.assign({},t),NA=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:vw(n,!0),values:null};class as{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=nd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Zo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(v,E,_,N)=>v==="x"?E:v==="r"?N:_,o=n.xAxisID=Ie(r.xAxisID,rd(e,"x")),c=n.yAxisID=Ie(r.yAxisID,rd(e,"y")),d=n.rAxisID=Ie(r.rAxisID,rd(e,"r")),g=n.indexAxis,p=n.iAxisID=i(g,o,c,d),y=n.vAxisID=i(g,c,o,d);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(d),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Rp(this._data,this),e._stacked&&Zo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Be(n)){const i=this._cachedMeta;this._data=CA(n,i)}else if(r!==n){if(r){Rp(r,this);const i=this._cachedMeta;Zo(i),i._parsed=[]}n&&Object.isExtensible(n)&&cS(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=n._stacked;n._stacked=nd(n.vScale,n),n.stack!==r.stack&&(i=!0,Zo(n),n.stack=r.stack),this._resyncElements(e),(i||o!==n._stacked)&&(Yp(this,n._parsed),n._stacked=nd(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:c}=r,d=o.axis;let g=e===0&&n===i.length?!0:r._sorted,p=e>0&&r._parsed[e-1],y,v,E;if(this._parsing===!1)r._parsed=i,r._sorted=!0,E=i;else{ft(i[e])?E=this.parseArrayData(r,i,e,n):Be(i[e])?E=this.parseObjectData(r,i,e,n):E=this.parsePrimitiveData(r,i,e,n);const _=()=>v[d]===null||p&&v[d]<p[d];for(y=0;y<n;++y)r._parsed[y+e]=v=E[y],g&&(_()&&(g=!1),p=v);r._sorted=g}c&&Yp(this,E)}parsePrimitiveData(e,n,r,i){const{iScale:o,vScale:c}=e,d=o.axis,g=c.axis,p=o.getLabels(),y=o===c,v=new Array(i);let E,_,N;for(E=0,_=i;E<_;++E)N=E+r,v[E]={[d]:y||o.parse(p[N],N),[g]:c.parse(n[N],N)};return v}parseArrayData(e,n,r,i){const{xScale:o,yScale:c}=e,d=new Array(i);let g,p,y,v;for(g=0,p=i;g<p;++g)y=g+r,v=n[y],d[g]={x:o.parse(v[0],y),y:c.parse(v[1],y)};return d}parseObjectData(e,n,r,i){const{xScale:o,yScale:c}=e,{xAxisKey:d="x",yAxisKey:g="y"}=this._parsing,p=new Array(i);let y,v,E,_;for(y=0,v=i;y<v;++y)E=y+r,_=n[E],p[y]={x:o.parse(gs(_,d),E),y:c.parse(gs(_,g),E)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,o=this._cachedMeta,c=n[e.axis],d={keys:vw(i,!0),values:n._stacks[e.axis]._visualValues};return Xp(d,c,o.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const o=r[n.axis];let c=o===null?NaN:o;const d=i&&r._stacks[n.axis];i&&d&&(i.values=d,c=Xp(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&e===r.iScale,c=i.length,d=this._getOtherScale(e),g=NA(n,r,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=AA(d);let E,_;function N(){_=i[E];const S=_[d.axis];return!Bt(_[e.axis])||y>S||v<S}for(E=0;E<c&&!(!N()&&(this.updateRangeFromParsed(p,e,_,g),o));++E);if(o){for(E=c-1;E>=0;--E)if(!N()){this.updateRangeFromParsed(p,e,_,g);break}}return p}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,o,c;for(i=0,o=n.length;i<o;++i)c=n[i][e.axis],Bt(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=_A(Ie(this.options.clip,bA(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],o=n.chartArea,c=[],d=this._drawStart||0,g=this._drawCount||i.length-d,p=this.options.drawActiveElementsOnTop;let y;for(r.dataset&&r.dataset.draw(e,o,d,g),y=d;y<d+g;++y){const v=i[y];v.hidden||(v.active&&p?c.push(v):v.draw(e,o))}for(y=0;y<c.length;++y)c[y].draw(e,o)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=TA(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=OA(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",o=this._cachedDataOpts,c=e+"-"+n,d=o[c],g=this.enableOptionSharing&&Qa(r);if(d)return Zp(d,g);const p=this.chart.config,y=p.datasetElementScopeKeys(this._type,e),v=i?[`${e}Hover`,"hover",e,""]:[e,""],E=p.getOptionScopes(this.getDataset(),y),_=Object.keys(vt.elements[e]),N=()=>this.getContext(r,i,n),S=p.resolveNamedOptions(E,_,N,v);return S.$shared&&(S.$shared=g,o[c]=Object.freeze(Zp(S,g))),S}_resolveAnimations(e,n,r){const i=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,d=o[c];if(d)return d;let g;if(i.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,n),E=y.getOptionScopes(this.getDataset(),v);g=y.createResolver(E,this.getContext(e,r,n))}const p=new ww(i,g&&g.animations);return g&&g._cacheable&&(o[c]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||id(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,o=this.getSharedOptions(r),c=this.includeOptions(n,o)||o!==i;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:c}}updateElement(e,n,r,i){id(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!id(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[d,g,p]of this._syncList)this[d](g,p);this._syncList=[];const i=r.length,o=n.length,c=Math.min(o,i);c&&this.parse(0,c),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,n,r=!0){const i=this._cachedMeta,o=i.data,c=e+n;let d;const g=p=>{for(p.length+=n,d=p.length-1;d>=c;d--)p[d]=p[d-n]};for(g(o),d=e;d<c;++d)o[d]=new this.dataElementType;this._parsing&&g(i._parsed),this.parse(e,n),r&&this.updateElements(o,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Zo(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ue(as,"defaults",{}),ue(as,"datasetElementType",null),ue(as,"dataElementType",null);function RA(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,o=n.length;i<o;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=iw(r.sort((i,o)=>i-o))}return t._cache.$bar}function MA(t){const e=t.iScale,n=RA(e,t.type);let r=e._length,i,o,c,d;const g=()=>{c===32767||c===-32768||(Qa(d)&&(r=Math.min(r,Math.abs(c-d)||r)),d=c)};for(i=0,o=n.length;i<o;++i)c=e.getPixelForValue(n[i]),g();for(d=void 0,i=0,o=e.ticks.length;i<o;++i)c=e.getPixelForTick(i),g();return r}function kA(t,e,n,r){const i=n.barThickness;let o,c;return Le(i)?(o=e.min*n.categoryPercentage,c=n.barPercentage):(o=i*r,c=1),{chunk:o/r,ratio:c,start:e.pixels[t]-o/2}}function DA(t,e,n,r){const i=e.pixels,o=i[t];let c=t>0?i[t-1]:null,d=t<i.length-1?i[t+1]:null;const g=n.categoryPercentage;c===null&&(c=o-(d===null?e.end-e.start:d-o)),d===null&&(d=o+o-c);const p=o-(o-Math.min(c,d))/2*g;return{chunk:Math.abs(d-c)/2*g/r,ratio:n.barPercentage,start:p}}function PA(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),c=Math.min(i,o),d=Math.max(i,o);let g=c,p=d;Math.abs(c)>Math.abs(d)&&(g=d,p=c),e[n.axis]=p,e._custom={barStart:g,barEnd:p,start:i,end:o,min:c,max:d}}function Ew(t,e,n,r){return ft(t)?PA(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Kp(t,e,n,r){const i=t.iScale,o=t.vScale,c=i.getLabels(),d=i===o,g=[];let p,y,v,E;for(p=n,y=n+r;p<y;++p)E=e[p],v={},v[i.axis]=d||i.parse(c[p],p),g.push(Ew(E,v,o,p));return g}function sd(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function LA(t,e,n){return t!==0?Ir(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function BA(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}function FA(t,e,n,r){let i=e.borderSkipped;const o={};if(!i){t.borderSkipped=o;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:d,reverse:g,top:p,bottom:y}=BA(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=p:(n._bottom||0)===r?i=y:(o[qp(y,c,d,g)]=!0,i=p)),o[qp(i,c,d,g)]=!0,t.borderSkipped=o}function qp(t,e,n,r){return r?(t=zA(t,e,n),t=Qp(t,n,e)):t=Qp(t,e,n),t}function zA(t,e,n){return t===e?n:t===n?e:t}function Qp(t,e,n){return t==="start"?e:t==="end"?n:t}function UA(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Nc extends as{parsePrimitiveData(e,n,r,i){return Kp(e,n,r,i)}parseArrayData(e,n,r,i){return Kp(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:o,vScale:c}=e,{xAxisKey:d="x",yAxisKey:g="y"}=this._parsing,p=o.axis==="x"?d:g,y=c.axis==="x"?d:g,v=[];let E,_,N,S;for(E=r,_=r+i;E<_;++E)S=n[E],N={},N[o.axis]=o.parse(gs(S,p),E),v.push(Ew(gs(S,y),N,c,E));return v}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const o=r._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,o=this.getParsed(e),c=o._custom,d=sd(c)?"["+c.start+", "+c.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const o=i==="reset",{index:c,_cachedMeta:{vScale:d}}=this,g=d.getBasePixel(),p=d.isHorizontal(),y=this._getRuler(),{sharedOptions:v,includeOptions:E}=this._getSharedOptions(n,i);for(let _=n;_<n+r;_++){const N=this.getParsed(_),S=o||Le(N[d.axis])?{base:g,head:g}:this._calculateBarValuePixels(_),k=this._calculateBarIndexPixels(_,y),O=(N._stacks||{})[d.axis],T={horizontal:p,base:S.base,enableBorderRadius:!O||sd(N._custom)||c===O._top||c===O._bottom,x:p?S.head:k.center,y:p?k.center:S.head,height:p?k.size:Math.abs(S.size),width:p?Math.abs(S.size):k.size};E&&(T.options=v||this.resolveDataElementOptions(_,e[_].active?"active":i));const R=T.options||e[_].options;FA(T,R,O,c),UA(T,R,y.ratio),this.updateElement(e[_],_,T,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=r.options.stacked,c=[],d=this._cachedMeta.controller.getParsed(n),g=d&&d[r.axis],p=y=>{const v=y._parsed.find(_=>_[r.axis]===g),E=v&&v[y.vScale.axis];if(Le(E)||isNaN(E))return!0};for(const y of i)if(!(n!==void 0&&p(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),o=n!==void 0?i.indexOf(n):-1;return o===-1?i.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let o,c;for(o=0,c=n.data.length;o<c;++o)i.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const d=e.barThickness;return{min:d||MA(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:o,minBarLength:c}}=this,d=o||0,g=this.getParsed(e),p=g._custom,y=sd(p);let v=g[n.axis],E=0,_=r?this.applyStack(n,g,r):v,N,S;_!==v&&(E=_-v,_=v),y&&(v=p.barStart,_=p.barEnd-p.barStart,v!==0&&Ir(v)!==Ir(p.barEnd)&&(E=0),E+=v);const k=!Le(o)&&!y?o:E;let O=n.getPixelForValue(k);if(this.chart.getDataVisibility(e)?N=n.getPixelForValue(E+_):N=O,S=N-O,Math.abs(S)<c){S=LA(S,n,d)*c,v===d&&(O-=S/2);const T=n.getPixelForDecimal(0),R=n.getPixelForDecimal(1),B=Math.min(T,R),F=Math.max(T,R);O=Math.max(Math.min(O,F),B),N=O+S,r&&!y&&(g._stacks[n.axis]._visualValues[i]=n.getValueForPixel(N)-n.getValueForPixel(O))}if(O===n.getPixelForValue(d)){const T=Ir(S)*n.getLineWidthForValue(d)/2;O+=T,S-=T}return{size:S,base:O,head:N,center:N+S/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,o=i.skipNull,c=Ie(i.maxBarThickness,1/0);let d,g;if(n.grouped){const p=o?this._getStackCount(e):n.stackCount,y=i.barThickness==="flex"?DA(e,n,i,p):kA(e,n,i,p),v=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);d=y.start+y.chunk*v+y.chunk/2,g=Math.min(c,y.chunk*y.ratio)}else d=r.getPixelForValue(this.getParsed(e)[r.axis],e),g=Math.min(c,n.min*n.ratio);return{base:d-g/2,head:d+g/2,center:d,size:g}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let o=0;for(;o<i;++o)this.getParsed(o)[n.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}ue(Nc,"id","bar"),ue(Nc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ue(Nc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function WA(t,e,n){let r=1,i=1,o=0,c=0;if(e<ot){const d=t,g=d+e,p=Math.cos(d),y=Math.sin(d),v=Math.cos(g),E=Math.sin(g),_=(R,B,F)=>el(R,d,g,!0)?1:Math.max(B,B*n,F,F*n),N=(R,B,F)=>el(R,d,g,!0)?-1:Math.min(B,B*n,F,F*n),S=_(0,p,v),k=_(St,y,E),O=N(Et,p,v),T=N(Et+St,y,E);r=(S-O)/2,i=(k-T)/2,o=-(S+O)/2,c=-(k+T)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:c}}class ha extends as{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let o=g=>+r[g];if(Be(r[e])){const{key:g="value"}=this._parsing;o=p=>+gs(r[p],g)}let c,d;for(c=e,d=e+n;c<d;++c)i._parsed[c]=o(c)}}_getRotation(){return _r(this.options.rotation-90)}_getCircumference(){return _r(this.options.circumference)}_getRotationExtents(){let e=ot,n=-ot;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,o=i._getRotation(),c=i._getCircumference();e=Math.min(e,o),n=Math.max(n,o+c)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,o=i.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,d=Math.max((Math.min(r.width,r.height)-c)/2,0),g=Math.min(YC(this.options.cutout,d),1),p=this._getRingWeight(this.index),{circumference:y,rotation:v}=this._getRotationExtents(),{ratioX:E,ratioY:_,offsetX:N,offsetY:S}=WA(v,y,g),k=(r.width-c)/E,O=(r.height-c)/_,T=Math.max(Math.min(k,O)/2,0),R=Jy(this.options.radius,T),B=Math.max(R*g,0),F=(R-B)/this._getVisibleDatasetWeightTotal();this.offsetX=N*R,this.offsetY=S*R,i.total=this.calculateTotal(),this.outerRadius=R-F*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-F*p,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/ot)}updateElements(e,n,r,i){const o=i==="reset",c=this.chart,d=c.chartArea,p=c.options.animation,y=(d.left+d.right)/2,v=(d.top+d.bottom)/2,E=o&&p.animateScale,_=E?0:this.innerRadius,N=E?0:this.outerRadius,{sharedOptions:S,includeOptions:k}=this._getSharedOptions(n,i);let O=this._getRotation(),T;for(T=0;T<n;++T)O+=this._circumference(T,o);for(T=n;T<n+r;++T){const R=this._circumference(T,o),B=e[T],F={x:y+this.offsetX,y:v+this.offsetY,startAngle:O,endAngle:O+R,circumference:R,outerRadius:N,innerRadius:_};k&&(F.options=S||this.resolveDataElementOptions(T,B.active?"active":i)),O+=R,this.updateElement(B,T,F,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ot*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=Vu(n._parsed[e],r.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,o,c,d,g;if(!e){for(i=0,o=r.data.datasets.length;i<o;++i)if(r.isDatasetVisible(i)){c=r.getDatasetMeta(i),e=c.data,d=c.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)g=d.resolveDataElementOptions(i),g.borderAlign!=="inner"&&(n=Math.max(n,g.borderWidth||0,g.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Ie(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ue(ha,"id","doughnut"),ue(ha,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ue(ha,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ue(ha,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((o,c)=>{const g=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:i,lineWidth:g.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Rc extends as{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:o}=n,c=this.chart._animationsDisabled;let{start:d,count:g}=dS(n,i,c);this._drawStart=d,this._drawCount=g,hS(n)&&(d=0,g=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=i;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:p},e),this.updateElements(i,d,g,e)}updateElements(e,n,r,i){const o=i==="reset",{iScale:c,vScale:d,_stacked:g,_dataset:p}=this._cachedMeta,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(n,i),E=c.axis,_=d.axis,{spanGaps:N,segment:S}=this.options,k=Ja(N)?N:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||i==="none",T=n+r,R=e.length;let B=n>0&&this.getParsed(n-1);for(let F=0;F<R;++F){const V=e[F],L=O?V:{};if(F<n||F>=T){L.skip=!0;continue}const j=this.getParsed(F),H=Le(j[_]),Q=L[E]=c.getPixelForValue(j[E],F),oe=L[_]=o||H?d.getBasePixel():d.getPixelForValue(g?this.applyStack(d,j,g):j[_],F);L.skip=isNaN(Q)||isNaN(oe)||H,L.stop=F>0&&Math.abs(j[E]-B[E])>k,S&&(L.parsed=j,L.raw=p.data[F]),v&&(L.options=y||this.resolveDataElementOptions(F,V.active?"active":i)),O||this.updateElement(V,F,L,i),B=j}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const o=i[0].size(this.resolveDataElementOptions(0)),c=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,o,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ue(Rc,"id","line"),ue(Rc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ue(Rc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Gi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class e1{constructor(e){ue(this,"options");this.options=e||{}}static override(e){Object.assign(e1.prototype,e)}init(){}formats(){return Gi()}parse(){return Gi()}format(){return Gi()}add(){return Gi()}diff(){return Gi()}startOf(){return Gi()}endOf(){return Gi()}}var VA={_date:e1};function HA(t,e,n,r){const{controller:i,data:o,_sorted:c}=t,d=i._cachedMeta.iScale,g=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&c&&o.length){const p=d._reversePixels?aS:ns;if(r){if(i._sharedOptions){const y=o[0],v=typeof y.getRange=="function"&&y.getRange(e);if(v){const E=p(o,e,n-v),_=p(o,e,n+v);return{lo:E.lo,hi:_.hi}}}}else{const y=p(o,e,n);if(g){const{vScale:v}=i._cachedMeta,{_parsed:E}=t,_=E.slice(0,y.lo+1).reverse().findIndex(S=>!Le(S[v.axis]));y.lo-=Math.max(0,_);const N=E.slice(y.hi).findIndex(S=>!Le(S[v.axis]));y.hi+=Math.max(0,N)}return y}}return{lo:0,hi:o.length-1}}function gl(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),c=n[e];for(let d=0,g=o.length;d<g;++d){const{index:p,data:y}=o[d],{lo:v,hi:E}=HA(o[d],e,c,i);for(let _=v;_<=E;++_){const N=y[_];N.skip||r(N,p,_)}}}function jA(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,c=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function od(t,e,n,r,i){const o=[];return!i&&!t.isPointInArea(e)||gl(t,n,e,function(d,g,p){!i&&!Ur(d,t.chartArea,0)||d.inRange(e.x,e.y,r)&&o.push({element:d,datasetIndex:g,index:p})},!0),o}function GA(t,e,n,r){let i=[];function o(c,d,g){const{startAngle:p,endAngle:y}=c.getProps(["startAngle","endAngle"],r),{angle:v}=nw(c,{x:e.x,y:e.y});el(v,p,y)&&i.push({element:c,datasetIndex:d,index:g})}return gl(t,n,e,o),i}function XA(t,e,n,r,i,o){let c=[];const d=jA(n);let g=Number.POSITIVE_INFINITY;function p(y,v,E){const _=y.inRange(e.x,e.y,i);if(r&&!_)return;const N=y.getCenterPoint(i);if(!(!!o||t.isPointInArea(N))&&!_)return;const k=d(e,N);k<g?(c=[{element:y,datasetIndex:v,index:E}],g=k):k===g&&c.push({element:y,datasetIndex:v,index:E})}return gl(t,n,e,p),c}function ad(t,e,n,r,i,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!r?GA(t,e,n,i):XA(t,e,n,r,i,o)}function Jp(t,e,n,r,i){const o=[],c=n==="x"?"inXRange":"inYRange";let d=!1;return gl(t,n,e,(g,p,y)=>{g[c]&&g[c](e[n],i)&&(o.push({element:g,datasetIndex:p,index:y}),d=d||g.inRange(e.x,e.y,i))}),r&&!d?[]:o}var $A={evaluateInteractionItems:gl,modes:{index(t,e,n,r){const i=Ki(e,t),o=n.axis||"x",c=n.includeInvisible||!1,d=n.intersect?od(t,i,o,r,c):ad(t,i,o,!1,r,c),g=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(p=>{const y=d[0].index,v=p.data[y];v&&!v.skip&&g.push({element:v,datasetIndex:p.index,index:y})}),g):[]},dataset(t,e,n,r){const i=Ki(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;let d=n.intersect?od(t,i,o,r,c):ad(t,i,o,!1,r,c);if(d.length>0){const g=d[0].datasetIndex,p=t.getDatasetMeta(g).data;d=[];for(let y=0;y<p.length;++y)d.push({element:p[y],datasetIndex:g,index:y})}return d},point(t,e,n,r){const i=Ki(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return od(t,i,o,r,c)},nearest(t,e,n,r){const i=Ki(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return ad(t,i,o,n.intersect,r,c)},x(t,e,n,r){const i=Ki(e,t);return Jp(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Ki(e,t);return Jp(t,i,"y",n.intersect,r)}}};const bw=["left","top","right","bottom"];function Ko(t,e){return t.filter(n=>n.pos===e)}function em(t,e){return t.filter(n=>bw.indexOf(n.pos)===-1&&n.box.axis===e)}function qo(t,e){return t.sort((n,r)=>{const i=e?r:n,o=e?n:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function YA(t){const e=[];let n,r,i,o,c,d;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:o,options:{stack:c,stackWeight:d=1}}=i,e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&o+c,stackWeight:d});return e}function ZA(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:o}=n;if(!r||!bw.includes(i))continue;const c=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function KA(t,e){const n=ZA(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,c,d;for(o=0,c=t.length;o<c;++o){d=t[o];const{fullSize:g}=d.box,p=n[d.stack],y=p&&d.stackWeight/p.weight;d.horizontal?(d.width=y?y*r:g&&e.availableWidth,d.height=i):(d.width=r,d.height=y?y*i:g&&e.availableHeight)}return n}function qA(t){const e=YA(t),n=qo(e.filter(p=>p.box.fullSize),!0),r=qo(Ko(e,"left"),!0),i=qo(Ko(e,"right")),o=qo(Ko(e,"top"),!0),c=qo(Ko(e,"bottom")),d=em(e,"x"),g=em(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(g).concat(c).concat(d),chartArea:Ko(e,"chartArea"),vertical:r.concat(i).concat(g),horizontal:o.concat(c).concat(d)}}function tm(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function _w(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function QA(t,e,n,r){const{pos:i,box:o}=n,c=t.maxPadding;if(!Be(i)){n.size&&(t[i]-=n.size);const v=r[n.stack]||{size:0,count:1};v.size=Math.max(v.size,n.horizontal?o.height:o.width),n.size=v.size/v.count,t[i]+=n.size}o.getPadding&&_w(c,o.getPadding());const d=Math.max(0,e.outerWidth-tm(c,t,"left","right")),g=Math.max(0,e.outerHeight-tm(c,t,"top","bottom")),p=d!==t.w,y=g!==t.h;return t.w=d,t.h=g,n.horizontal?{same:p,other:y}:{same:y,other:p}}function JA(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function e8(t,e){const n=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{o[c]=Math.max(e[c],n[c])}),o}return r(t?["left","right"]:["top","bottom"])}function ga(t,e,n,r){const i=[];let o,c,d,g,p,y;for(o=0,c=t.length,p=0;o<c;++o){d=t[o],g=d.box,g.update(d.width||e.w,d.height||e.h,e8(d.horizontal,e));const{same:v,other:E}=QA(e,n,d,r);p|=v&&i.length,y=y||E,g.fullSize||i.push(d)}return p&&ga(i,e,n,r)||y}function rc(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function nm(t,e,n,r){const i=n.padding;let{x:o,y:c}=e;for(const d of t){const g=d.box,p=r[d.stack]||{count:1,placed:0,weight:1},y=d.stackWeight/p.weight||1;if(d.horizontal){const v=e.w*y,E=p.size||g.height;Qa(p.start)&&(c=p.start),g.fullSize?rc(g,i.left,c,n.outerWidth-i.right-i.left,E):rc(g,e.left+p.placed,c,v,E),p.start=c,p.placed+=v,c=g.bottom}else{const v=e.h*y,E=p.size||g.width;Qa(p.start)&&(o=p.start),g.fullSize?rc(g,o,i.top,E,n.outerHeight-i.bottom-i.top):rc(g,o,e.top+p.placed,E,v),p.start=o,p.placed+=v,o=g.right}}e.x=o,e.y=c}var mi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=an(t.options.layout.padding),o=Math.max(e-i.width,0),c=Math.max(n-i.height,0),d=qA(t.boxes),g=d.vertical,p=d.horizontal;He(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const y=g.reduce((S,k)=>k.box.options&&k.box.options.display===!1?S:S+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),E=Object.assign({},i);_w(E,an(r));const _=Object.assign({maxPadding:E,w:o,h:c,x:i.left,y:i.top},i),N=KA(g.concat(p),v);ga(d.fullSize,_,v,N),ga(g,_,v,N),ga(p,_,v,N)&&ga(g,_,v,N),JA(_),nm(d.leftAndTop,_,v,N),_.x+=_.w,_.y+=_.h,nm(d.rightAndBottom,_,v,N),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},He(d.chartArea,S=>{const k=S.box;Object.assign(k,t.chartArea),k.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class Cw{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class t8 extends Cw{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Mc="$chartjs",n8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rm=t=>t===null||t==="";function r8(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Mc]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",rm(i)){const o=Up(t,"width");o!==void 0&&(t.width=o)}if(rm(r))if(t.style.height==="")t.height=t.width/(e||2);else{const o=Up(t,"height");o!==void 0&&(t.height=o)}return t}const Sw=nA?{passive:!0}:!1;function i8(t,e,n){t&&t.addEventListener(e,n,Sw)}function s8(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Sw)}function o8(t,e){const n=n8[t.type]||t.type,{x:r,y:i}=Ki(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function yu(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function a8(t,e,n){const r=t.canvas,i=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||yu(d.addedNodes,r),c=c&&!yu(d.removedNodes,r);c&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function l8(t,e,n){const r=t.canvas,i=new MutationObserver(o=>{let c=!1;for(const d of o)c=c||yu(d.removedNodes,r),c=c&&!yu(d.addedNodes,r);c&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const nl=new Map;let im=0;function Aw(){const t=window.devicePixelRatio;t!==im&&(im=t,nl.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function c8(t,e){nl.size||window.addEventListener("resize",Aw),nl.set(t,e)}function u8(t){nl.delete(t),nl.size||window.removeEventListener("resize",Aw)}function f8(t,e,n){const r=t.canvas,i=r&&J0(r);if(!i)return;const o=ow((d,g)=>{const p=i.clientWidth;n(d,g),p<i.clientWidth&&n()},window),c=new ResizeObserver(d=>{const g=d[0],p=g.contentRect.width,y=g.contentRect.height;p===0&&y===0||o(p,y)});return c.observe(i),c8(t,o),c}function ld(t,e,n){n&&n.disconnect(),e==="resize"&&u8(t)}function d8(t,e,n){const r=t.canvas,i=ow(o=>{t.ctx!==null&&n(o8(o,t))},t);return i8(r,e,i),i}class h8 extends Cw{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(r8(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Mc])return!1;const r=n[Mc].initial;["height","width"].forEach(o=>{const c=r[o];Le(c)?n.removeAttribute(o):n.setAttribute(o,c)});const i=r.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[Mc],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),c={attach:a8,detach:l8,resize:f8}[n]||d8;i[n]=c(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:ld,detach:ld,resize:ld}[n]||s8)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return tA(e,n,r,i)}isAttached(e){const n=e&&J0(e);return!!(n&&n.isConnected)}}function g8(t){return!Q0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?t8:h8}class Or{constructor(){ue(this,"x");ue(this,"y");ue(this,"active",!1);ue(this,"options");ue(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Ja(this.x)&&Ja(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}}ue(Or,"defaults",{}),ue(Or,"defaultRoutes");function p8(t,e){const n=t.options.ticks,r=m8(t),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?y8(e):[],c=o.length,d=o[0],g=o[c-1],p=[];if(c>i)return w8(e,p,o,c/i),p;const y=x8(o,e,i);if(c>0){let v,E;const _=c>1?Math.round((g-d)/(c-1)):null;for(ic(e,p,y,Le(_)?0:d-_,d),v=0,E=c-1;v<E;v++)ic(e,p,y,o[v],o[v+1]);return ic(e,p,y,g,Le(_)?e.length:g+_),p}return ic(e,p,y),p}function m8(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function x8(t,e,n){const r=v8(t),i=e.length/n;if(!r)return Math.max(i,1);const o=nS(r);for(let c=0,d=o.length-1;c<d;c++){const g=o[c];if(g>i)return g}return Math.max(i,1)}function y8(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function w8(t,e,n,r){let i=0,o=n[0],c;for(r=Math.ceil(r),c=0;c<t.length;c++)c===o&&(e.push(t[c]),i++,o=n[i*r])}function ic(t,e,n,r,i){const o=Ie(r,0),c=Math.min(Ie(i,t.length),t.length);let d=0,g,p,y;for(n=Math.ceil(n),i&&(g=i-r,n=g/Math.floor(g/n)),y=o;y<0;)d++,y=Math.round(o+d*n);for(p=Math.max(o,0);p<c;p++)p===y&&(e.push(t[p]),d++,y=Math.round(o+d*n))}function v8(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const E8=t=>t==="left"?"right":t==="right"?"left":t,sm=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,om=(t,e)=>Math.min(e||t,t);function am(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function b8(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,c=t._endPixel,d=1e-6;let g=t.getPixelForTick(i),p;if(!(n&&(r===1?p=Math.max(g-o,c-g):e===0?p=(t.getPixelForTick(1)-g)/2:p=(g-t.getPixelForTick(i-1))/2,g+=i<e?p:-p,g<o-d||g>c+d)))return g}function _8(t,e){He(t,n=>{const r=n.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete n.data[r[o]];r.splice(0,i)}})}function Qo(t){return t.drawTicks?t.tickLength:0}function lm(t,e){if(!t.display)return 0;const n=jt(t.font,e),r=an(t.padding);return(ft(t.text)?t.text.length:1)*n.lineHeight+r.height}function C8(t,e){return Pi(t,{scale:e,type:"scale"})}function S8(t,e,n){return Pi(t,{tick:n,index:e,type:"tick"})}function A8(t,e,n){let r=aw(t);return(n&&e!=="right"||!n&&e==="right")&&(r=E8(r)),r}function I8(t,e,n,r){const{top:i,left:o,bottom:c,right:d,chart:g}=t,{chartArea:p,scales:y}=g;let v=0,E,_,N;const S=c-i,k=d-o;if(t.isHorizontal()){if(_=In(r,o,d),Be(n)){const O=Object.keys(n)[0],T=n[O];N=y[O].getPixelForValue(T)+S-e}else n==="center"?N=(p.bottom+p.top)/2+S-e:N=sm(t,n,e);E=d-o}else{if(Be(n)){const O=Object.keys(n)[0],T=n[O];_=y[O].getPixelForValue(T)-k+e}else n==="center"?_=(p.left+p.right)/2-k+e:_=sm(t,n,e);N=In(r,c,i),v=n==="left"?-St:St}return{titleX:_,titleY:N,maxWidth:E,rotation:v}}class ys extends Or{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Tn(e,Number.POSITIVE_INFINITY),n=Tn(n,Number.NEGATIVE_INFINITY),r=Tn(r,Number.POSITIVE_INFINITY),i=Tn(i,Number.NEGATIVE_INFINITY),{min:Tn(e,r),max:Tn(n,i),minDefined:Bt(e),maxDefined:Bt(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),c;if(i&&o)return{min:n,max:r};const d=this.getMatchingVisibleMetas();for(let g=0,p=d.length;g<p;++g)c=d[g].controller.getMinMax(this,e),i||(n=Math.min(n,c.min)),o||(r=Math.max(r,c.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:Tn(n,Tn(r,n)),max:Tn(r,Tn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){qe(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:o,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kS(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const g=d<this.ticks.length;this._convertTicksToLabels(g?am(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=p8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){qe(this.options.afterUpdate,[this])}beforeSetDimensions(){qe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){qe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),qe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){qe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=qe(n.callback,[o.value,r,e],this)}afterTickToLabelConversion(){qe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){qe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=om(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,o=n.maxRotation;let c=i,d,g,p;if(!this._isVisible()||!n.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const y=this._getLabelSizes(),v=y.widest.width,E=y.highest.height,_=en(this.chart.width-v,0,this.maxWidth);d=e.offset?this.maxWidth/r:_/(r-1),v+6>d&&(d=_/(r-(e.offset?.5:1)),g=this.maxHeight-Qo(e.grid)-n.padding-lm(e.title,this.chart.options.font),p=Math.sqrt(v*v+E*E),c=H0(Math.min(Math.asin(en((y.highest.height+6)/d,-1,1)),Math.asin(en(g/p,-1,1))-Math.asin(en(E/p,-1,1)))),c=Math.max(i,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){qe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){qe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:o}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const g=lm(i,n.options.font);if(d?(e.width=this.maxWidth,e.height=Qo(o)+g):(e.height=this.maxHeight,e.width=Qo(o)+g),r.display&&this.ticks.length){const{first:p,last:y,widest:v,highest:E}=this._getLabelSizes(),_=r.padding*2,N=_r(this.labelRotation),S=Math.cos(N),k=Math.sin(N);if(d){const O=r.mirror?0:k*v.width+S*E.height;e.height=Math.min(this.maxHeight,e.height+O+_)}else{const O=r.mirror?0:S*v.width+k*E.height;e.width=Math.min(this.maxWidth,e.width+O+_)}this._calculatePadding(p,y,k,S)}}this._handleMargins(),d?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:o,padding:c},position:d}=this.options,g=this.labelRotation!==0,p=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,_=0;g?p?(E=i*e.width,_=r*n.height):(E=r*e.height,_=i*n.width):o==="start"?_=n.width:o==="end"?E=e.width:o!=="inner"&&(E=e.width/2,_=n.width/2),this.paddingLeft=Math.max((E-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((_-v+c)*this.width/(this.width-v),0)}else{let y=n.height/2,v=e.height/2;o==="start"?(y=0,v=e.height):o==="end"&&(y=n.height,v=0),this.paddingTop=y+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){qe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Le(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=am(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:o}=this,c=[],d=[],g=Math.floor(n/om(n,r));let p=0,y=0,v,E,_,N,S,k,O,T,R,B,F;for(v=0;v<n;v+=g){if(N=e[v].label,S=this._resolveTickFontOptions(v),i.font=k=S.string,O=o[k]=o[k]||{data:{},gc:[]},T=S.lineHeight,R=B=0,!Le(N)&&!ft(N))R=mu(i,O.data,O.gc,R,N),B=T;else if(ft(N))for(E=0,_=N.length;E<_;++E)F=N[E],!Le(F)&&!ft(F)&&(R=mu(i,O.data,O.gc,R,F),B+=T);c.push(R),d.push(B),p=Math.max(R,p),y=Math.max(B,y)}_8(o,n);const V=c.indexOf(p),L=d.indexOf(y),j=H=>({width:c[H]||0,height:d[H]||0});return{first:j(0),last:j(n-1),widest:j(V),highest:j(L),widths:c,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return oS(this._alignToPixels?ji(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=S8(this.getContext(),e,r))}return this.$context||(this.$context=C8(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=_r(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,d=o?o.widest.width+c:0,g=o?o.highest.height+c:0;return this.isHorizontal()?g*r>d*i?d/r:g/i:g*i<d*r?g/r:d/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:o,position:c,border:d}=i,g=o.offset,p=this.isHorizontal(),v=this.ticks.length+(g?1:0),E=Qo(o),_=[],N=d.setContext(this.getContext()),S=N.display?N.width:0,k=S/2,O=function(ve){return ji(r,ve,S)};let T,R,B,F,V,L,j,H,Q,oe,te,xe;if(c==="top")T=O(this.bottom),L=this.bottom-E,H=T-k,oe=O(e.top)+k,xe=e.bottom;else if(c==="bottom")T=O(this.top),oe=e.top,xe=O(e.bottom)-k,L=T+k,H=this.top+E;else if(c==="left")T=O(this.right),V=this.right-E,j=T-k,Q=O(e.left)+k,te=e.right;else if(c==="right")T=O(this.left),Q=e.left,te=O(e.right)-k,V=T+k,j=this.left+E;else if(n==="x"){if(c==="center")T=O((e.top+e.bottom)/2+.5);else if(Be(c)){const ve=Object.keys(c)[0],le=c[ve];T=O(this.chart.scales[ve].getPixelForValue(le))}oe=e.top,xe=e.bottom,L=T+k,H=L+E}else if(n==="y"){if(c==="center")T=O((e.left+e.right)/2);else if(Be(c)){const ve=Object.keys(c)[0],le=c[ve];T=O(this.chart.scales[ve].getPixelForValue(le))}V=T-k,j=V-E,Q=e.left,te=e.right}const Ce=Ie(i.ticks.maxTicksLimit,v),X=Math.max(1,Math.ceil(v/Ce));for(R=0;R<v;R+=X){const ve=this.getContext(R),le=o.setContext(ve),re=d.setContext(ve),ae=le.lineWidth,pe=le.color,Fe=re.dash||[],be=re.dashOffset,At=le.tickWidth,Me=le.tickColor,he=le.tickBorderDash||[],ie=le.tickBorderDashOffset;B=b8(this,R,g),B!==void 0&&(F=ji(r,B,ae),p?V=j=Q=te=F:L=H=oe=xe=F,_.push({tx1:V,ty1:L,tx2:j,ty2:H,x1:Q,y1:oe,x2:te,y2:xe,width:ae,color:pe,borderDash:Fe,borderDashOffset:be,tickWidth:At,tickColor:Me,tickBorderDash:he,tickBorderDashOffset:ie}))}return this._ticksLength=v,this._borderValue=T,_}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:o}=r,c=this.isHorizontal(),d=this.ticks,{align:g,crossAlign:p,padding:y,mirror:v}=o,E=Qo(r.grid),_=E+y,N=v?-y:_,S=-_r(this.labelRotation),k=[];let O,T,R,B,F,V,L,j,H,Q,oe,te,xe="middle";if(i==="top")V=this.bottom-N,L=this._getXAxisLabelAlignment();else if(i==="bottom")V=this.top+N,L=this._getXAxisLabelAlignment();else if(i==="left"){const X=this._getYAxisLabelAlignment(E);L=X.textAlign,F=X.x}else if(i==="right"){const X=this._getYAxisLabelAlignment(E);L=X.textAlign,F=X.x}else if(n==="x"){if(i==="center")V=(e.top+e.bottom)/2+_;else if(Be(i)){const X=Object.keys(i)[0],ve=i[X];V=this.chart.scales[X].getPixelForValue(ve)+_}L=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")F=(e.left+e.right)/2-_;else if(Be(i)){const X=Object.keys(i)[0],ve=i[X];F=this.chart.scales[X].getPixelForValue(ve)}L=this._getYAxisLabelAlignment(E).textAlign}n==="y"&&(g==="start"?xe="top":g==="end"&&(xe="bottom"));const Ce=this._getLabelSizes();for(O=0,T=d.length;O<T;++O){R=d[O],B=R.label;const X=o.setContext(this.getContext(O));j=this.getPixelForTick(O)+o.labelOffset,H=this._resolveTickFontOptions(O),Q=H.lineHeight,oe=ft(B)?B.length:1;const ve=oe/2,le=X.color,re=X.textStrokeColor,ae=X.textStrokeWidth;let pe=L;c?(F=j,L==="inner"&&(O===T-1?pe=this.options.reverse?"left":"right":O===0?pe=this.options.reverse?"right":"left":pe="center"),i==="top"?p==="near"||S!==0?te=-oe*Q+Q/2:p==="center"?te=-Ce.highest.height/2-ve*Q+Q:te=-Ce.highest.height+Q/2:p==="near"||S!==0?te=Q/2:p==="center"?te=Ce.highest.height/2-ve*Q:te=Ce.highest.height-oe*Q,v&&(te*=-1),S!==0&&!X.showLabelBackdrop&&(F+=Q/2*Math.sin(S))):(V=j,te=(1-oe)*Q/2);let Fe;if(X.showLabelBackdrop){const be=an(X.backdropPadding),At=Ce.heights[O],Me=Ce.widths[O];let he=te-be.top,ie=0-be.left;switch(xe){case"middle":he-=At/2;break;case"bottom":he-=At;break}switch(L){case"center":ie-=Me/2;break;case"right":ie-=Me;break;case"inner":O===T-1?ie-=Me:O>0&&(ie-=Me/2);break}Fe={left:ie,top:he,width:Me+be.width,height:At+be.height,color:X.backdropColor}}k.push({label:B,font:H,textOffset:te,options:{rotation:S,color:le,strokeColor:re,strokeWidth:ae,textAlign:pe,textBaseline:xe,translation:[F,V],backdrop:Fe}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-_r(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,c=this._getLabelSizes(),d=e+o,g=c.widest.width;let p,y;return n==="left"?i?(y=this.right+o,r==="near"?p="left":r==="center"?(p="center",y+=g/2):(p="right",y+=g)):(y=this.right-d,r==="near"?p="right":r==="center"?(p="center",y-=g/2):(p="left",y=this.left)):n==="right"?i?(y=this.left+o,r==="near"?p="right":r==="center"?(p="center",y-=g/2):(p="left",y-=g)):(y=this.left+d,r==="near"?p="left":r==="center"?(p="center",y+=g/2):(p="right",y=this.right)):p="right",{textAlign:p,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:o,height:c}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,o,c),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const d=(g,p,y)=>{!y.width||!y.color||(r.save(),r.lineWidth=y.width,r.strokeStyle=y.color,r.setLineDash(y.borderDash||[]),r.lineDashOffset=y.borderDashOffset,r.beginPath(),r.moveTo(g.x,g.y),r.lineTo(p.x,p.y),r.stroke(),r.restore())};if(n.display)for(o=0,c=i.length;o<c;++o){const g=i[o];n.drawOnChartArea&&d({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),n.drawTicks&&d({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),c=r.display?o.width:0;if(!c)return;const d=i.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let p,y,v,E;this.isHorizontal()?(p=ji(e,this.left,c)-c/2,y=ji(e,this.right,d)+d/2,v=E=g):(v=ji(e,this.top,c)-c/2,E=ji(e,this.bottom,d)+d/2,p=y=g),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(p,v),n.lineTo(y,E),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&X0(r,i);const o=this.getLabelItems(e);for(const c of o){const d=c.options,g=c.font,p=c.label,y=c.textOffset;po(r,p,0,y,g,d)}i&&$0(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const o=jt(r.font),c=an(r.padding),d=r.align;let g=o.lineHeight/2;n==="bottom"||n==="center"||Be(n)?(g+=c.bottom,ft(r.text)&&(g+=o.lineHeight*(r.text.length-1))):g+=c.top;const{titleX:p,titleY:y,maxWidth:v,rotation:E}=I8(this,g,n,d);po(e,r.text,0,0,o,{color:r.color,maxWidth:v,rotation:E,textAlign:A8(d,n,i),textBaseline:"middle",translation:[p,y]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Ie(e.grid&&e.grid.z,-1),i=Ie(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ys.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,c;for(o=0,c=n.length;o<c;++o){const d=n[o];d[r]===this.id&&(!e||d.type===e)&&i.push(d)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return jt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class sc{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;N8(n)&&(r=this.register(n));const i=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,O8(e,c,r),this.override&&vt.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in vt[i]&&(delete vt[i][r],this.override&&delete ps[r])}}function O8(t,e,n){const r=qa(Object.create(null),[n?vt.get(n):{},vt.get(e),t.defaults]);vt.set(e,r),t.defaultRoutes&&T8(e,t.defaultRoutes),t.descriptors&&vt.describe(e,t.descriptors)}function T8(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),c=e[n].split("."),d=c.pop(),g=c.join(".");vt.route(o,i,g,d)})}function N8(t){return"id"in t&&"defaults"in t}class R8{constructor(){this.controllers=new sc(as,"datasets",!0),this.elements=new sc(Or,"elements"),this.plugins=new sc(Object,"plugins"),this.scales=new sc(ys,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):He(i,c=>{const d=r||this._getRegistryForType(c);this._exec(e,d,c)})})}_exec(e,n,r){const i=V0(e);qe(r["before"+i],[],r),n[e](r),qe(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Er=new R8;class M8{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),c=this._notify(o,e,n,r);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,n,r,i){i=i||{};for(const o of e){const c=o.plugin,d=c[r],g=[n,i,o.options];if(qe(d,g,c)===!1&&i.cancelable)return!1}return!0}invalidate(){Le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Ie(r.options&&r.options.plugins,{}),o=k8(r);return i===!1&&!n?[]:P8(e,o,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(o,c)=>o.filter(d=>!c.some(g=>d.plugin.id===g.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function k8(t){const e={},n=[],r=Object.keys(Er.plugins.items);for(let o=0;o<r.length;o++)n.push(Er.getPlugin(r[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const c=i[o];n.indexOf(c)===-1&&(n.push(c),e[c.id]=!0)}return{plugins:n,localIds:e}}function D8(t,e){return!e&&t===!1?null:t===!0?{}:t}function P8(t,{plugins:e,localIds:n},r,i){const o=[],c=t.getContext();for(const d of e){const g=d.id,p=D8(r[g],i);p!==null&&o.push({plugin:d,options:L8(t.config,{plugin:d,local:n[g]},p,c)})}return o}function L8(t,{plugin:e,local:n},r,i){const o=t.pluginScopeKeys(e),c=t.getOptionScopes(r,o);return n&&e.defaults&&c.push(e.defaults),t.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function vh(t,e){const n=vt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function B8(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function F8(t,e){return t===e?"_index_":"_value_"}function cm(t){if(t==="x"||t==="y"||t==="r")return t}function z8(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Eh(t,...e){if(cm(t))return t;for(const n of e){const r=n.axis||z8(n.position)||t.length>1&&cm(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function um(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function U8(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return um(t,"x",n[0])||um(t,"y",n[0])}return{}}function W8(t,e){const n=ps[t.type]||{scales:{}},r=e.scales||{},i=vh(t.type,e),o=Object.create(null);return Object.keys(r).forEach(c=>{const d=r[c];if(!Be(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const g=Eh(c,d,U8(c,t),vt.scales[d.type]),p=F8(g,i),y=n.scales||{};o[c]=Oa(Object.create(null),[{axis:g},d,y[g],y[p]])}),t.data.datasets.forEach(c=>{const d=c.type||t.type,g=c.indexAxis||vh(d,e),y=(ps[d]||{}).scales||{};Object.keys(y).forEach(v=>{const E=B8(v,g),_=c[E+"AxisID"]||E;o[_]=o[_]||Object.create(null),Oa(o[_],[{axis:E},r[_],y[v]])})}),Object.keys(o).forEach(c=>{const d=o[c];Oa(d,[vt.scales[d.type],vt.scale])}),o}function Iw(t){const e=t.options||(t.options={});e.plugins=Ie(e.plugins,{}),e.scales=W8(t,e)}function Ow(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function V8(t){return t=t||{},t.data=Ow(t.data),Iw(t),t}const fm=new Map,Tw=new Set;function oc(t,e){let n=fm.get(t);return n||(n=e(),fm.set(t,n),Tw.add(n)),n}const Jo=(t,e,n)=>{const r=gs(e,n);r!==void 0&&t.add(r)};class H8{constructor(e){this._config=V8(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ow(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Iw(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return oc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return oc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return oc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return oc(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:o}=this,c=this._cachedScopes(e,r),d=c.get(n);if(d)return d;const g=new Set;n.forEach(y=>{e&&(g.add(e),y.forEach(v=>Jo(g,e,v))),y.forEach(v=>Jo(g,i,v)),y.forEach(v=>Jo(g,ps[o]||{},v)),y.forEach(v=>Jo(g,vt,v)),y.forEach(v=>Jo(g,yh,v))});const p=Array.from(g);return p.length===0&&p.push(Object.create(null)),Tw.has(n)&&c.set(n,p),p}chartOptionScopes(){const{options:e,type:n}=this;return[e,ps[n]||{},vt.datasets[n]||{},{type:n},vt,yh]}resolveNamedOptions(e,n,r,i=[""]){const o={$shared:!0},{resolver:c,subPrefixes:d}=dm(this._resolverCache,e,i);let g=c;if(G8(c,n)){o.$shared=!1,r=Ni(r)?r():r;const p=this.createResolver(e,r,d);g=mo(c,r,p)}for(const p of n)o[p]=g[p];return o}createResolver(e,n,r=[""],i){const{resolver:o}=dm(this._resolverCache,e,r);return Be(n)?mo(o,n,void 0,i):o}}function dm(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);return o||(o={resolver:Z0(e,n),subPrefixes:n.filter(d=>!d.toLowerCase().includes("hover"))},r.set(i,o)),o}const j8=t=>Be(t)&&Object.getOwnPropertyNames(t).some(e=>Ni(t[e]));function G8(t,e){const{isScriptable:n,isIndexable:r}=fw(t);for(const i of e){const o=n(i),c=r(i),d=(c||o)&&t[i];if(o&&(Ni(d)||j8(d))||c&&ft(d))return!0}return!1}var X8="4.4.9";const $8=["top","bottom","left","right","chartArea"];function hm(t,e){return t==="top"||t==="bottom"||$8.indexOf(t)===-1&&e==="x"}function gm(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function pm(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),qe(n&&n.onComplete,[t],e)}function Y8(t){const e=t.chart,n=e.options.animation;qe(n&&n.onProgress,[t],e)}function Nw(t){return Q0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const kc={},mm=t=>{const e=Nw(t);return Object.values(kc).filter(n=>n.canvas===e).pop()};function Z8(t,e,n){const r=Object.keys(t);for(const i of r){const o=+i;if(o>=e){const c=t[i];delete t[i],(n>0||o>e)&&(t[o+n]=c)}}}function K8(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var oi;let Gu=(oi=class{static register(...e){Er.add(...e),xm()}static unregister(...e){Er.remove(...e),xm()}constructor(e,n){const r=this.config=new H8(n),i=Nw(e),o=mm(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||g8(i)),this.platform.updateConfig(r);const d=this.platform.acquireContext(i,c.aspectRatio),g=d&&d.canvas,p=g&&g.height,y=g&&g.width;if(this.id=$C(),this.ctx=d,this.canvas=g,this.width=y,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new M8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=uS(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],kc[this.id]=this,!d||!g){console.error("Failed to create chart: can't acquire context from the given item");return}Mr.listen(this,"complete",pm),Mr.listen(this,"progress",Y8),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:o}=this;return Le(e)?n&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Lp(this.canvas,this.ctx),this}stop(){return Mr.stop(this),this}resize(e,n){Mr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(i,e,n,o),d=r.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,zp(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),qe(r.onResize,[this,c],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};He(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((c,d)=>(c[d]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const d=n[c],g=Eh(c,d),p=g==="r",y=g==="x";return{options:d,dposition:p?"chartArea":y?"bottom":"left",dtype:p?"radialLinear":y?"category":"linear"}}))),He(o,c=>{const d=c.options,g=d.id,p=Eh(g,d),y=Ie(d.type,c.dtype);(d.position===void 0||hm(d.position,p)!==hm(c.dposition))&&(d.position=c.dposition),i[g]=!0;let v=null;if(g in r&&r[g].type===y)v=r[g];else{const E=Er.getScale(y);v=new E({id:g,type:y,ctx:this.ctx,chart:this}),r[v.id]=v}v.init(d,e)}),He(i,(c,d)=>{c||delete r[d]}),He(r,c=>{mi.configure(this,c,c.options),mi.addBox(this,c)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(gm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const o=n[r];let c=this.getDatasetMeta(r);const d=o.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=d,c.indexAxis=o.indexAxis||vh(d,this.options),c.order=o.order||0,c.index=r,c.label=""+o.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const g=Er.getController(d),{datasetElementType:p,dataElementType:y}=vt.datasets[d];Object.assign(g,{dataElementType:Er.getElement(y),datasetElementType:p&&Er.getElement(p)}),c.controller=new g(this,r),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){He(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,y=this.data.datasets.length;p<y;p++){const{controller:v}=this.getDatasetMeta(p),E=!i&&o.indexOf(v)===-1;v.buildOrUpdateElements(E),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),i||He(o,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(gm("z","_idx"));const{_active:d,_lastEvent:g}=this;g?this._eventHandler(g,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){He(this.scales,e=>{mi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Ip(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of n){const c=r==="_removeElements"?-o:o;Z8(e,i,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=o=>new Set(e.filter(c=>c[0]===o).map((c,d)=>d+","+c.splice(1).join(","))),i=r(0);for(let o=1;o<n;o++)if(!Ip(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mi.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],He(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ni(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Mr.has(this)?this.attached&&!Mr.running(this)&&Mr.start(this):(this.draw(),pm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,o;for(i=0,o=n.length;i<o;++i){const c=n[i];(!e||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=mA(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&X0(n,i),e.controller.draw(),i&&$0(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ur(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const o=$A.modes[n];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Pi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,i);Qa(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),c.update(o,{visible:r}),this.update(d=>d.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Mr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Lp(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete kc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(o,c)=>{n.addEventListener(this,o,c),e[o]=c},i=(o,c,d)=>{o.offsetX=c,o.offsetY=d,this._eventHandler(o)};He(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(g,p)=>{n.addEventListener(this,g,p),e[g]=p},i=(g,p)=>{e[g]&&(n.removeEventListener(this,g,p),delete e[g])},o=(g,p)=>{this.canvas&&this.resize(g,p)};let c;const d=()=>{i("attach",d),this.attached=!0,this.resize(),r("resize",o),r("detach",c)};c=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",d)},n.isAttached(this.canvas)?d():c()}unbindEvents(){He(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},He(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let o,c,d,g;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),d=0,g=e.length;d<g;++d){c=e[d];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:o,index:c})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[c],index:c}});!hu(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,o=(g,p)=>g.filter(y=>!p.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),c=o(n,e),d=r?e:o(e,n);c.length&&this.updateHoverStyle(c,i.mode,!1),d.length&&i.mode&&this.updateHoverStyle(d,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:o}=this,c=n,d=this._getActiveElements(e,i,r,c),g=JC(e),p=K8(e,this._lastEvent,r,g);r&&(this._lastEvent=null,qe(o.onHover,[e,d,this],this),g&&qe(o.onClick,[e,d,this],this));const y=!hu(d,i);return(y||n)&&(this._active=d,this._updateHoverStyles(d,i,n)),this._lastEvent=p,y}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}},ue(oi,"defaults",vt),ue(oi,"instances",kc),ue(oi,"overrides",ps),ue(oi,"registry",Er),ue(oi,"version",X8),ue(oi,"getChart",mm),oi);function xm(){return He(Gu.instances,t=>t._plugins.invalidate())}function q8(t,e,n){const{startAngle:r,pixelMargin:i,x:o,y:c,outerRadius:d,innerRadius:g}=e;let p=i/d;t.beginPath(),t.arc(o,c,d,r-p,n+p),g>i?(p=i/g,t.arc(o,c,g,n+p,r-p,!0)):t.arc(o,c,i,n+St,r-St),t.closePath(),t.clip()}function Q8(t){return Y0(t,["outerStart","outerEnd","innerStart","innerEnd"])}function J8(t,e,n,r){const i=Q8(t.options.borderRadius),o=(n-e)/2,c=Math.min(o,r*e/2),d=g=>{const p=(n-Math.min(o,g))*r/2;return en(g,0,Math.min(o,p))};return{outerStart:d(i.outerStart),outerEnd:d(i.outerEnd),innerStart:en(i.innerStart,0,c),innerEnd:en(i.innerEnd,0,c)}}function Ps(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function wu(t,e,n,r,i,o){const{x:c,y:d,startAngle:g,pixelMargin:p,innerRadius:y}=e,v=Math.max(e.outerRadius+r+n-p,0),E=y>0?y+r+n+p:0;let _=0;const N=i-g;if(r){const X=y>0?y-r:0,ve=v>0?v-r:0,le=(X+ve)/2,re=le!==0?N*le/(le+r):N;_=(N-re)/2}const S=Math.max(.001,N*v-n/Et)/v,k=(N-S)/2,O=g+k+_,T=i-k-_,{outerStart:R,outerEnd:B,innerStart:F,innerEnd:V}=J8(e,E,v,T-O),L=v-R,j=v-B,H=O+R/L,Q=T-B/j,oe=E+F,te=E+V,xe=O+F/oe,Ce=T-V/te;if(t.beginPath(),o){const X=(H+Q)/2;if(t.arc(c,d,v,H,X),t.arc(c,d,v,X,Q),B>0){const ae=Ps(j,Q,c,d);t.arc(ae.x,ae.y,B,Q,T+St)}const ve=Ps(te,T,c,d);if(t.lineTo(ve.x,ve.y),V>0){const ae=Ps(te,Ce,c,d);t.arc(ae.x,ae.y,V,T+St,Ce+Math.PI)}const le=(T-V/E+(O+F/E))/2;if(t.arc(c,d,E,T-V/E,le,!0),t.arc(c,d,E,le,O+F/E,!0),F>0){const ae=Ps(oe,xe,c,d);t.arc(ae.x,ae.y,F,xe+Math.PI,O-St)}const re=Ps(L,O,c,d);if(t.lineTo(re.x,re.y),R>0){const ae=Ps(L,H,c,d);t.arc(ae.x,ae.y,R,O-St,H)}}else{t.moveTo(c,d);const X=Math.cos(H)*v+c,ve=Math.sin(H)*v+d;t.lineTo(X,ve);const le=Math.cos(Q)*v+c,re=Math.sin(Q)*v+d;t.lineTo(le,re)}t.closePath()}function e4(t,e,n,r,i){const{fullCircles:o,startAngle:c,circumference:d}=e;let g=e.endAngle;if(o){wu(t,e,n,r,g,i);for(let p=0;p<o;++p)t.fill();isNaN(d)||(g=c+(d%ot||ot))}return wu(t,e,n,r,g,i),t.fill(),g}function t4(t,e,n,r,i){const{fullCircles:o,startAngle:c,circumference:d,options:g}=e,{borderWidth:p,borderJoinStyle:y,borderDash:v,borderDashOffset:E}=g,_=g.borderAlign==="inner";if(!p)return;t.setLineDash(v||[]),t.lineDashOffset=E,_?(t.lineWidth=p*2,t.lineJoin=y||"round"):(t.lineWidth=p,t.lineJoin=y||"bevel");let N=e.endAngle;if(o){wu(t,e,n,r,N,i);for(let S=0;S<o;++S)t.stroke();isNaN(d)||(N=c+(d%ot||ot))}_&&q8(t,e,N),o||(wu(t,e,n,r,N,i),t.stroke())}class pa extends Or{constructor(n){super();ue(this,"circumference");ue(this,"endAngle");ue(this,"fullCircles");ue(this,"innerRadius");ue(this,"outerRadius");ue(this,"pixelMargin");ue(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const o=this.getProps(["x","y"],i),{angle:c,distance:d}=nw(o,{x:n,y:r}),{startAngle:g,endAngle:p,innerRadius:y,outerRadius:v,circumference:E}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),_=(this.options.spacing+this.options.borderWidth)/2,N=Ie(E,p-g),S=el(c,g,p)&&g!==p,k=N>=ot||S,O=pi(d,y+_,v+_);return k&&O}getCenterPoint(n){const{x:r,y:i,startAngle:o,endAngle:c,innerRadius:d,outerRadius:g}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:p,spacing:y}=this.options,v=(o+c)/2,E=(d+g+y+p)/2;return{x:r+Math.cos(v)*E,y:i+Math.sin(v)*E}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,o=(r.offset||0)/4,c=(r.spacing||0)/2,d=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>ot?Math.floor(i/ot):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const g=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(g)*o,Math.sin(g)*o);const p=1-Math.sin(Math.min(Et,i||0)),y=o*p;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,e4(n,this,y,c,d),t4(n,this,y,c,d),n.restore()}}ue(pa,"id","arc"),ue(pa,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ue(pa,"defaultRoutes",{backgroundColor:"backgroundColor"}),ue(pa,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Rw(t,e,n=e){t.lineCap=Ie(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ie(n.borderDash,e.borderDash)),t.lineDashOffset=Ie(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ie(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ie(n.borderWidth,e.borderWidth),t.strokeStyle=Ie(n.borderColor,e.borderColor)}function n4(t,e,n){t.lineTo(n.x,n.y)}function r4(t){return t.stepped?CS:t.tension||t.cubicInterpolationMode==="monotone"?SS:n4}function Mw(t,e,n={}){const r=t.length,{start:i=0,end:o=r-1}=n,{start:c,end:d}=e,g=Math.max(i,c),p=Math.min(o,d),y=i<c&&o<c||i>d&&o>d;return{count:r,start:g,loop:e.loop,ilen:p<g&&!y?r+p-g:p-g}}function i4(t,e,n,r){const{points:i,options:o}=e,{count:c,start:d,loop:g,ilen:p}=Mw(i,n,r),y=r4(o);let{move:v=!0,reverse:E}=r||{},_,N,S;for(_=0;_<=p;++_)N=i[(d+(E?p-_:_))%c],!N.skip&&(v?(t.moveTo(N.x,N.y),v=!1):y(t,S,N,E,o.stepped),S=N);return g&&(N=i[(d+(E?p:0))%c],y(t,S,N,E,o.stepped)),!!g}function s4(t,e,n,r){const i=e.points,{count:o,start:c,ilen:d}=Mw(i,n,r),{move:g=!0,reverse:p}=r||{};let y=0,v=0,E,_,N,S,k,O;const T=B=>(c+(p?d-B:B))%o,R=()=>{S!==k&&(t.lineTo(y,k),t.lineTo(y,S),t.lineTo(y,O))};for(g&&(_=i[T(0)],t.moveTo(_.x,_.y)),E=0;E<=d;++E){if(_=i[T(E)],_.skip)continue;const B=_.x,F=_.y,V=B|0;V===N?(F<S?S=F:F>k&&(k=F),y=(v*y+B)/++v):(R(),t.lineTo(B,F),N=V,v=0,S=k=F),O=F}R()}function bh(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?s4:i4}function o4(t){return t.stepped?rA:t.tension||t.cubicInterpolationMode==="monotone"?iA:qi}function a4(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),Rw(t,e.options),t.stroke(i)}function l4(t,e,n,r){const{segments:i,options:o}=e,c=bh(e);for(const d of i)Rw(t,o,d.style),t.beginPath(),c(t,e,d,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const c4=typeof Path2D=="function";function u4(t,e,n,r){c4&&!e.options.segment?a4(t,e,n,r):l4(t,e,n,r)}class ma extends Or{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;ZS(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dA(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],o=this.points,c=cA(this,{property:n,start:i,end:i});if(!c.length)return;const d=[],g=o4(r);let p,y;for(p=0,y=c.length;p<y;++p){const{start:v,end:E}=c[p],_=o[v],N=o[E];if(_===N){d.push(_);continue}const S=Math.abs((i-_[n])/(N[n]-_[n])),k=g(_,N,S,r.stepped);k[n]=e[n],d.push(k)}return d.length===1?d[0]:d}pathSegment(e,n,r){return bh(this)(e,this,n,r)}path(e,n,r){const i=this.segments,o=bh(this);let c=this._loop;n=n||0,r=r||this.points.length-n;for(const d of i)c&=o(e,this,d,{start:n,end:n+r-1});return!!c}draw(e,n,r,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),u4(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ue(ma,"id","line"),ue(ma,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ue(ma,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ue(ma,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function ym(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}class Dc extends Or{constructor(n){super();ue(this,"parsed");ue(this,"skip");ue(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const o=this.options,{x:c,y:d}=this.getProps(["x","y"],i);return Math.pow(n-c,2)+Math.pow(r-d,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,r){return ym(this,n,"x",r)}inYRange(n,r){return ym(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Ur(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,wh(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ue(Dc,"id","point"),ue(Dc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ue(Dc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function kw(t,e){const{x:n,y:r,base:i,width:o,height:c}=t.getProps(["x","y","base","width","height"],e);let d,g,p,y,v;return t.horizontal?(v=c/2,d=Math.min(n,i),g=Math.max(n,i),p=r-v,y=r+v):(v=o/2,d=n-v,g=n+v,p=Math.min(r,i),y=Math.max(r,i)),{left:d,top:p,right:g,bottom:y}}function xi(t,e,n,r){return t?0:en(e,n,r)}function f4(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=uw(r);return{t:xi(i.top,o.top,0,n),r:xi(i.right,o.right,0,e),b:xi(i.bottom,o.bottom,0,n),l:xi(i.left,o.left,0,e)}}function d4(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=ss(i),c=Math.min(e,n),d=t.borderSkipped,g=r||Be(i);return{topLeft:xi(!g||d.top||d.left,o.topLeft,0,c),topRight:xi(!g||d.top||d.right,o.topRight,0,c),bottomLeft:xi(!g||d.bottom||d.left,o.bottomLeft,0,c),bottomRight:xi(!g||d.bottom||d.right,o.bottomRight,0,c)}}function h4(t){const e=kw(t),n=e.right-e.left,r=e.bottom-e.top,i=f4(t,n/2,r/2),o=d4(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function cd(t,e,n,r){const i=e===null,o=n===null,d=t&&!(i&&o)&&kw(t,r);return d&&(i||pi(e,d.left,d.right))&&(o||pi(n,d.top,d.bottom))}function g4(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function p4(t,e){t.rect(e.x,e.y,e.w,e.h)}function ud(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,c=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+c,radius:t.radius}}class Pc extends Or{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:c}=h4(this),d=g4(c.radius)?tl:p4;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),d(e,ud(c,n,o)),e.clip(),d(e,ud(o,-n,c)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),d(e,ud(o,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return cd(this,e,n,r)}inXRange(e,n){return cd(this,e,null,n)}inYRange(e,n){return cd(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+i)/2:n,y:o?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ue(Pc,"id","bar"),ue(Pc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ue(Pc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const wm=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},m4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class vm extends Or{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=qe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=jt(r.font),o=i.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:g}=wm(r,o);let p,y;n.font=i.string,this.isHorizontal()?(p=this.maxWidth,y=this._fitRows(c,o,d,g)+10):(y=this.maxHeight,p=this._fitCols(c,i,d,g)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(y,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:o,maxWidth:c,options:{labels:{padding:d}}}=this,g=this.legendHitBoxes=[],p=this.lineWidths=[0],y=i+d;let v=e;o.textAlign="left",o.textBaseline="middle";let E=-1,_=-y;return this.legendItems.forEach((N,S)=>{const k=r+n/2+o.measureText(N.text).width;(S===0||p[p.length-1]+k+2*d>c)&&(v+=y,p[p.length-(S>0?0:1)]=0,_+=y,E++),g[S]={left:0,top:_,row:E,width:k,height:i},p[p.length-1]+=k+d}),v}_fitCols(e,n,r,i){const{ctx:o,maxHeight:c,options:{labels:{padding:d}}}=this,g=this.legendHitBoxes=[],p=this.columnSizes=[],y=c-e;let v=d,E=0,_=0,N=0,S=0;return this.legendItems.forEach((k,O)=>{const{itemWidth:T,itemHeight:R}=x4(r,n,o,k,i);O>0&&_+R+2*d>y&&(v+=E+d,p.push({width:E,height:_}),N+=E+d,S++,E=_=0),g[O]={left:N,top:_,col:S,width:T,height:R},E=Math.max(E,T),_+=R+d}),v+=E,p.push({width:E,height:_}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:o}}=this,c=oo(o,this.left,this.width);if(this.isHorizontal()){let d=0,g=In(r,this.left+i,this.right-this.lineWidths[d]);for(const p of n)d!==p.row&&(d=p.row,g=In(r,this.left+i,this.right-this.lineWidths[d])),p.top+=this.top+e+i,p.left=c.leftForLtr(c.x(g),p.width),g+=p.width+i}else{let d=0,g=In(r,this.top+e+i,this.bottom-this.columnSizes[d].height);for(const p of n)p.col!==d&&(d=p.col,g=In(r,this.top+e+i,this.bottom-this.columnSizes[d].height)),p.top=g,p.left+=this.left+i,p.left=c.leftForLtr(c.x(p.left),p.width),g+=p.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;X0(e,this),this._draw(),$0(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:o,labels:c}=e,d=vt.color,g=oo(e.rtl,this.left,this.width),p=jt(c.font),{padding:y}=c,v=p.size,E=v/2;let _;this.drawTitle(),i.textAlign=g.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=p.string;const{boxWidth:N,boxHeight:S,itemHeight:k}=wm(c,v),O=function(V,L,j){if(isNaN(N)||N<=0||isNaN(S)||S<0)return;i.save();const H=Ie(j.lineWidth,1);if(i.fillStyle=Ie(j.fillStyle,d),i.lineCap=Ie(j.lineCap,"butt"),i.lineDashOffset=Ie(j.lineDashOffset,0),i.lineJoin=Ie(j.lineJoin,"miter"),i.lineWidth=H,i.strokeStyle=Ie(j.strokeStyle,d),i.setLineDash(Ie(j.lineDash,[])),c.usePointStyle){const Q={radius:S*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:H},oe=g.xPlus(V,N/2),te=L+E;cw(i,Q,oe,te,c.pointStyleWidth&&N)}else{const Q=L+Math.max((v-S)/2,0),oe=g.leftForLtr(V,N),te=ss(j.borderRadius);i.beginPath(),Object.values(te).some(xe=>xe!==0)?tl(i,{x:oe,y:Q,w:N,h:S,radius:te}):i.rect(oe,Q,N,S),i.fill(),H!==0&&i.stroke()}i.restore()},T=function(V,L,j){po(i,j.text,V,L+k/2,p,{strikethrough:j.hidden,textAlign:g.textAlign(j.textAlign)})},R=this.isHorizontal(),B=this._computeTitleHeight();R?_={x:In(o,this.left+y,this.right-r[0]),y:this.top+y+B,line:0}:_={x:this.left+y,y:In(o,this.top+B+y,this.bottom-n[0].height),line:0},mw(this.ctx,e.textDirection);const F=k+y;this.legendItems.forEach((V,L)=>{i.strokeStyle=V.fontColor,i.fillStyle=V.fontColor;const j=i.measureText(V.text).width,H=g.textAlign(V.textAlign||(V.textAlign=c.textAlign)),Q=N+E+j;let oe=_.x,te=_.y;g.setWidth(this.width),R?L>0&&oe+Q+y>this.right&&(te=_.y+=F,_.line++,oe=_.x=In(o,this.left+y,this.right-r[_.line])):L>0&&te+F>this.bottom&&(oe=_.x=oe+n[_.line].width+y,_.line++,te=_.y=In(o,this.top+B+y,this.bottom-n[_.line].height));const xe=g.x(oe);if(O(xe,te,V),oe=fS(H,oe+N+E,R?oe+Q:this.right,e.rtl),T(g.x(oe),te,V),R)_.x+=Q+y;else if(typeof V.text!="string"){const Ce=p.lineHeight;_.y+=Dw(V,Ce)+y}else _.y+=F}),xw(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=jt(n.font),i=an(n.padding);if(!n.display)return;const o=oo(e.rtl,this.left,this.width),c=this.ctx,d=n.position,g=r.size/2,p=i.top+g;let y,v=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),y=this.top+p,v=In(e.align,v,this.right-E);else{const N=this.columnSizes.reduce((S,k)=>Math.max(S,k.height),0);y=p+In(e.align,this.top,this.bottom-N-e.labels.padding-this._computeTitleHeight())}const _=In(d,v,v+E);c.textAlign=o.textAlign(aw(d)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=r.string,po(c,n.text,_,y,r)}_computeTitleHeight(){const e=this.options.title,n=jt(e.font),r=an(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,o;if(pi(e,this.left,this.right)&&pi(n,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],pi(e,i.left,i.left+i.width)&&pi(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!v4(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=m4(i,r);i&&!o&&qe(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&qe(n.onHover,[e,r,this],this)}else r&&qe(n.onClick,[e,r,this],this)}}function x4(t,e,n,r,i){const o=y4(r,t,e,n),c=w4(i,r,e.lineHeight);return{itemWidth:o,itemHeight:c}}function y4(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((o,c)=>o.length>c.length?o:c)),e+n.size/2+r.measureText(i).width}function w4(t,e,n){let r=t;return typeof e.text!="string"&&(r=Dw(e,n)),r}function Dw(t,e){const n=t.text?t.text.length:0;return e*n}function v4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var E4={id:"legend",_element:vm,start(t,e,n){const r=t.legend=new vm({ctx:t.ctx,options:n,chart:t});mi.configure(t,r,n),mi.addBox(t,r)},stop(t){mi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;mi.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:c,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(g=>{const p=g.controller.getStyle(n?0:void 0),y=an(p.borderWidth);return{text:e[g.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!g.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:p.borderColor,pointStyle:r||p.pointStyle,rotation:p.rotation,textAlign:i||p.textAlign,borderRadius:c&&(d||p.borderRadius),datasetIndex:g.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const xa={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,o=0;for(e=0,n=t.length;e<n;++e){const d=t[e].element;if(d&&d.hasValue()){const g=d.tooltipPosition();r.add(g.x),i+=g.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((d,g)=>d+g)/r.size,y:i/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,c,d;for(o=0,c=t.length;o<c;++o){const g=t[o].element;if(g&&g.hasValue()){const p=g.getCenterPoint(),y=xh(e,p);y<i&&(i=y,d=g)}}if(d){const g=d.tooltipPosition();n=g.x,r=g.y}return{x:n,y:r}}};function wr(t,e){return e&&(ft(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function kr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function b4(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:c,value:d}=o.getLabelAndValue(i);return{chart:t,label:c,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:d,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Em(t,e){const n=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:c,boxHeight:d}=e,g=jt(e.bodyFont),p=jt(e.titleFont),y=jt(e.footerFont),v=o.length,E=i.length,_=r.length,N=an(e.padding);let S=N.height,k=0,O=r.reduce((B,F)=>B+F.before.length+F.lines.length+F.after.length,0);if(O+=t.beforeBody.length+t.afterBody.length,v&&(S+=v*p.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),O){const B=e.displayColors?Math.max(d,g.lineHeight):g.lineHeight;S+=_*B+(O-_)*g.lineHeight+(O-1)*e.bodySpacing}E&&(S+=e.footerMarginTop+E*y.lineHeight+(E-1)*e.footerSpacing);let T=0;const R=function(B){k=Math.max(k,n.measureText(B).width+T)};return n.save(),n.font=p.string,He(t.title,R),n.font=g.string,He(t.beforeBody.concat(t.afterBody),R),T=e.displayColors?c+2+e.boxPadding:0,He(r,B=>{He(B.before,R),He(B.lines,R),He(B.after,R)}),T=0,n.font=y.string,He(t.footer,R),n.restore(),k+=N.width,{width:k,height:S}}function _4(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function C4(t,e,n,r){const{x:i,width:o}=r,c=n.caretSize+n.caretPadding;if(t==="left"&&i+o+c>e.width||t==="right"&&i-o-c<0)return!0}function S4(t,e,n,r){const{x:i,width:o}=n,{width:c,chartArea:{left:d,right:g}}=t;let p="center";return r==="center"?p=i<=(d+g)/2?"left":"right":i<=o/2?p="left":i>=c-o/2&&(p="right"),C4(p,t,e,n)&&(p="center"),p}function bm(t,e,n){const r=n.yAlign||e.yAlign||_4(t,n);return{xAlign:n.xAlign||e.xAlign||S4(t,e,n,r),yAlign:r}}function A4(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function I4(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function _m(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:c}=t,{xAlign:d,yAlign:g}=n,p=i+o,{topLeft:y,topRight:v,bottomLeft:E,bottomRight:_}=ss(c);let N=A4(e,d);const S=I4(e,g,p);return g==="center"?d==="left"?N+=p:d==="right"&&(N-=p):d==="left"?N-=Math.max(y,E)+i:d==="right"&&(N+=Math.max(v,_)+i),{x:en(N,0,r.width-e.width),y:en(S,0,r.height-e.height)}}function ac(t,e,n){const r=an(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Cm(t){return wr([],kr(t))}function O4(t,e,n){return Pi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Sm(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Pw={beforeTitle:Rr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Rr,beforeBody:Rr,beforeLabel:Rr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Le(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Rr,afterBody:Rr,beforeFooter:Rr,footer:Rr,afterFooter:Rr};function mn(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?Pw[e].call(n,r):i}class _h extends Or{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,o=new ww(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=O4(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=mn(r,"beforeTitle",this,e),o=mn(r,"title",this,e),c=mn(r,"afterTitle",this,e);let d=[];return d=wr(d,kr(i)),d=wr(d,kr(o)),d=wr(d,kr(c)),d}getBeforeBody(e,n){return Cm(mn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return He(e,o=>{const c={before:[],lines:[],after:[]},d=Sm(r,o);wr(c.before,kr(mn(d,"beforeLabel",this,o))),wr(c.lines,mn(d,"label",this,o)),wr(c.after,kr(mn(d,"afterLabel",this,o))),i.push(c)}),i}getAfterBody(e,n){return Cm(mn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=mn(r,"beforeFooter",this,e),o=mn(r,"footer",this,e),c=mn(r,"afterFooter",this,e);let d=[];return d=wr(d,kr(i)),d=wr(d,kr(o)),d=wr(d,kr(c)),d}_createItems(e){const n=this._active,r=this.chart.data,i=[],o=[],c=[];let d=[],g,p;for(g=0,p=n.length;g<p;++g)d.push(b4(this.chart,n[g]));return e.filter&&(d=d.filter((y,v,E)=>e.filter(y,v,E,r))),e.itemSort&&(d=d.sort((y,v)=>e.itemSort(y,v,r))),He(d,y=>{const v=Sm(e.callbacks,y);i.push(mn(v,"labelColor",this,y)),o.push(mn(v,"labelPointStyle",this,y)),c.push(mn(v,"labelTextColor",this,y))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=d,d}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let o,c=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const d=xa[r.position].call(this,i,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const g=this._size=Em(this,r),p=Object.assign({},d,g),y=bm(this.chart,r,p),v=_m(r,p,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:v.x,y:v.y,width:g.width,height:g.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const o=this.getCaretPosition(e,r,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:o}=this,{caretSize:c,cornerRadius:d}=r,{topLeft:g,topRight:p,bottomLeft:y,bottomRight:v}=ss(d),{x:E,y:_}=e,{width:N,height:S}=n;let k,O,T,R,B,F;return o==="center"?(B=_+S/2,i==="left"?(k=E,O=k-c,R=B+c,F=B-c):(k=E+N,O=k+c,R=B-c,F=B+c),T=k):(i==="left"?O=E+Math.max(g,y)+c:i==="right"?O=E+N-Math.max(p,v)-c:O=this.caretX,o==="top"?(R=_,B=R-c,k=O-c,T=O+c):(R=_+S,B=R+c,k=O+c,T=O-c),F=R),{x1:k,x2:O,x3:T,y1:R,y2:B,y3:F}}drawTitle(e,n,r){const i=this.title,o=i.length;let c,d,g;if(o){const p=oo(r.rtl,this.x,this.width);for(e.x=ac(this,r.titleAlign,r),n.textAlign=p.textAlign(r.titleAlign),n.textBaseline="middle",c=jt(r.titleFont),d=r.titleSpacing,n.fillStyle=r.titleColor,n.font=c.string,g=0;g<o;++g)n.fillText(i[g],p.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+d,g+1===o&&(e.y+=r.titleMarginBottom-d)}}_drawColorBox(e,n,r,i,o){const c=this.labelColors[r],d=this.labelPointStyles[r],{boxHeight:g,boxWidth:p}=o,y=jt(o.bodyFont),v=ac(this,"left",o),E=i.x(v),_=g<y.lineHeight?(y.lineHeight-g)/2:0,N=n.y+_;if(o.usePointStyle){const S={radius:Math.min(p,g)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},k=i.leftForLtr(E,p)+p/2,O=N+g/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,wh(e,S,k,O),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,wh(e,S,k,O)}else{e.lineWidth=Be(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const S=i.leftForLtr(E,p),k=i.leftForLtr(i.xPlus(E,1),p-2),O=ss(c.borderRadius);Object.values(O).some(T=>T!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,tl(e,{x:S,y:N,w:p,h:g,radius:O}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),tl(e,{x:k,y:N+1,w:p-2,h:g-2,radius:O}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(S,N,p,g),e.strokeRect(S,N,p,g),e.fillStyle=c.backgroundColor,e.fillRect(k,N+1,p-2,g-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:o,bodyAlign:c,displayColors:d,boxHeight:g,boxWidth:p,boxPadding:y}=r,v=jt(r.bodyFont);let E=v.lineHeight,_=0;const N=oo(r.rtl,this.x,this.width),S=function(j){n.fillText(j,N.x(e.x+_),e.y+E/2),e.y+=E+o},k=N.textAlign(c);let O,T,R,B,F,V,L;for(n.textAlign=c,n.textBaseline="middle",n.font=v.string,e.x=ac(this,k,r),n.fillStyle=r.bodyColor,He(this.beforeBody,S),_=d&&k!=="right"?c==="center"?p/2+y:p+2+y:0,B=0,V=i.length;B<V;++B){for(O=i[B],T=this.labelTextColors[B],n.fillStyle=T,He(O.before,S),R=O.lines,d&&R.length&&(this._drawColorBox(n,e,B,N,r),E=Math.max(v.lineHeight,g)),F=0,L=R.length;F<L;++F)S(R[F]),E=v.lineHeight;He(O.after,S)}_=0,E=v.lineHeight,He(this.afterBody,S),e.y-=o}drawFooter(e,n,r){const i=this.footer,o=i.length;let c,d;if(o){const g=oo(r.rtl,this.x,this.width);for(e.x=ac(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=g.textAlign(r.footerAlign),n.textBaseline="middle",c=jt(r.footerFont),n.fillStyle=r.footerColor,n.font=c.string,d=0;d<o;++d)n.fillText(i[d],g.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:o,yAlign:c}=this,{x:d,y:g}=e,{width:p,height:y}=r,{topLeft:v,topRight:E,bottomLeft:_,bottomRight:N}=ss(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(d+v,g),c==="top"&&this.drawCaret(e,n,r,i),n.lineTo(d+p-E,g),n.quadraticCurveTo(d+p,g,d+p,g+E),c==="center"&&o==="right"&&this.drawCaret(e,n,r,i),n.lineTo(d+p,g+y-N),n.quadraticCurveTo(d+p,g+y,d+p-N,g+y),c==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(d+_,g+y),n.quadraticCurveTo(d,g+y,d,g+y-_),c==="center"&&o==="left"&&this.drawCaret(e,n,r,i),n.lineTo(d,g+v),n.quadraticCurveTo(d,g,d+v,g),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const c=xa[e.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=Em(this,e),g=Object.assign({},c,this._size),p=bm(n,e,g),y=_m(e,g,p,n);(i._to!==y.x||o._to!==y.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=an(n.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&d&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,i,n),mw(e,n.textDirection),o.y+=c.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),xw(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:d,index:g})=>{const p=this.chart.getDatasetMeta(d);if(!p)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:p.data[g],index:g}}),o=!hu(r,i),c=this._positionChanged(i,n);(o||c)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],c=this._getActiveElements(e,o,n,r),d=this._positionChanged(c,e),g=n||!hu(c,o)||d;return g&&(this._active=c,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),g}_getActiveElements(e,n,r,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&c.reverse(),c}_positionChanged(e,n){const{caretX:r,caretY:i,options:o}=this,c=xa[o.position].call(this,e,n);return c!==!1&&(r!==c.x||i!==c.y)}}ue(_h,"positioners",xa);var T4={id:"tooltip",_element:_h,positioners:xa,afterInit(t,e,n){n&&(t.tooltip=new _h({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Pw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const N4=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function R4(t,e,n,r){const i=t.indexOf(e);if(i===-1)return N4(t,e,n,r);const o=t.lastIndexOf(e);return i!==o?n:i}const M4=(t,e)=>t===null?null:en(Math.round(t),0,e);function Am(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ch extends ys{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:o}of n)r[i]===o&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Le(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:R4(r,e,Ie(n,e),this._addedLabels),M4(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=e;c<=n;c++)i.push({value:c});return i}getLabelForValue(e){return Am.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ue(Ch,"id","category"),ue(Ch,"defaults",{ticks:{callback:Am}});function k4(t,e){const n=[],{bounds:i,step:o,min:c,max:d,precision:g,count:p,maxTicks:y,maxDigits:v,includeBounds:E}=t,_=o||1,N=y-1,{min:S,max:k}=e,O=!Le(c),T=!Le(d),R=!Le(p),B=(k-S)/(v+1);let F=Tp((k-S)/N/_)*_,V,L,j,H;if(F<1e-14&&!O&&!T)return[{value:S},{value:k}];H=Math.ceil(k/F)-Math.floor(S/F),H>N&&(F=Tp(H*F/N/_)*_),Le(g)||(V=Math.pow(10,g),F=Math.ceil(F*V)/V),i==="ticks"?(L=Math.floor(S/F)*F,j=Math.ceil(k/F)*F):(L=S,j=k),O&&T&&o&&iS((d-c)/o,F/1e3)?(H=Math.round(Math.min((d-c)/F,y)),F=(d-c)/H,L=c,j=d):R?(L=O?c:L,j=T?d:j,H=p-1,F=(j-L)/H):(H=(j-L)/F,Ta(H,Math.round(H),F/1e3)?H=Math.round(H):H=Math.ceil(H));const Q=Math.max(Np(F),Np(L));V=Math.pow(10,Le(g)?Q:g),L=Math.round(L*V)/V,j=Math.round(j*V)/V;let oe=0;for(O&&(E&&L!==c?(n.push({value:c}),L<c&&oe++,Ta(Math.round((L+oe*F)*V)/V,c,Im(c,B,t))&&oe++):L<c&&oe++);oe<H;++oe){const te=Math.round((L+oe*F)*V)/V;if(T&&te>d)break;n.push({value:te})}return T&&E&&j!==d?n.length&&Ta(n[n.length-1].value,d,Im(d,B,t))?n[n.length-1].value=d:n.push({value:d}):(!T||j===d)&&n.push({value:j}),n}function Im(t,e,{horizontal:n,minRotation:r}){const i=_r(r),o=(n?Math.sin(i):Math.cos(i))||.001,c=.75*e*(""+t).length;return Math.min(e/o,c)}class vu extends ys{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Le(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const c=g=>i=n?i:g,d=g=>o=r?o:g;if(e){const g=Ir(i),p=Ir(o);g<0&&p<0?d(0):g>0&&p>0&&c(0)}if(i===o){let g=o===0?1:Math.abs(o*.05);d(o+g),e||c(i-g)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=k4(i,o);return e.bounds==="ticks"&&tw(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Vu(e,this.chart.options.locale,this.options.ticks.format)}}class Sh extends vu{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Bt(e)?e:0,this.max=Bt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=_r(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ue(Sh,"id","linear"),ue(Sh,"defaults",{ticks:{callback:Hu.formatters.numeric}});const rl=t=>Math.floor(gi(t)),Xi=(t,e)=>Math.pow(10,rl(t)+e);function Om(t){return t/Math.pow(10,rl(t))===1}function Tm(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function D4(t,e){const n=e-t;let r=rl(n);for(;Tm(t,e,r)>10;)r++;for(;Tm(t,e,r)<10;)r--;return Math.min(r,rl(t))}function P4(t,{min:e,max:n}){e=Tn(t.min,e);const r=[],i=rl(e);let o=D4(e,n),c=o<0?Math.pow(10,Math.abs(o)):1;const d=Math.pow(10,o),g=i>o?Math.pow(10,i):0,p=Math.round((e-g)*c)/c,y=Math.floor((e-g)/d/10)*d*10;let v=Math.floor((p-y)/Math.pow(10,o)),E=Tn(t.min,Math.round((g+y+v*Math.pow(10,o))*c)/c);for(;E<n;)r.push({value:E,major:Om(E),significand:v}),v>=10?v=v<15?15:20:v++,v>=20&&(o++,v=2,c=o>=0?1:c),E=Math.round((g+y+v*Math.pow(10,o))*c)/c;const _=Tn(t.max,E);return r.push({value:_,major:Om(_),significand:v}),r}class Nm extends ys{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=vu.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Bt(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Bt(e)?Math.max(0,e):null,this.max=Bt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Bt(this._userMin)&&(this.min=e===Xi(this.min,0)?Xi(this.min,-1):Xi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const o=d=>r=e?r:d,c=d=>i=n?i:d;r===i&&(r<=0?(o(1),c(10)):(o(Xi(r,-1)),c(Xi(i,1)))),r<=0&&o(Xi(i,-1)),i<=0&&c(Xi(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=P4(n,this);return e.bounds==="ticks"&&tw(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Vu(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=gi(e),this._valueRange=gi(this.max)-gi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(gi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ue(Nm,"id","logarithmic"),ue(Nm,"defaults",{ticks:{callback:Hu.formatters.logarithmic,major:{enabled:!0}}});function Ah(t){const e=t.ticks;if(e.display&&t.display){const n=an(e.backdropPadding);return Ie(e.font&&e.font.size,vt.font.size)+n.height}return 0}function L4(t,e,n){return n=ft(n)?n:[n],{w:_S(t,e.string,n),h:n.length*e.lineHeight}}function Rm(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function B4(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],o=t._pointLabels.length,c=t.options.pointLabels,d=c.centerPointLabels?Et/o:0;for(let g=0;g<o;g++){const p=c.setContext(t.getPointLabelContext(g));i[g]=p.padding;const y=t.getPointPosition(g,t.drawingArea+i[g],d),v=jt(p.font),E=L4(t.ctx,v,t._pointLabels[g]);r[g]=E;const _=rr(t.getIndexAngle(g)+d),N=Math.round(H0(_)),S=Rm(N,y.x,E.w,0,180),k=Rm(N,y.y,E.h,90,270);F4(n,e,_,S,k)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=W4(t,r,i)}function F4(t,e,n,r,i){const o=Math.abs(Math.sin(n)),c=Math.abs(Math.cos(n));let d=0,g=0;r.start<e.l?(d=(e.l-r.start)/o,t.l=Math.min(t.l,e.l-d)):r.end>e.r&&(d=(r.end-e.r)/o,t.r=Math.max(t.r,e.r+d)),i.start<e.t?(g=(e.t-i.start)/c,t.t=Math.min(t.t,e.t-g)):i.end>e.b&&(g=(i.end-e.b)/c,t.b=Math.max(t.b,e.b+g))}function z4(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:o,padding:c,size:d}=n,g=t.getPointPosition(e,r+i+c,o),p=Math.round(H0(rr(g.angle+St))),y=j4(g.y,d.h,p),v=V4(p),E=H4(g.x,d.w,v);return{visible:!0,x:g.x,y,textAlign:v,left:E,top:y,right:E+d.w,bottom:y+d.h}}function U4(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:o}=t;return!(Ur({x:n,y:r},e)||Ur({x:n,y:o},e)||Ur({x:i,y:r},e)||Ur({x:i,y:o},e))}function W4(t,e,n){const r=[],i=t._pointLabels.length,o=t.options,{centerPointLabels:c,display:d}=o.pointLabels,g={extra:Ah(o)/2,additionalAngle:c?Et/i:0};let p;for(let y=0;y<i;y++){g.padding=n[y],g.size=e[y];const v=z4(t,y,g);r.push(v),d==="auto"&&(v.visible=U4(v,p),v.visible&&(p=v))}return r}function V4(t){return t===0||t===180?"center":t<180?"left":"right"}function H4(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function j4(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function G4(t,e,n){const{left:r,top:i,right:o,bottom:c}=n,{backdropColor:d}=e;if(!Le(d)){const g=ss(e.borderRadius),p=an(e.backdropPadding);t.fillStyle=d;const y=r-p.left,v=i-p.top,E=o-r+p.width,_=c-i+p.height;Object.values(g).some(N=>N!==0)?(t.beginPath(),tl(t,{x:y,y:v,w:E,h:_,radius:g}),t.fill()):t.fillRect(y,v,E,_)}}function X4(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const o=t._pointLabelItems[i];if(!o.visible)continue;const c=r.setContext(t.getPointLabelContext(i));G4(n,c,o);const d=jt(c.font),{x:g,y:p,textAlign:y}=o;po(n,t._pointLabels[i],g,p+d.lineHeight/2,d,{color:c.color,textAlign:y,textBaseline:"middle"})}}function Lw(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,ot);else{let o=t.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let c=1;c<r;c++)o=t.getPointPosition(c,e),i.lineTo(o.x,o.y)}}function $4(t,e,n,r,i){const o=t.ctx,c=e.circular,{color:d,lineWidth:g}=e;!c&&!r||!d||!g||n<0||(o.save(),o.strokeStyle=d,o.lineWidth=g,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),Lw(t,n,c,r),o.closePath(),o.stroke(),o.restore())}function Y4(t,e,n){return Pi(t,{label:n,index:e,type:"pointLabel"})}class lc extends vu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=an(Ah(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Bt(e)&&!isNaN(e)?e:0,this.max=Bt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ah(this.options))}generateTickLabels(e){vu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=qe(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?B4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=ot/(this._pointLabels.length||1),r=this.options.startAngle||0;return rr(e*n+_r(r))}getDistanceFromCenterForValue(e){if(Le(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Le(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return Y4(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-St+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:o}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),Lw(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:o}=n,c=this._pointLabels.length;let d,g,p;if(n.pointLabels.display&&X4(this,c),i.display&&this.ticks.forEach((y,v)=>{if(v!==0||v===0&&this.min<0){g=this.getDistanceFromCenterForValue(y.value);const E=this.getContext(v),_=i.setContext(E),N=o.setContext(E);$4(this,_,g,c,N)}}),r.display){for(e.save(),d=c-1;d>=0;d--){const y=r.setContext(this.getPointLabelContext(d)),{color:v,lineWidth:E}=y;!E||!v||(e.lineWidth=E,e.strokeStyle=v,e.setLineDash(y.borderDash),e.lineDashOffset=y.borderDashOffset,g=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),p=this.getPointPosition(d,g),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(p.x,p.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let o,c;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((d,g)=>{if(g===0&&this.min>=0&&!n.reverse)return;const p=r.setContext(this.getContext(g)),y=jt(p.font);if(o=this.getDistanceFromCenterForValue(this.ticks[g].value),p.showLabelBackdrop){e.font=y.string,c=e.measureText(d.label).width,e.fillStyle=p.backdropColor;const v=an(p.backdropPadding);e.fillRect(-c/2-v.left,-o-y.size/2-v.top,c+v.width,y.size+v.height)}po(e,d.label,0,-o,y,{color:p.color,strokeColor:p.textStrokeColor,strokeWidth:p.textStrokeWidth})}),e.restore()}drawTitle(){}}ue(lc,"id","radialLinear"),ue(lc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Hu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ue(lc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ue(lc,"descriptors",{angleLines:{_fallback:"grid"}});const Xu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wn=Object.keys(Xu);function Mm(t,e){return t-e}function km(t,e){if(Le(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let c=e;return typeof r=="function"&&(c=r(c)),Bt(c)||(c=typeof r=="string"?n.parse(c,r):n.parse(c)),c===null?null:(i&&(c=i==="week"&&(Ja(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,i)),+c)}function Dm(t,e,n,r){const i=wn.length;for(let o=wn.indexOf(t);o<i-1;++o){const c=Xu[wn[o]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-e)/(d*c.size))<=r)return wn[o]}return wn[i-1]}function Z4(t,e,n,r,i){for(let o=wn.length-1;o>=wn.indexOf(n);o--){const c=wn[o];if(Xu[c].common&&t._adapter.diff(i,r,c)>=e-1)return c}return wn[n?wn.indexOf(n):0]}function K4(t){for(let e=wn.indexOf(t)+1,n=wn.length;e<n;++e)if(Xu[wn[e]].common)return wn[e]}function Pm(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=j0(n,e),o=n[r]>=e?n[r]:n[i];t[o]=!0}}function q4(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),c=e[e.length-1].value;let d,g;for(d=o;d<=c;d=+i.add(d,1,r))g=n[d],g>=0&&(e[g].major=!0);return e}function Lm(t,e,n){const r=[],i={},o=e.length;let c,d;for(c=0;c<o;++c)d=e[c],i[d]=c,r.push({value:d,major:!1});return o===0||!n?r:q4(t,r,i,n)}class il extends ys{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new VA._date(e.adapters.date);i.init(n),Oa(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:km(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:c,maxDefined:d}=this.getUserBounds();function g(p){!c&&!isNaN(p.min)&&(i=Math.min(i,p.min)),!d&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!c||!d)&&(g(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&g(this.getMinMax(!1))),i=Bt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),o=Bt(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,c=this.max,d=lS(i,o,c);return this._unit=n.unit||(r.autoSkip?Dm(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):Z4(this,d.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:K4(this._unit),this.initOffsets(i),e.reverse&&d.reverse(),Lm(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;n=en(n,0,c),r=en(r,0,c),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,o=i.time,c=o.unit||Dm(o.minUnit,n,r,this._getLabelCapacity(n)),d=Ie(i.ticks.stepSize,1),g=c==="week"?o.isoWeekday:!1,p=Ja(g)||g===!0,y={};let v=n,E,_;if(p&&(v=+e.startOf(v,"isoWeek",g)),v=+e.startOf(v,p?"day":c),e.diff(r,n,c)>1e5*d)throw new Error(n+" and "+r+" are too far apart with stepSize of "+d+" "+c);const N=i.ticks.source==="data"&&this.getDataTimestamps();for(E=v,_=0;E<r;E=+e.add(E,d,c),_++)Pm(y,E,N);return(E===r||i.bounds==="ticks"||_===1)&&Pm(y,E,N),Object.keys(y).sort(Mm).map(S=>+S)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,o=this._unit,c=n||i[o];return this._adapter.format(e,c)}_tickFormatFunction(e,n,r,i){const o=this.options,c=o.ticks.callback;if(c)return qe(c,[e,n,r],this);const d=o.time.displayFormats,g=this._unit,p=this._majorUnit,y=g&&d[g],v=p&&d[p],E=r[n],_=p&&v&&E&&E.major;return this._adapter.format(e,i||(_?v:y))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=_r(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),c=Math.sin(i),d=this._resolveTickFontOptions(0).size;return{w:r*o+d*c,h:r*c+d*o}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,o=this._tickFormatFunction(e,0,Lm(this,[e],this._majorUnit),i),c=this._getLabelSize(o),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(km(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return iw(e.sort(Mm))}}ue(il,"id","time"),ue(il,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function cc(t,e,n){let r=0,i=t.length-1,o,c,d,g;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=ns(t,"pos",e)),{pos:o,time:d}=t[r],{pos:c,time:g}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=ns(t,"time",e)),{time:o,pos:d}=t[r],{time:c,pos:g}=t[i]);const p=c-o;return p?d+(g-d)*(e-o)/p:d}class Bm extends il{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=cc(n,this.min),this._tableRange=cc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],o=[];let c,d,g,p,y;for(c=0,d=e.length;c<d;++c)p=e[c],p>=n&&p<=r&&i.push(p);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(c=0,d=i.length;c<d;++c)y=i[c+1],g=i[c-1],p=i[c],Math.round((y+g)/2)!==p&&o.push({time:p,pos:c/(d-1)});return o}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(cc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return cc(this._table,r*this._tableRange+this._minPos,!0)}}ue(Bm,"id","timeseries"),ue(Bm,"defaults",il.defaults);const Bw="label";function Fm(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Q4(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Fw(t,e){t.labels=e}function zw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Bw;const r=[];t.datasets=e.map(i=>{const o=t.datasets.find(c=>c[n]===i[n]);return!o||!i.data||r.includes(o)?{...i}:(r.push(o),Object.assign(o,i),o)})}function J4(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bw;const n={labels:[],datasets:[]};return Fw(n,t.labels),zw(n,t.datasets,e),n}function eI(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:c,data:d,options:g,plugins:p=[],fallbackContent:y,updateMode:v,...E}=t,_=W.useRef(null),N=W.useRef(null),S=()=>{_.current&&(N.current=new Gu(_.current,{type:c,data:J4(d,o),options:g&&{...g},plugins:p}),Fm(e,N.current))},k=()=>{Fm(e,null),N.current&&(N.current.destroy(),N.current=null)};return W.useEffect(()=>{!i&&N.current&&g&&Q4(N.current,g)},[i,g]),W.useEffect(()=>{!i&&N.current&&Fw(N.current.config.data,d.labels)},[i,d.labels]),W.useEffect(()=>{!i&&N.current&&d.datasets&&zw(N.current.config.data,d.datasets,o)},[i,d.datasets]),W.useEffect(()=>{N.current&&(i?(k(),setTimeout(S)):N.current.update(v))},[i,g,d.labels,d.datasets,v]),W.useEffect(()=>{N.current&&(k(),setTimeout(S))},[c]),W.useEffect(()=>(S(),()=>k()),[]),I.createElement("canvas",{ref:_,role:"img",height:n,width:r,...E},y)}const tI=W.forwardRef(eI);function t1(t,e){return Gu.register(e),W.forwardRef((n,r)=>I.createElement(tI,{...n,ref:r,type:t}))}const nI=t1("line",Rc),rI=t1("bar",Nc),iI=t1("doughnut",ha),Uw=6048e5,sI=864e5,Ww=6e4,Vw=36e5,zm=Symbol.for("constructDateFrom");function cr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&zm in t?t[zm](e):t instanceof Date?new t.constructor(e):new Date(e)}function Xt(t,e){return cr(e||t,t)}function oI(t,e,n){const r=Xt(t,n==null?void 0:n.in);if(isNaN(e))return cr((n==null?void 0:n.in)||t,NaN);if(!e)return r;const i=r.getDate(),o=cr((n==null?void 0:n.in)||t,r.getTime());o.setMonth(r.getMonth()+e+1,0);const c=o.getDate();return i>=c?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}let aI={};function $u(){return aI}function sl(t,e){var d,g,p,y;const n=$u(),r=(e==null?void 0:e.weekStartsOn)??((g=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,i=Xt(t,e==null?void 0:e.in),o=i.getDay(),c=(o<r?7:0)+o-r;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function Eu(t,e){return sl(t,{...e,weekStartsOn:1})}function Hw(t,e){const n=Xt(t,e==null?void 0:e.in),r=n.getFullYear(),i=cr(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=Eu(i),c=cr(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const d=Eu(c);return n.getTime()>=o.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function Um(t){const e=Xt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function lI(t,...e){const n=cr.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function Wm(t,e){const n=Xt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function cI(t,e,n){const[r,i]=lI(n==null?void 0:n.in,t,e),o=Wm(r),c=Wm(i),d=+o-Um(o),g=+c-Um(c);return Math.round((d-g)/sI)}function uI(t,e){const n=Hw(t,e),r=cr((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Eu(r)}function fI(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dI(t){return!(!fI(t)&&typeof t!="number"||isNaN(+Xt(t)))}function hI(t,e){const n=Xt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const gI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pI=(t,e,n)=>{let r;const i=gI[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const mI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wI={date:fd({formats:mI,defaultWidth:"full"}),time:fd({formats:xI,defaultWidth:"full"}),dateTime:fd({formats:yI,defaultWidth:"full"})},vI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},EI=(t,e,n,r)=>vI[t];function ea(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=n!=null&&n.width?String(n.width):c;i=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[d]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const bI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_I={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},II={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OI=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},TI={ordinalNumber:OI,era:ea({values:bI,defaultWidth:"wide"}),quarter:ea({values:_I,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ea({values:CI,defaultWidth:"wide"}),day:ea({values:SI,defaultWidth:"wide"}),dayPeriod:ea({values:AI,defaultWidth:"wide",formattingValues:II,defaultFormattingWidth:"wide"})};function ta(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const c=o[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],g=Array.isArray(d)?RI(d,v=>v.test(c)):NI(d,v=>v.test(c));let p;p=t.valueCallback?t.valueCallback(g):g,p=n.valueCallback?n.valueCallback(p):p;const y=e.slice(c.length);return{value:p,rest:y}}}function NI(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function RI(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function MI(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(i.length);return{value:c,rest:d}}}const kI=/^(\d+)(th|st|nd|rd)?/i,DI=/\d+/i,PI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LI={any:[/^b/i,/^(a|c)/i]},BI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},FI={any:[/1/i,/2/i,/3/i,/4/i]},zI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},UI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},VI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GI={ordinalNumber:MI({matchPattern:kI,parsePattern:DI,valueCallback:t=>parseInt(t,10)}),era:ta({matchPatterns:PI,defaultMatchWidth:"wide",parsePatterns:LI,defaultParseWidth:"any"}),quarter:ta({matchPatterns:BI,defaultMatchWidth:"wide",parsePatterns:FI,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ta({matchPatterns:zI,defaultMatchWidth:"wide",parsePatterns:UI,defaultParseWidth:"any"}),day:ta({matchPatterns:WI,defaultMatchWidth:"wide",parsePatterns:VI,defaultParseWidth:"any"}),dayPeriod:ta({matchPatterns:HI,defaultMatchWidth:"any",parsePatterns:jI,defaultParseWidth:"any"})},XI={code:"en-US",formatDistance:pI,formatLong:wI,formatRelative:EI,localize:TI,match:GI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $I(t,e){const n=Xt(t,e==null?void 0:e.in);return cI(n,hI(n))+1}function YI(t,e){const n=Xt(t,e==null?void 0:e.in),r=+Eu(n)-+uI(n);return Math.round(r/Uw)+1}function jw(t,e){var y,v,E,_;const n=Xt(t,e==null?void 0:e.in),r=n.getFullYear(),i=$u(),o=(e==null?void 0:e.firstWeekContainsDate)??((v=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(E=i.locale)==null?void 0:E.options)==null?void 0:_.firstWeekContainsDate)??1,c=cr((e==null?void 0:e.in)||t,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const d=sl(c,e),g=cr((e==null?void 0:e.in)||t,0);g.setFullYear(r,0,o),g.setHours(0,0,0,0);const p=sl(g,e);return+n>=+d?r+1:+n>=+p?r:r-1}function ZI(t,e){var d,g,p,y;const n=$u(),r=(e==null?void 0:e.firstWeekContainsDate)??((g=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.firstWeekContainsDate)??1,i=jw(t,e),o=cr((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),sl(o,e)}function KI(t,e){const n=Xt(t,e==null?void 0:e.in),r=+sl(n,e)-+ZI(n,e);return Math.round(r/Uw)+1}function Ve(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const si={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ve(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ve(n+1,2)},d(t,e){return Ve(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ve(t.getHours()%12||12,e.length)},H(t,e){return Ve(t.getHours(),e.length)},m(t,e){return Ve(t.getMinutes(),e.length)},s(t,e){return Ve(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ve(i,e.length)}},Ls={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vm={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return si.y(t,e)},Y:function(t,e,n,r){const i=jw(t,r),o=i>0?i:1-i;if(e==="YY"){const c=o%100;return Ve(c,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ve(o,e.length)},R:function(t,e){const n=Hw(t);return Ve(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ve(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ve(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ve(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return si.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ve(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=KI(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ve(i,e.length)},I:function(t,e,n){const r=YI(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ve(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):si.d(t,e)},D:function(t,e,n){const r=$I(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ve(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ve(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ve(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ve(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ls.noon:r===0?i=Ls.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ls.evening:r>=12?i=Ls.afternoon:r>=4?i=Ls.morning:i=Ls.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return si.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):si.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ve(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ve(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):si.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):si.s(t,e)},S:function(t,e){return si.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return jm(r);case"XXXX":case"XX":return Qi(r);case"XXXXX":case"XXX":default:return Qi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return jm(r);case"xxxx":case"xx":return Qi(r);case"xxxxx":case"xxx":default:return Qi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Hm(r,":");case"OOOO":default:return"GMT"+Qi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Hm(r,":");case"zzzz":default:return"GMT"+Qi(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ve(r,e.length)},T:function(t,e,n){return Ve(+t,e.length)}};function Hm(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Ve(o,2)}function jm(t,e){return t%60===0?(t>0?"-":"+")+Ve(Math.abs(t)/60,2):Qi(t,e)}function Qi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ve(Math.trunc(r/60),2),o=Ve(r%60,2);return n+i+e+o}const Gm=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Gw=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},qI=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Gm(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Gm(r,e)).replace("{{time}}",Gw(i,e))},QI={p:Gw,P:qI},JI=/^D+$/,eO=/^Y+$/,tO=["D","DD","YY","YYYY"];function nO(t){return JI.test(t)}function rO(t){return eO.test(t)}function iO(t,e,n){const r=sO(t,e,n);if(console.warn(r),tO.includes(t))throw new RangeError(r)}function sO(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lO=/^'([^]*?)'?$/,cO=/''/g,uO=/[a-zA-Z]/;function uc(t,e,n){var y,v,E,_,N,S,k,O;const r=$u(),i=(n==null?void 0:n.locale)??r.locale??XI,o=(n==null?void 0:n.firstWeekContainsDate)??((v=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(E=r.locale)==null?void 0:E.options)==null?void 0:_.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((S=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((O=(k=r.locale)==null?void 0:k.options)==null?void 0:O.weekStartsOn)??0,d=Xt(t,n==null?void 0:n.in);if(!dI(d))throw new RangeError("Invalid time value");let g=e.match(aO).map(T=>{const R=T[0];if(R==="p"||R==="P"){const B=QI[R];return B(T,i.formatLong)}return T}).join("").match(oO).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const R=T[0];if(R==="'")return{isToken:!1,value:fO(T)};if(Vm[R])return{isToken:!0,value:T};if(R.match(uO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:T}});i.localize.preprocessor&&(g=i.localize.preprocessor(d,g));const p={firstWeekContainsDate:o,weekStartsOn:c,locale:i};return g.map(T=>{if(!T.isToken)return T.value;const R=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&rO(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&nO(R))&&iO(R,e,String(t));const B=Vm[R[0]];return B(d,R,i.localize,p)}).join("")}function fO(t){const e=t.match(lO);return e?e[1].replace(cO,"'"):t}function dO(t,e,n){const r=+Xt(t,n==null?void 0:n.in),[i,o]=[+Xt(e.start,n==null?void 0:n.in),+Xt(e.end,n==null?void 0:n.in)].sort((c,d)=>c-d);return r>=i&&r<=o}function na(t,e){const n=()=>cr(e==null?void 0:e.in,NaN),r=(e==null?void 0:e.additionalDigits)??2,i=mO(t);let o;if(i.date){const p=xO(i.date,r);o=yO(p.restDateString,p.year)}if(!o||isNaN(+o))return n();const c=+o;let d=0,g;if(i.time&&(d=wO(i.time),isNaN(d)))return n();if(i.timezone){if(g=vO(i.timezone),isNaN(g))return n()}else{const p=new Date(c+d),y=Xt(0,e==null?void 0:e.in);return y.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),y.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),y}return Xt(c+d+g,e==null?void 0:e.in)}const fc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},hO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,gO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mO(t){const e={},n=t.split(fc.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],fc.timeZoneDelimiter.test(e.date)&&(e.date=t.split(fc.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=fc.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function xO(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function yO(t,e){if(e===null)return new Date(NaN);const n=t.match(hO);if(!n)return new Date(NaN);const r=!!n[4],i=ra(n[1]),o=ra(n[2])-1,c=ra(n[3]),d=ra(n[4]),g=ra(n[5])-1;if(r)return SO(e,d,g)?EO(e,d,g):new Date(NaN);{const p=new Date(0);return!_O(e,o,c)||!CO(e,i)?new Date(NaN):(p.setUTCFullYear(e,o,Math.max(i,c)),p)}}function ra(t){return t?parseInt(t):1}function wO(t){const e=t.match(gO);if(!e)return NaN;const n=dd(e[1]),r=dd(e[2]),i=dd(e[3]);return AO(n,r,i)?n*Vw+r*Ww+i*1e3:NaN}function dd(t){return t&&parseFloat(t.replace(",","."))||0}function vO(t){if(t==="Z")return 0;const e=t.match(pO);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return IO(r,i)?n*(r*Vw+i*Ww):NaN}function EO(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const bO=[31,null,31,30,31,30,31,31,30,31,30,31];function Xw(t){return t%400===0||t%4===0&&t%100!==0}function _O(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(bO[e]||(Xw(t)?29:28))}function CO(t,e){return e>=1&&e<=(Xw(t)?366:365)}function SO(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function AO(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function IO(t,e){return e>=0&&e<=59}function OO(t,e,n){return oI(t,-e,n)}Gu.register(Ch,Sh,Pc,ma,Dc,pa,T4,E4,il);const TO=async()=>{const t=await fetch("http://localhost:8000/inventory");return t.ok?t.json():[]},NO=async()=>{const t=await fetch("http://localhost:8000/inventory");return t.ok?(await t.json()).filter(n=>n.sale_price&&n.sale_price>0):[]},RO=async()=>{const t=await fetch("http://localhost:8000/vinted-bot-search?keywords=");return t.ok?t.json():{products:[]}};function MO(){const[t,e]=W.useState([]),[n,r]=W.useState([]),[i,o]=W.useState([]),[c,d]=W.useState({from:uc(OO(new Date,1),"yyyy-MM-dd"),to:uc(new Date,"yyyy-MM-dd")}),[g,p]=W.useState([]);W.useEffect(()=>{TO().then(e),NO().then(r),RO().then(k=>o(k.products||[]))},[]),W.useEffect(()=>{p(n.filter(k=>{if(!k.date_of_input)return!1;const O=na(k.date_of_input);return dO(O,{start:na(c.from),end:na(c.to)})}))},[n,c]);const y={};g.forEach(k=>{const O=uc(na(k.date_of_input),"yyyy-MM");y[O]=(y[O]||0)+1});const v=Object.keys(y).sort(),E=g.reduce((k,O)=>k+(O.profit||0),0),_=g.length,N=t.length,S=i.length;return I.createElement("div",{className:"flex flex-col h-full w-full p-8 gap-6 overflow-hidden"},I.createElement("div",{className:"grid grid-cols-4 gap-6 mb-2"},I.createElement("div",{className:"bg-white rounded-xl shadow flex flex-col items-center justify-center p-6 min-w-[160px]"},I.createElement(du,{className:"text-3xl text-blue-500 mb-2"}),I.createElement("div",{className:"text-2xl font-bold"},N),I.createElement("div",{className:"text-gray-500"},"Inventory Items")),I.createElement("div",{className:"bg-white rounded-xl shadow flex flex-col items-center justify-center p-6 min-w-[160px]"},I.createElement(Ep,{className:"text-3xl text-green-500 mb-2"}),I.createElement("div",{className:"text-2xl font-bold"},_),I.createElement("div",{className:"text-gray-500"},"Sales (Filtered)")),I.createElement("div",{className:"bg-white rounded-xl shadow flex flex-col items-center justify-center p-6 min-w-[160px]"},I.createElement(yC,{className:"text-3xl text-emerald-500 mb-2"}),I.createElement("div",{className:"text-2xl font-bold"},"£",E.toFixed(2)),I.createElement("div",{className:"text-gray-500"},"Profit (Filtered)")),I.createElement("div",{className:"bg-white rounded-xl shadow flex flex-col items-center justify-center p-6 min-w-[160px]"},I.createElement(EC,{className:"text-3xl text-purple-500 mb-2"}),I.createElement("div",{className:"text-2xl font-bold"},S),I.createElement("div",{className:"text-gray-500"},"Vinted Listings"))),I.createElement("div",{className:"flex gap-4 items-center mb-2"},I.createElement("label",{className:"font-semibold"},"From:"),I.createElement("input",{type:"date",value:c.from,onChange:k=>d(O=>({...O,from:k.target.value})),className:"border rounded px-2 py-1"}),I.createElement("label",{className:"font-semibold"},"To:"),I.createElement("input",{type:"date",value:c.to,onChange:k=>d(O=>({...O,to:k.target.value})),className:"border rounded px-2 py-1"})),I.createElement("div",{className:"grid grid-cols-3 gap-6 flex-1 min-h-0"},I.createElement("div",{className:"bg-white rounded-xl shadow p-4 flex flex-col items-center justify-start h-[260px]"},I.createElement("div",{className:"font-bold mb-2 flex items-center gap-2"},I.createElement(Ep,{className:"text-green-500"})," Sales by Month"),I.createElement("div",{className:"w-full flex-1 flex items-center justify-center"},I.createElement(rI,{data:{labels:v,datasets:[{label:"Sales",data:v.map(k=>y[k]),backgroundColor:"#34d399"}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{display:!1}}},maintainAspectRatio:!1},height:180}))),I.createElement("div",{className:"bg-white rounded-xl shadow p-4 flex flex-col items-center justify-start h-[260px]"},I.createElement("div",{className:"font-bold mb-2 flex items-center gap-2"},I.createElement(bC,{className:"text-emerald-500"})," Profit Trend"),I.createElement("div",{className:"w-full flex-1 flex items-center justify-center"},I.createElement(nI,{data:{labels:v,datasets:[{label:"Profit",data:v.map(k=>g.filter(O=>uc(na(O.date_of_input),"yyyy-MM")===k).reduce((O,T)=>O+(T.profit||0),0)),borderColor:"#6366f1",backgroundColor:"#c7d2fe",tension:.4,fill:!0}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{display:!1}}},maintainAspectRatio:!1},height:180}))),I.createElement("div",{className:"bg-white rounded-xl shadow p-4 flex flex-col items-center justify-start h-[260px]"},I.createElement("div",{className:"font-bold mb-2 flex items-center gap-2"},I.createElement(du,{className:"text-blue-400"})," Inventory by Category"),I.createElement("div",{className:"w-full flex-1 flex items-center justify-center"},I.createElement(iI,{data:{labels:Array.from(new Set(t.map(k=>k.category||"Uncategorized"))),datasets:[{label:"Inventory",data:Array.from(new Set(t.map(k=>k.category||"Uncategorized"))).map(k=>t.filter(O=>(O.category||"Uncategorized")===k).length),backgroundColor:["#60a5fa","#fbbf24","#34d399","#f87171","#a78bfa","#f472b6","#facc15","#4ade80"]}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}},cutout:"70%",maintainAspectRatio:!1},height:180})))),I.createElement("div",{className:"grid grid-cols-3 gap-6 mt-4"},I.createElement("div",{className:"bg-white rounded-xl shadow p-4 flex flex-col items-center justify-center"},I.createElement("div",{className:"font-bold mb-2 flex items-center gap-2"},I.createElement(F0,{className:"text-blue-500"})," Inventory Preview"),I.createElement("div",{className:"overflow-x-auto w-full max-h-40"},I.createElement("table",{className:"min-w-full text-sm"},I.createElement("thead",null,I.createElement("tr",null,I.createElement("th",{className:"px-2 py-1"},"Name"),I.createElement("th",{className:"px-2 py-1"},"Qty"),I.createElement("th",{className:"px-2 py-1"},"Category"))),I.createElement("tbody",null,t.slice(0,5).map(k=>I.createElement("tr",{key:k.id},I.createElement("td",{className:"px-2 py-1"},k.item_name),I.createElement("td",{className:"px-2 py-1"},k.quantity),I.createElement("td",{className:"px-2 py-1"},k.category))))))),I.createElement("div",{className:"bg-white rounded-xl shadow p-4 flex flex-col items-center justify-center"},I.createElement("div",{className:"font-bold mb-2 flex items-center gap-2"},I.createElement(Zy,{className:"text-purple-500"})," Vinted Preview"),I.createElement("div",{className:"overflow-x-auto w-full max-h-40"},I.createElement("table",{className:"min-w-full text-sm"},I.createElement("thead",null,I.createElement("tr",null,I.createElement("th",{className:"px-2 py-1"},"Title"),I.createElement("th",{className:"px-2 py-1"},"Price"))),I.createElement("tbody",null,i.slice(0,5).map((k,O)=>I.createElement("tr",{key:O},I.createElement("td",{className:"px-2 py-1 truncate max-w-[120px]"},k.title),I.createElement("td",{className:"px-2 py-1"},"£",k.price))))))),I.createElement("div",{className:"bg-white rounded-xl shadow p-4 flex flex-col items-center justify-center"},I.createElement("div",{className:"font-bold mb-2 flex items-center gap-2"},I.createElement(Yy,{className:"text-green-400"})," Scan In/Out Preview"),I.createElement("div",{className:"text-gray-500 text-sm"},"Use the Scan In/Out tab to update inventory in real time!"))))}function kO({open:t,onClose:e,item:n,onEdit:r,onDelete:i,onPrintBarcode:o,onPrintInvoice:c}){return t?I.createElement("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-40"},I.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6 min-w-[320px] relative"},I.createElement("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:e},"×"),I.createElement("h2",{className:"text-lg font-bold mb-4"},"Actions for: ",I.createElement("span",{className:"font-mono"},n.item_name)),I.createElement("div",{className:"flex flex-col gap-3"},I.createElement("button",{className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",onClick:()=>{r(n),e()}},"Edit"),I.createElement("button",{className:"w-full bg-green-600 text-white py-2 rounded hover:bg-green-700",onClick:()=>{o(n),e()}},"Print Barcode"),I.createElement("button",{className:"w-full bg-yellow-500 text-white py-2 rounded hover:bg-yellow-600",onClick:()=>{c(n),e()}},"Print Invoice"),I.createElement("button",{className:"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600",onClick:()=>{i(n.id),e()}},"Delete")))):null}function DO({items:t,onDelete:e,onEdit:n,onPrintBarcode:r,onPrintInvoice:i}){const[o,c]=W.useState(!1),[d,g]=W.useState(null),p=v=>{g(v),c(!0)},y=()=>{c(!1),g(null)};return I.createElement(I.Fragment,null,I.createElement("div",{className:"overflow-x-auto w-full"},I.createElement("table",{className:"min-w-full bg-white border border-gray-200"},I.createElement("thead",null,I.createElement("tr",null,I.createElement("th",{className:"px-4 py-2 border"},"ID"),I.createElement("th",{className:"px-4 py-2 border"},"Name"),I.createElement("th",{className:"px-4 py-2 border"},"Barcode"),I.createElement("th",{className:"px-4 py-2 border"},"Quantity"),I.createElement("th",{className:"px-4 py-2 border"},"Location"),I.createElement("th",{className:"px-4 py-2 border"},"Category"),I.createElement("th",{className:"px-4 py-2 border"},"Supplier"),I.createElement("th",{className:"px-4 py-2 border"},"Cost"),I.createElement("th",{className:"px-4 py-2 border"},"Sale Price"),I.createElement("th",{className:"px-4 py-2 border"},"Profit"),I.createElement("th",{className:"px-4 py-2 border"},"Profit %"),I.createElement("th",{className:"px-4 py-2 border"},"Date of Input"),I.createElement("th",{className:"px-4 py-2 border"},"Last Updated"),I.createElement("th",{className:"px-4 py-2 border"}))),I.createElement("tbody",null,t.length===0?I.createElement("tr",null,I.createElement("td",{colSpan:13,className:"text-center py-4 text-gray-500"},"No inventory items.")):t.map(v=>{let E=Number(v.profit??0),_=200,N="";return E>0?(E>500?_=500:E>200?_=400:E>100?_=300:_=200,N=`bg-green-${_}`):E<0?N="bg-red-100":N="",I.createElement("tr",{key:v.id},I.createElement("td",{className:"px-4 py-2 border"},v.id),I.createElement("td",{className:"px-4 py-2 border"},v.item_name),I.createElement("td",{className:"px-4 py-2 border"},v.barcode),I.createElement("td",{className:"px-4 py-2 border"},v.quantity),I.createElement("td",{className:"px-4 py-2 border"},v.location),I.createElement("td",{className:"px-4 py-2 border"},v.category),I.createElement("td",{className:"px-4 py-2 border"},v.supplier),I.createElement("td",{className:"px-4 py-2 border"},v.cost),I.createElement("td",{className:"px-4 py-2 border"},v.sale_price),I.createElement("td",{className:`px-4 py-2 border font-semibold ${N}`},v.profit),I.createElement("td",{className:`px-4 py-2 border ${N}`},v.profit_percent?v.profit_percent.toFixed(2)+"%":""),I.createElement("td",{className:"px-4 py-2 border"},v.date_of_input?new Date(v.date_of_input).toLocaleString():""),I.createElement("td",{className:"px-4 py-2 border"},v.last_updated?new Date(v.last_updated).toLocaleString():""),I.createElement("td",{className:"px-4 py-2 border text-center"},I.createElement("button",{className:"text-xl px-2 py-1 rounded hover:bg-gray-200",onClick:()=>p(v),title:"Actions"},"⋮")))})))),I.createElement(kO,{open:o,onClose:y,item:d,onEdit:n,onDelete:e,onPrintBarcode:r,onPrintInvoice:i}))}var n1={},Yu={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});function PO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var LO=function t(e,n){PO(this,t),this.data=e,this.text=n.text||e,this.options=n};Cn.default=LO;Object.defineProperty(Yu,"__esModule",{value:!0});Yu.CODE39=void 0;var BO=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),FO=Cn,zO=UO(FO);function UO(t){return t&&t.__esModule?t:{default:t}}function WO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function HO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var jO=function(t){HO(e,t);function e(n,r){return WO(this,e),n=n.toUpperCase(),r.mod43&&(n+=$O(YO(n))),VO(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return BO(e,[{key:"encode",value:function(){for(var r=hd("*"),i=0;i<this.data.length;i++)r+=hd(this.data[i])+"0";return r+=hd("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(zO.default),$w=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],GO=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function hd(t){return XO(Yw(t))}function XO(t){return GO[t].toString(2)}function $O(t){return $w[t]}function Yw(t){return $w.indexOf(t)}function YO(t){for(var e=0,n=0;n<t.length;n++)e+=Yw(t[n]);return e=e%43,e}Yu.CODE39=jO;var Cr={},r1={},So={},rt={};Object.defineProperty(rt,"__esModule",{value:!0});var ia;function gd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zw=rt.SET_A=0,Kw=rt.SET_B=1,qw=rt.SET_C=2;rt.SHIFT=98;var ZO=rt.START_A=103,KO=rt.START_B=104,qO=rt.START_C=105;rt.MODULO=103;rt.STOP=106;rt.FNC1=207;rt.SET_BY_CODE=(ia={},gd(ia,ZO,Zw),gd(ia,KO,Kw),gd(ia,qO,qw),ia);rt.SWAP={101:Zw,100:Kw,99:qw};rt.A_START_CHAR=String.fromCharCode(208);rt.B_START_CHAR=String.fromCharCode(209);rt.C_START_CHAR=String.fromCharCode(210);rt.A_CHARS="[\0-_È-Ï]";rt.B_CHARS="[ -È-Ï]";rt.C_CHARS="(Ï*[0-9]{2}Ï*)";rt.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(So,"__esModule",{value:!0});var QO=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),JO=Cn,e6=t6(JO),An=rt;function t6(t){return t&&t.__esModule?t:{default:t}}function n6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function i6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s6=function(t){i6(e,t);function e(n,r){n6(this,e);var i=r6(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(o){return o.charCodeAt(0)}),i}return QO(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,o=An.SET_BY_CODE[i];if(o===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(An.FNC1);var c=e.next(r,1,o);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+c.result+e.getBar((c.checksum+i)%An.MODULO)+e.getBar(An.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return An.BARS[r]?An.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===An.SET_A){var o=r.shift();return o<32?o+64:o-32}else return i===An.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,o){if(!r.length)return{result:"",checksum:0};var c=void 0,d=void 0;if(r[0]>=200){d=r.shift()-105;var g=An.SWAP[d];g!==void 0?c=e.next(r,i+1,g):((o===An.SET_A||o===An.SET_B)&&d===An.SHIFT&&(r[0]=o===An.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),c=e.next(r,i+1,o))}else d=e.correctIndex(r,o),c=e.next(r,i+1,o);var p=e.getBar(d),y=d*i;return{result:p+c.result,checksum:y+c.checksum}}}]),e}(e6.default);So.default=s6;var i1={};Object.defineProperty(i1,"__esModule",{value:!0});var Ii=rt,Qw=function(e){return e.match(new RegExp("^"+Ii.A_CHARS+"*"))[0].length},Jw=function(e){return e.match(new RegExp("^"+Ii.B_CHARS+"*"))[0].length},ev=function(e){return e.match(new RegExp("^"+Ii.C_CHARS+"*"))[0]};function s1(t,e){var n=e?Ii.A_CHARS:Ii.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+String.fromCharCode(204)+tv(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+s1(t.substring(i.length),!e)}function tv(t){var e=ev(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=Qw(t)>=Jw(t);return e+String.fromCharCode(r?206:205)+s1(t,r)}i1.default=function(t){var e=void 0,n=ev(t).length;if(n>=2)e=Ii.C_START_CHAR+tv(t);else{var r=Qw(t)>Jw(t);e=(r?Ii.A_START_CHAR:Ii.B_START_CHAR)+s1(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,o){return String.fromCharCode(203)+o})};Object.defineProperty(r1,"__esModule",{value:!0});var o6=So,a6=nv(o6),l6=i1,c6=nv(l6);function nv(t){return t&&t.__esModule?t:{default:t}}function u6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pd(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function f6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d6=function(t){f6(e,t);function e(n,r){if(u6(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=pd(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,c6.default)(n),r));else var i=pd(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return pd(i)}return e}(a6.default);r1.default=d6;var o1={};Object.defineProperty(o1,"__esModule",{value:!0});var h6=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g6=So,p6=m6(g6),Xm=rt;function m6(t){return t&&t.__esModule?t:{default:t}}function x6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function w6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v6=function(t){w6(e,t);function e(n,r){return x6(this,e),y6(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Xm.A_START_CHAR+n,r))}return h6(e,[{key:"valid",value:function(){return new RegExp("^"+Xm.A_CHARS+"+$").test(this.data)}}]),e}(p6.default);o1.default=v6;var a1={};Object.defineProperty(a1,"__esModule",{value:!0});var E6=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b6=So,_6=C6(b6),$m=rt;function C6(t){return t&&t.__esModule?t:{default:t}}function S6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function I6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var O6=function(t){I6(e,t);function e(n,r){return S6(this,e),A6(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$m.B_START_CHAR+n,r))}return E6(e,[{key:"valid",value:function(){return new RegExp("^"+$m.B_CHARS+"+$").test(this.data)}}]),e}(_6.default);a1.default=O6;var l1={};Object.defineProperty(l1,"__esModule",{value:!0});var T6=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),N6=So,R6=M6(N6),Ym=rt;function M6(t){return t&&t.__esModule?t:{default:t}}function k6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function P6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var L6=function(t){P6(e,t);function e(n,r){return k6(this,e),D6(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Ym.C_START_CHAR+n,r))}return T6(e,[{key:"valid",value:function(){return new RegExp("^"+Ym.C_CHARS+"+$").test(this.data)}}]),e}(R6.default);l1.default=L6;Object.defineProperty(Cr,"__esModule",{value:!0});Cr.CODE128C=Cr.CODE128B=Cr.CODE128A=Cr.CODE128=void 0;var B6=r1,F6=Zu(B6),z6=o1,U6=Zu(z6),W6=a1,V6=Zu(W6),H6=l1,j6=Zu(H6);function Zu(t){return t&&t.__esModule?t:{default:t}}Cr.CODE128=F6.default;Cr.CODE128A=U6.default;Cr.CODE128B=V6.default;Cr.CODE128C=j6.default;var yn={},c1={},Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.SIDE_BIN="101";Zn.MIDDLE_BIN="01010";Zn.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Zn.EAN2_STRUCTURE=["LL","LG","GL","GG"];Zn.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Zn.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var Ku={},ws={};Object.defineProperty(ws,"__esModule",{value:!0});var G6=Zn,X6=function(e,n,r){var i=e.split("").map(function(c,d){return G6.BINARIES[n[d]]}).map(function(c,d){return c?c[e[d]]:""});if(r){var o=e.length-1;i=i.map(function(c,d){return d<o?c+r:c})}return i.join("")};ws.default=X6;Object.defineProperty(Ku,"__esModule",{value:!0});var $6=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Bs=Zn,Y6=ws,Zm=rv(Y6),Z6=Cn,K6=rv(Z6);function rv(t){return t&&t.__esModule?t:{default:t}}function q6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function J6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eT=function(t){J6(e,t);function e(n,r){q6(this,e);var i=Q6(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return $6(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,Zm.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,Zm.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:Bs.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Bs.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Bs.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[Bs.SIDE_BIN,this.leftEncode(),Bs.MIDDLE_BIN,this.rightEncode(),Bs.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(K6.default);Ku.default=eT;Object.defineProperty(c1,"__esModule",{value:!0});var tT=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),sa=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,n,r)}else{if("value"in i)return i.value;var c=i.get;return c===void 0?void 0:c.call(r)}},nT=Zn,rT=Ku,iT=sT(rT);function sT(t){return t&&t.__esModule?t:{default:t}}function oT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aT(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Km=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*3:r+i},0);return(10-n%10)%10},cT=function(t){lT(e,t);function e(n,r){oT(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=Km(n));var i=aT(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return tT(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===Km(this.data)}},{key:"leftText",value:function(){return sa(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=nT.EAN13_STRUCTURE[this.data[0]];return sa(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return sa(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return sa(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=sa(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(iT.default);c1.default=cT;var u1={};Object.defineProperty(u1,"__esModule",{value:!0});var uT=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),dc=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:t(o,n,r)}else{if("value"in i)return i.value;var c=i.get;return c===void 0?void 0:c.call(r)}},fT=Ku,dT=hT(fT);function hT(t){return t&&t.__esModule?t:{default:t}}function gT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pT(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var qm=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i:r+i*3},0);return(10-n%10)%10},xT=function(t){mT(e,t);function e(n,r){return gT(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=qm(n)),pT(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return uT(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===qm(this.data)}},{key:"leftText",value:function(){return dc(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return dc(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return dc(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return dc(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(dT.default);u1.default=xT;var f1={};Object.defineProperty(f1,"__esModule",{value:!0});var yT=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wT=Zn,vT=ws,ET=iv(vT),bT=Cn,_T=iv(bT);function iv(t){return t&&t.__esModule?t:{default:t}}function CT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ST(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function AT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var IT=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,i,o){return o%2?r+i*9:r+i*3},0);return n%10},OT=function(t){AT(e,t);function e(n,r){return CT(this,e),ST(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return yT(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=wT.EAN5_STRUCTURE[IT(this.data)];return{data:"1011"+(0,ET.default)(this.data,r,"01"),text:this.text}}}]),e}(_T.default);f1.default=OT;var d1={};Object.defineProperty(d1,"__esModule",{value:!0});var TT=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),NT=Zn,RT=ws,MT=sv(RT),kT=Cn,DT=sv(kT);function sv(t){return t&&t.__esModule?t:{default:t}}function PT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LT(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function BT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var FT=function(t){BT(e,t);function e(n,r){return PT(this,e),LT(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return TT(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=NT.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,MT.default)(this.data,r,"01"),text:this.text}}}]),e}(DT.default);d1.default=FT;var pl={};Object.defineProperty(pl,"__esModule",{value:!0});var zT=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();pl.checksum=Ih;var UT=ws,Fs=ov(UT),WT=Cn,VT=ov(WT);function ov(t){return t&&t.__esModule?t:{default:t}}function HT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jT(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function GT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var XT=function(t){GT(e,t);function e(n,r){HT(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=Ih(n));var i=jT(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return zT(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Ih(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,Fs.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,Fs.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,Fs.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,Fs.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,Fs.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,Fs.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(VT.default);function Ih(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}pl.default=XT;var h1={};Object.defineProperty(h1,"__esModule",{value:!0});var $T=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),YT=ws,ZT=av(YT),KT=Cn,qT=av(KT),QT=pl;function av(t){return t&&t.__esModule?t:{default:t}}function JT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function md(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tN=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],nN=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],rN=function(t){eN(e,t);function e(n,r){JT(this,e);var i=md(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)i.middleDigits=n,i.upcA=Qm(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=n.substring(1,n.length-1),i.upcA=Qm(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]===n[n.length-1])i.isValid=!0;else return md(i);else return md(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return $T(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],o=nN[parseInt(i)][parseInt(r)];return(0,ZT.default)(this.middleDigits,o)}}]),e}(qT.default);function Qm(t,e){for(var n=parseInt(t[t.length-1]),r=tN[n],i="",o=0,c=0;c<r.length;c++){var d=r[c];d==="X"?i+=t[o++]:i+=d}return i=""+e+i,""+i+(0,QT.checksum)(i)}h1.default=rN;Object.defineProperty(yn,"__esModule",{value:!0});yn.UPCE=yn.UPC=yn.EAN2=yn.EAN5=yn.EAN8=yn.EAN13=void 0;var iN=c1,sN=Ao(iN),oN=u1,aN=Ao(oN),lN=f1,cN=Ao(lN),uN=d1,fN=Ao(uN),dN=pl,hN=Ao(dN),gN=h1,pN=Ao(gN);function Ao(t){return t&&t.__esModule?t:{default:t}}yn.EAN13=sN.default;yn.EAN8=aN.default;yn.EAN5=cN.default;yn.EAN2=fN.default;yn.UPC=hN.default;yn.UPCE=pN.default;var yo={},qu={},ml={};Object.defineProperty(ml,"__esModule",{value:!0});ml.START_BIN="1010";ml.END_BIN="11101";ml.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(qu,"__esModule",{value:!0});var mN=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),hc=ml,xN=Cn,yN=wN(xN);function wN(t){return t&&t.__esModule?t:{default:t}}function vN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _N=function(t){bN(e,t);function e(){return vN(this,e),EN(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return mN(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(o){return r.encodePair(o)}).join("");return{data:hc.START_BIN+i+hc.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=hc.BINARIES[r[1]];return hc.BINARIES[r[0]].split("").map(function(o,c){return(o==="1"?"111":"1")+(i[c]==="1"?"000":"0")}).join("")}}]),e}(yN.default);qu.default=_N;var g1={};Object.defineProperty(g1,"__esModule",{value:!0});var CN=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),SN=qu,AN=IN(SN);function IN(t){return t&&t.__esModule?t:{default:t}}function ON(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function NN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Jm=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,o){return r+i*(3-o%2*2)},0);return Math.ceil(n/10)*10-n},RN=function(t){NN(e,t);function e(n,r){return ON(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=Jm(n)),TN(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return CN(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===Jm(this.data)}}]),e}(AN.default);g1.default=RN;Object.defineProperty(yo,"__esModule",{value:!0});yo.ITF14=yo.ITF=void 0;var MN=qu,kN=lv(MN),DN=g1,PN=lv(DN);function lv(t){return t&&t.__esModule?t:{default:t}}yo.ITF=kN.default;yo.ITF14=PN.default;var jn={},vs={};Object.defineProperty(vs,"__esModule",{value:!0});var LN=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),BN=Cn,FN=zN(BN);function zN(t){return t&&t.__esModule?t:{default:t}}function UN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function VN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var HN=function(t){VN(e,t);function e(n,r){return UN(this,e),WN(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return LN(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var o=parseInt(this.data[i]),c=o.toString(2);c=jN(c,4-c.length);for(var d=0;d<c.length;d++)r+=c[d]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(FN.default);function jN(t,e){for(var n=0;n<e;n++)t="0"+t;return t}vs.default=HN;var p1={},Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.mod10=GN;Es.mod11=XN;function GN(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function XN(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}Object.defineProperty(p1,"__esModule",{value:!0});var $N=vs,YN=KN($N),ZN=Es;function KN(t){return t&&t.__esModule?t:{default:t}}function qN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function JN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eR=function(t){JN(e,t);function e(n,r){return qN(this,e),QN(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,ZN.mod10)(n),r))}return e}(YN.default);p1.default=eR;var m1={};Object.defineProperty(m1,"__esModule",{value:!0});var tR=vs,nR=iR(tR),rR=Es;function iR(t){return t&&t.__esModule?t:{default:t}}function sR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oR(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lR=function(t){aR(e,t);function e(n,r){return sR(this,e),oR(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,rR.mod11)(n),r))}return e}(nR.default);m1.default=lR;var x1={};Object.defineProperty(x1,"__esModule",{value:!0});var cR=vs,uR=fR(cR),ex=Es;function fR(t){return t&&t.__esModule?t:{default:t}}function dR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hR(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pR=function(t){gR(e,t);function e(n,r){return dR(this,e),n+=(0,ex.mod10)(n),n+=(0,ex.mod10)(n),hR(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(uR.default);x1.default=pR;var y1={};Object.defineProperty(y1,"__esModule",{value:!0});var mR=vs,xR=yR(mR),tx=Es;function yR(t){return t&&t.__esModule?t:{default:t}}function wR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vR(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ER(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bR=function(t){ER(e,t);function e(n,r){return wR(this,e),n+=(0,tx.mod11)(n),n+=(0,tx.mod10)(n),vR(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(xR.default);y1.default=bR;Object.defineProperty(jn,"__esModule",{value:!0});jn.MSI1110=jn.MSI1010=jn.MSI11=jn.MSI10=jn.MSI=void 0;var _R=vs,CR=xl(_R),SR=p1,AR=xl(SR),IR=m1,OR=xl(IR),TR=x1,NR=xl(TR),RR=y1,MR=xl(RR);function xl(t){return t&&t.__esModule?t:{default:t}}jn.MSI=CR.default;jn.MSI10=AR.default;jn.MSI11=OR.default;jn.MSI1010=NR.default;jn.MSI1110=MR.default;var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.pharmacode=void 0;var kR=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),DR=Cn,PR=LR(DR);function LR(t){return t&&t.__esModule?t:{default:t}}function BR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FR(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var UR=function(t){zR(e,t);function e(n,r){BR(this,e);var i=FR(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return kR(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(PR.default);Qu.pharmacode=UR;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});Ju.codabar=void 0;var WR=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),VR=Cn,HR=jR(VR);function jR(t){return t&&t.__esModule?t:{default:t}}function GR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XR(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $R(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var YR=function(t){$R(e,t);function e(n,r){GR(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var i=XR(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return WR(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),o=0;o<this.data.length;o++)r.push(i[this.data.charAt(o)]),o!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(HR.default);Ju.codabar=YR;var ef={};Object.defineProperty(ef,"__esModule",{value:!0});ef.GenericBarcode=void 0;var ZR=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),KR=Cn,qR=QR(KR);function QR(t){return t&&t.__esModule?t:{default:t}}function JR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e5(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function t5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n5=function(t){t5(e,t);function e(n,r){return JR(this,e),e5(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ZR(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(qR.default);ef.GenericBarcode=n5;Object.defineProperty(n1,"__esModule",{value:!0});var r5=Yu,gc=Cr,zs=yn,nx=yo,oa=jn,i5=Qu,s5=Ju,o5=ef;n1.default={CODE39:r5.CODE39,CODE128:gc.CODE128,CODE128A:gc.CODE128A,CODE128B:gc.CODE128B,CODE128C:gc.CODE128C,EAN13:zs.EAN13,EAN8:zs.EAN8,EAN5:zs.EAN5,EAN2:zs.EAN2,UPC:zs.UPC,UPCE:zs.UPCE,ITF14:nx.ITF14,ITF:nx.ITF,MSI:oa.MSI,MSI10:oa.MSI10,MSI11:oa.MSI11,MSI1010:oa.MSI1010,MSI1110:oa.MSI1110,pharmacode:i5.pharmacode,codabar:s5.codabar,GenericBarcode:o5.GenericBarcode};var Io={};Object.defineProperty(Io,"__esModule",{value:!0});var a5=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Io.default=function(t,e){return a5({},t,e)};var w1={};Object.defineProperty(w1,"__esModule",{value:!0});w1.default=l5;function l5(t){var e=[];function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var v1={};Object.defineProperty(v1,"__esModule",{value:!0});v1.default=c5;function c5(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var E1={},b1={},tf={};Object.defineProperty(tf,"__esModule",{value:!0});tf.default=u5;function u5(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var nf={};Object.defineProperty(nf,"__esModule",{value:!0});var f5={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};nf.default=f5;Object.defineProperty(b1,"__esModule",{value:!0});var d5=tf,h5=cv(d5),g5=nf,rx=cv(g5);function cv(t){return t&&t.__esModule?t:{default:t}}function p5(t){var e={};for(var n in rx.default)rx.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,h5.default)(e),e}b1.default=p5;var _1={},C1={},Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.getTotalWidthOfEncodings=Rn.calculateEncodingAttributes=Rn.getBarcodePadding=Rn.getEncodingHeight=Rn.getMaximumHeightOfEncodings=void 0;var m5=Io,x5=y5(m5);function y5(t){return t&&t.__esModule?t:{default:t}}function uv(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function fv(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function w5(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],o=(0,x5.default)(e,i.options),c;o.displayValue?c=b5(i.text,o,n):c=0;var d=i.data.length*o.width;i.width=Math.ceil(Math.max(c,d)),i.height=uv(i,o),i.barcodePadding=fv(c,d,o)}}function v5(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function E5(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function b5(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);if(!i)return 0;var o=i.width;return o}Rn.getMaximumHeightOfEncodings=E5;Rn.getEncodingHeight=uv;Rn.getBarcodePadding=fv;Rn.calculateEncodingAttributes=w5;Rn.getTotalWidthOfEncodings=v5;Object.defineProperty(C1,"__esModule",{value:!0});var _5=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),C5=Io,S5=A5(C5),xd=Rn;function A5(t){return t&&t.__esModule?t:{default:t}}function I5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var O5=function(){function t(e,n,r){I5(this,t),this.canvas=e,this.encodings=n,this.options=r}return _5(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,S5.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,xd.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,xd.getTotalWidthOfEncodings)(this.encodings),i=(0,xd.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var i=this.canvas.getContext("2d"),o=r.data,c;n.textPosition=="top"?c=n.marginTop+n.fontSize+n.textMargin:c=n.marginTop,i.fillStyle=n.lineColor;for(var d=0;d<o.length;d++){var g=d*n.width+r.barcodePadding;o[d]==="1"?i.fillRect(g,c,n.width,n.height):o[d]&&i.fillRect(g,c,n.width,n.height*o[d])}}},{key:"drawCanvasText",value:function(n,r){var i=this.canvas.getContext("2d"),o=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var c,d;n.textPosition=="top"?d=n.marginTop+n.fontSize-n.textMargin:d=n.height+n.textMargin+n.marginTop+n.fontSize,i.font=o,n.textAlign=="left"||r.barcodePadding>0?(c=0,i.textAlign="left"):n.textAlign=="right"?(c=r.width-1,i.textAlign="right"):(c=r.width/2,i.textAlign="center"),i.fillText(r.text,c,d)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();C1.default=O5;var S1={};Object.defineProperty(S1,"__esModule",{value:!0});var T5=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),N5=Io,R5=M5(N5),yd=Rn;function M5(t){return t&&t.__esModule?t:{default:t}}function k5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var pc="http://www.w3.org/2000/svg",D5=function(){function t(e,n,r){k5(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return T5(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],o=(0,R5.default)(this.options,i.options),c=this.createGroup(n,o.marginTop,this.svg);this.setGroupOptions(c,o),this.drawSvgBarcode(c,o,i),this.drawSVGText(c,o,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,yd.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,yd.getTotalWidthOfEncodings)(this.encodings),r=(0,yd.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,i){var o=i.data,c;r.textPosition=="top"?c=r.fontSize+r.textMargin:c=0;for(var d=0,g=0,p=0;p<o.length;p++)g=p*r.width+i.barcodePadding,o[p]==="1"?d++:d>0&&(this.drawRect(g-r.width*d,c,r.width*d,r.height,n),d=0);d>0&&this.drawRect(g-r.width*(d-1),c,r.width*d,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var o=this.document.createElementNS(pc,"text");if(r.displayValue){var c,d;o.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?d=r.fontSize-r.textMargin:d=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(c=0,o.setAttribute("text-anchor","start")):r.textAlign=="right"?(c=i.width-1,o.setAttribute("text-anchor","end")):(c=i.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",c),o.setAttribute("y",d),o.appendChild(this.document.createTextNode(i.text)),n.appendChild(o)}}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",pc),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,i){var o=this.document.createElementNS(pc,"g");return o.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(o),o}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,i,o,c){var d=this.document.createElementNS(pc,"rect");return d.setAttribute("x",n),d.setAttribute("y",r),d.setAttribute("width",i),d.setAttribute("height",o),c.appendChild(d),d}}]),t}();S1.default=D5;var A1={};Object.defineProperty(A1,"__esModule",{value:!0});var P5=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function L5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var B5=function(){function t(e,n,r){L5(this,t),this.object=e,this.encodings=n,this.options=r}return P5(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();A1.default=B5;Object.defineProperty(_1,"__esModule",{value:!0});var F5=C1,z5=I1(F5),U5=S1,W5=I1(U5),V5=A1,H5=I1(V5);function I1(t){return t&&t.__esModule?t:{default:t}}_1.default={CanvasRenderer:z5.default,SVGRenderer:W5.default,ObjectRenderer:H5.default};var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});function O1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T1(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function N1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var j5=function(t){N1(e,t);function e(n,r){O1(this,e);var i=T1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e}(Error),G5=function(t){N1(e,t);function e(){O1(this,e);var n=T1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),X5=function(t){N1(e,t);function e(){O1(this,e);var n=T1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);Oo.InvalidInputException=j5;Oo.InvalidElementException=G5;Oo.NoElementException=X5;Object.defineProperty(E1,"__esModule",{value:!0});var $5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y5=b1,Oh=dv(Y5),Z5=_1,ya=dv(Z5),K5=Oo;function dv(t){return t&&t.__esModule?t:{default:t}}function R1(t){if(typeof t=="string")return q5(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(R1(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return Q5(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Oh.default)(t),renderer:ya.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Oh.default)(t),renderer:ya.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:ya.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":$5(t))==="object"&&!t.nodeName)return{element:t,renderer:ya.default.ObjectRenderer};throw new K5.InvalidElementException}}function q5(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(R1(e[r]));return n}}function Q5(t){var e=document.createElement("canvas");return{element:e,options:(0,Oh.default)(t),renderer:ya.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}E1.default=R1;var M1={};Object.defineProperty(M1,"__esModule",{value:!0});var J5=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function eM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var tM=function(){function t(e){eM(this,t),this.api=e}return J5(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t}();M1.default=tM;var nM=n1,ls=Li(nM),rM=Io,yl=Li(rM),iM=w1,hv=Li(iM),sM=v1,ix=Li(sM),oM=E1,aM=Li(oM),lM=tf,cM=Li(lM),uM=M1,fM=Li(uM),gv=Oo,dM=nf,pv=Li(dM);function Li(t){return t&&t.__esModule?t:{default:t}}var Hr=function(){},rf=function(e,n,r){var i=new Hr;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,aM.default)(e),i._encodings=[],i._options=pv.default,i._errorHandler=new fM.default(i),typeof n<"u"&&(r=r||{},r.format||(r.format=xv()),i.options(r)[r.format](n,r).render()),i};rf.getModule=function(t){return ls.default[t]};for(var sx in ls.default)ls.default.hasOwnProperty(sx)&&hM(ls.default,sx);function hM(t,e){Hr.prototype[e]=Hr.prototype[e.toUpperCase()]=Hr.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var o=(0,yl.default)(i._options,r);o=(0,cM.default)(o);var c=t[e],d=mv(n,c,o);return i._encodings.push(d),i})}}function mv(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new gv.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,hv.default)(i);for(var o=0;o<i.length;o++)i[o].options=(0,yl.default)(n,i[o].options);return i}function xv(){return ls.default.CODE128?"CODE128":Object.keys(ls.default)[0]}Hr.prototype.options=function(t){return this._options=(0,yl.default)(this._options,t),this};Hr.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};Hr.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,yl.default)(this._options,t.options);n.format=="auto"&&(n.format=xv()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,i=ls.default[n.format.toUpperCase()],o=mv(r,i,n);Th(t,o,n)})}}};Hr.prototype.render=function(){if(!this._renderProperties)throw new gv.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Th(this._renderProperties[t],this._encodings,this._options);else Th(this._renderProperties,this._encodings,this._options);return this};Hr.prototype._defaults=pv.default;function Th(t,e,n){e=(0,hv.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,yl.default)(n,e[r].options),(0,ix.default)(e[r].options);(0,ix.default)(n);var i=t.renderer,o=new i(t.element,e,n);o.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=rf);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),rf(n,t,e)});var gM=rf,yv={exports:{}},pM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mM=pM,xM=mM;function wv(){}function vv(){}vv.resetWarningCache=wv;var yM=function(){function t(r,i,o,c,d,g){if(g!==xM){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vv,resetWarningCache:wv};return n.PropTypes=n,n};yv.exports=yM();var wM=yv.exports;function Lc(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lc=function(n){return typeof n}:Lc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lc(t)}var Us=k1(W),vM=k1(gM),ct=k1(wM);function k1(t){return t&&t.__esModule?t:{default:t}}function EM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ox(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bM(t,e,n){return e&&ox(t.prototype,e),n&&ox(t,n),t}function _M(t,e){return e&&(Lc(e)==="object"||typeof e=="function")?e:Ev(t)}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Nh(t)}function Ev(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rh(t,e)}function Rh(t,e){return Rh=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Rh(t,e)}var Mh,wd=Us.default.version.split(/[.-]/);wd[0]==="0"&&(wd[1]==="13"||wd[1]==="12")?Mh=function(e){return e.getDOMNode()}:Mh=function(e){return e};var D1=function(t){CM(e,t);function e(n){var r;return EM(this,e),r=_M(this,Nh(e).call(this,n)),r.renderElementRef=Us.default.createRef(),r.update=r.update.bind(Ev(r)),r}return bM(e,[{key:"shouldComponentUpdate",value:function(r){var i=this;return Object.keys(e.propTypes).some(function(o){return i.props[o]!==r[o]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var r=Mh(this.renderElementRef.current);try{new vM.default(r,this.props.value,Object.assign({text:this.props.text||this.props.value},this.props))}catch(i){window.console.error(i)}}},{key:"render",value:function(){var r=this.props,i=r.id,o=r.className;if(this.props.renderer==="svg")return Us.default.createElement("svg",{ref:this.renderElementRef,id:i,className:o});if(this.props.renderer==="canvas")return Us.default.createElement("canvas",{ref:this.renderElementRef,id:i,className:o});if(this.props.renderer==="img")return Us.default.createElement("img",{ref:this.renderElementRef,id:i,className:o})}}]),e}(Us.default.Component);D1.propTypes={value:ct.default.string.isRequired,text:ct.default.string,renderer:ct.default.string,format:ct.default.string,width:ct.default.number,height:ct.default.number,displayValue:ct.default.bool,fontOptions:ct.default.string,font:ct.default.string,textAlign:ct.default.string,textPosition:ct.default.string,textMargin:ct.default.number,fontSize:ct.default.number,background:ct.default.string,lineColor:ct.default.string,margin:ct.default.number,marginTop:ct.default.number,marginBottom:ct.default.number,marginLeft:ct.default.number,marginRight:ct.default.number,id:ct.default.string,className:ct.default.string,ean128:ct.default.bool};D1.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1};var SM=D1;const AM=Ph(SM);function IM({open:t,onClose:e,item:n}){const r=W.useRef();if(!t||!n)return null;const i=()=>{const o=`<!DOCTYPE html>
<html>
<head>
  <title>Print Barcode</title>
  <style>
    body { font-family: sans-serif; }
    .barcode-label { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
    .barcode-label .name { font-size: 18px; font-weight: bold; margin-bottom: 8px; }
    .barcode-label .barcode { margin-bottom: 8px; }
    .error { color: red; font-weight: bold; margin-top: 16px; }
  </style>
</head>
<body>
  <div class="barcode-label">
    <div class="name">${n.item_name}</div>
    <div class="barcode"><svg id="barcode-svg"></svg></div>
    <div id="fallback">Loading barcode...</div>
  </div>
  <script>
    function showError(msg) {
      var fallback = document.getElementById('fallback');
      fallback.innerText = msg;
      fallback.className = 'error';
    }
    function renderBarcode() {
      try {
        if (typeof JsBarcode !== 'undefined') {
          JsBarcode("#barcode-svg", "${n.barcode||""}", { width: 2, height: 60, fontSize: 16, displayValue: true });
          document.getElementById('fallback').style.display = 'none';
          setTimeout(function() { window.print(); window.close(); }, 400);
        } else {
          showError('Barcode library failed to load.');
        }
      } catch (e) {
        showError('Error: ' + e.message);
      }
    }
    var script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js';
    script.onload = renderBarcode;
    script.onerror = function() { showError('Failed to load barcode library.'); };
    document.head.appendChild(script);
  <\/script>
</body>
</html>`,c=window.open("","","width=400,height=300");c.document.open(),c.document.write(o),c.document.close()};return I.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},I.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6 min-w-[350px] relative flex flex-col items-center"},I.createElement("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:e},"×"),I.createElement("div",{ref:r,className:"barcode-label w-full flex flex-col items-center"},I.createElement("div",{className:"name"},n.item_name),I.createElement("div",{className:"barcode"},I.createElement(AM,{value:n.barcode||"",width:2,height:60,fontSize:16,displayValue:!0}))),I.createElement("button",{className:"mt-6 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:i},"Print")))}function OM({open:t,onClose:e,item:n,recipient:r,products:i}){const o=W.useRef(),[c,d]=W.useState(r||{name:"",address1:"",address2:""}),[g,p]=W.useState(i||[{description:(n==null?void 0:n.item_name)||"",quantity:(n==null?void 0:n.quantity)||1,price:(n==null?void 0:n.sale_price)||0}]);if(W.useEffect(()=>{t&&(console.log("[PrintInvoiceModal] open:",t),console.log("[PrintInvoiceModal] item:",n),console.log("[PrintInvoiceModal] recipient:",r),console.log("[PrintInvoiceModal] products:",i))},[t,n,r,i]),W.useEffect(()=>{r&&d(r),i&&p(i)},[r,i]),!t)return null;if(!n)return I.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},I.createElement("div",{className:"bg-white p-6 rounded shadow-lg min-w-[320px] relative"},I.createElement("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:e},"×"),I.createElement("h2",{className:"text-lg font-bold mb-4 text-red-600"},"Error: No item data provided for invoice."),I.createElement("div",{className:"text-gray-700"},"Please try again or contact support.")));if(!n.item_name||typeof n.quantity>"u")return I.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},I.createElement("div",{className:"bg-white p-6 rounded shadow-lg min-w-[320px] relative"},I.createElement("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:e},"×"),I.createElement("h2",{className:"text-lg font-bold mb-4 text-red-600"},"Error: Incomplete item data for invoice."),I.createElement("div",{className:"text-gray-700"},"Item name or quantity is missing. Please try again.")));const y=`F${n.id}${String(n.barcode||"").slice(-4)}`,E=(n.date_of_input?new Date(n.date_of_input):new Date).toLocaleDateString("en-GB"),_=()=>{setTimeout(()=>{if(!o.current||!o.current.innerHTML.trim()){alert("Invoice content is not ready to print. Please try again.");return}o.current.innerHTML;const N=`<!DOCTYPE html>
<html><head><title>Print Invoice</title>
<style>
  body { font-family: 'Segoe UI', Arial, sans-serif; background: #f6f8fa; margin: 0; }
  .invoice-container { max-width: 700px; margin: 40px auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 16px #0001; padding: 40px 32px; }
  .header { display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid #eaeaea; padding-bottom: 18px; margin-bottom: 28px; }
  .logo { height: 60px; }
  .invoice-title { font-size: 2rem; font-weight: 700; color: #2c3e50; letter-spacing: 2px; }
  .meta { margin-bottom: 24px; }
  .meta-row { display: flex; gap: 32px; font-size: 1rem; color: #333; }
  .section-title { font-weight: 600; font-size: 1.1rem; margin: 18px 0 8px 0; color: #294b7a; }
  .info-block { margin-bottom: 18px; }
  .invoice-table { border-collapse: collapse; width: 100%; margin-top: 8px; background: #fafbfc; }
  .invoice-table th, .invoice-table td { border: 1px solid #d4d7dd; padding: 8px 12px; text-align: center; }
  .invoice-table th { background: #f2f4f7; color: #294b7a; font-weight: 600; }
  .invoice-table td { font-size: 1rem; }
  .total-row td { font-weight: 700; background: #f2f4f7; }
  .footer { margin-top: 32px; font-size: 1rem; color: #555; text-align: center; }
</style>
</head><body>
  <div class="invoice-container">
    <div class="header">
      <img src="${ph}" alt="Logo" class="logo" />
      <span class="invoice-title">INVOICE</span>
    </div>
    <div class="meta">
      <div class="meta-row"><strong>Invoice #:</strong> <span>${y}</span></div>
      <div class="meta-row"><strong>Date:</strong> <span>${E}</span></div>
    </div>
    <div class="info-block">
      <div class="section-title">FROM:</div>
      <div><strong>Kristiyan Tsvetanov</strong></div>
      <div><strong>Phone :</strong> (+44) 07305979981</div>
      <div><strong>Email :</strong> tsvetozarkt@gmail.com</div>
    </div>
    <div class="info-block">
      <div class="section-title">TO:</div>
      <div><strong>${c.name||"Recipient Name"}</strong></div>
      <div>${c.address1||""}</div>
      <div>${c.address2||""}</div>
    </div>
    <div class="section-title">DESCRIPTION OF PRODUCTS</div>
    <table class="invoice-table">
      <thead>
        <tr>
          <th>NUM</th>
          <th>DESCRIPTION</th>
          <th>QUANTITY</th>
          <th>PRICE</th>
          <th>SUB TOTAL</th>
        </tr>
      </thead>
      <tbody>
        ${g.map((k,O)=>`
          <tr>
            <td>${O+1}</td>
            <td>${k.description}</td>
            <td>${k.quantity}</td>
            <td>£ ${Number(k.price).toFixed(2)}</td>
            <td>£ ${(Number(k.price)*Number(k.quantity)).toFixed(2)}</td>
          </tr>`).join("")}
        <tr class="total-row">
          <td colspan="4">TOTAL</td>
          <td>£ ${g.reduce((k,O)=>k+Number(O.price)*Number(O.quantity),0).toFixed(2)}</td>
        </tr>
      </tbody>
    </table>
    <div class="footer">
      Thank you for your purchase!<br/>
      If you have any questions, feel free to contact me at (+44) 07305 979981.<br/>
      Your support means a lot!
    </div>
  </div>
</body></html>`,S=window.open("","","width=900,height=1200");S.document.write(N),S.document.close(),S.focus(),setTimeout(()=>{S.print(),S.close()},500)},50)};return g.reduce((N,S)=>N+(Number(S.price)*Number(S.quantity)||0),0),I.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},I.createElement("div",{className:"bg-white p-6 rounded shadow-lg min-w-[320px] max-w-2xl w-full relative"},I.createElement("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-2xl font-bold",onClick:e},"×"),I.createElement("div",{ref:o,className:""},I.createElement("div",{className:"invoice-container"},I.createElement("div",{className:"header"},I.createElement("img",{src:ph,alt:"Logo",className:"logo",style:{maxWidth:"100px",maxHeight:"60px",height:"auto",width:"auto"}}),I.createElement("span",{className:"invoice-title"},"INVOICE")),I.createElement("div",{className:"meta"},I.createElement("div",{className:"meta-row"},I.createElement("strong",null,"Invoice #:")," ",I.createElement("span",null,y)),I.createElement("div",{className:"meta-row"},I.createElement("strong",null,"Date:")," ",I.createElement("span",null,E))),I.createElement("div",{className:"info-block"},I.createElement("div",{className:"section-title"},"FROM:"),I.createElement("div",null,I.createElement("strong",null,"Kristiyan Tsvetanov")),I.createElement("div",null,I.createElement("strong",null,"Phone :")," (+44) 07305979981"),I.createElement("div",null,I.createElement("strong",null,"Email :")," tsvetozarkt@gmail.com")),I.createElement("div",{className:"info-block"},I.createElement("div",{className:"section-title"},"TO:"),I.createElement("div",null,I.createElement("strong",null,c.name||"Recipient Name")),I.createElement("div",null,c.address1),I.createElement("div",null,c.address2)),I.createElement("div",{className:"section-title"},"DESCRIPTION OF PRODUCTS"),I.createElement("table",{className:"invoice-table"},I.createElement("thead",null,I.createElement("tr",null,I.createElement("th",null,"NUM"),I.createElement("th",null,"DESCRIPTION"),I.createElement("th",null,"QUANTITY"),I.createElement("th",null,"PRICE"),I.createElement("th",null,"SUB TOTAL"))),I.createElement("tbody",null,g.map((N,S)=>I.createElement("tr",{key:S},I.createElement("td",null,S+1),I.createElement("td",null,N.description),I.createElement("td",null,N.quantity),I.createElement("td",null,"£ ",Number(N.price).toFixed(2)),I.createElement("td",null,"£ ",(Number(N.price)*Number(N.quantity)).toFixed(2)))),I.createElement("tr",{className:"total-row"},I.createElement("td",{colSpan:"4"},"TOTAL"),I.createElement("td",null,"£ ",g.reduce((N,S)=>N+Number(S.price)*Number(S.quantity),0).toFixed(2))))),I.createElement("div",{className:"footer"},"Thank you for your purchase!",I.createElement("br",null),"If you have any questions, feel free to contact me at (+44) 07305 979981.",I.createElement("br",null),"Your support means a lot!"))),I.createElement("div",{className:"flex justify-end mt-6"},I.createElement("button",{className:"bg-blue-700 text-white px-6 py-2 rounded shadow hover:bg-blue-800 transition font-semibold",onClick:_},"Print Invoice"))))}function TM({open:t,onClose:e,onContinue:n,initialRecipient:r,initialProducts:i}){const[o,c]=W.useState(r||{name:"",address1:"",address2:""}),[d,g]=W.useState(i||[{description:"",quantity:1,price:0,source:"custom",inventoryId:null}]),[p,y]=W.useState([]),[v,E]=W.useState(""),[_,N]=W.useState("");if(W.useEffect(()=>{if(t){fetch("http://localhost:8000/inventory/").then(V=>V.json()).then(V=>y(V));const F=new Date;E(F.toISOString().slice(0,10)),N(`INV-${F.getTime()}-${Math.floor(Math.random()*1e3)}`)}},[t]),!t)return null;const S=(F,V)=>{c(L=>({...L,[F]:V}))},k=(F,V,L)=>{g(j=>j.map((H,Q)=>Q===F?{...H,[V]:V==="quantity"||V==="price"?Number(L):L}:H))},O=(F,V)=>{if(V==="custom")g(L=>L.map((j,H)=>H===F?{description:"",quantity:1,price:0,source:"custom",inventoryId:null}:j));else{const L=p.find(j=>j.id===Number(V));g(j=>j.map((H,Q)=>Q===F?{description:(L==null?void 0:L.item_name)||"",quantity:(L==null?void 0:L.quantity)||1,price:(L==null?void 0:L.sale_price)||0,source:"inventory",inventoryId:L==null?void 0:L.id}:H))}},T=()=>{g(F=>[...F,{description:"",quantity:1,price:0,source:"custom",inventoryId:null}])},R=F=>{g(V=>V.filter((L,j)=>j!==F))},B=()=>{if(!o.name||!o.address1){alert("Please fill in at least the recipient name and address line 1.");return}if(d.length===0||d.some(F=>!F.description||F.quantity<=0)){alert("Please enter at least one valid product with quantity > 0.");return}n({recipient:o,products:d,invoiceDate:v,invoiceNumber:_})};return I.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},I.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6 min-w-[400px] relative flex flex-col items-center"},I.createElement("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:e},"×"),I.createElement("div",{className:"text-2xl font-bold mb-4"},"Enter Invoice Details"),I.createElement("div",{className:"w-full mb-3"},I.createElement("div",{className:"font-bold mb-1"},"Recipient Name"),I.createElement("input",{className:"border rounded w-full px-2 py-1 mb-2",value:o.name,onChange:F=>S("name",F.target.value),placeholder:"Recipient Name"}),I.createElement("div",{className:"font-bold mb-1"},"Recipient Address 1"),I.createElement("input",{className:"border rounded w-full px-2 py-1 mb-2",value:o.address1,onChange:F=>S("address1",F.target.value),placeholder:"Address Line 1"}),I.createElement("div",{className:"font-bold mb-1"},"Recipient Address 2"),I.createElement("input",{className:"border rounded w-full px-2 py-1 mb-4",value:o.address2,onChange:F=>S("address2",F.target.value),placeholder:"Address Line 2"})),I.createElement("div",{className:"w-full mb-3"},I.createElement("div",{className:"font-bold mb-2"},"Products / Items"),d.map((F,V)=>I.createElement("div",{key:V,className:"flex gap-2 mb-2 items-center"},I.createElement("select",{className:"border rounded px-2 py-1",value:F.source==="inventory"?F.inventoryId||"":"custom",onChange:L=>O(V,L.target.value)},I.createElement("option",{value:"custom"},"Custom Product"),p.map(L=>I.createElement("option",{key:L.id,value:L.id},L.item_name))),I.createElement("input",{className:"border rounded px-2 py-1 flex-1",value:F.description,onChange:L=>k(V,"description",L.target.value),placeholder:"Description"}),I.createElement("input",{className:"border rounded px-2 py-1 w-16",type:"number",min:"1",value:F.quantity,onChange:L=>k(V,"quantity",L.target.value),placeholder:"Qty"}),I.createElement("input",{className:"border rounded px-2 py-1 w-20",type:"number",min:"0",value:F.price,onChange:L=>k(V,"price",L.target.value),placeholder:"Price"}),d.length>1&&I.createElement("button",{className:"text-red-500 hover:text-red-700 text-xl",onClick:()=>R(V),title:"Remove"},"×"))),I.createElement("button",{className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 mt-1",onClick:T},"+ Add Item")),I.createElement("div",{className:"w-full mb-3 flex gap-4"},I.createElement("div",{className:"flex-1"},I.createElement("div",{className:"font-bold mb-1"},"Invoice Date"),I.createElement("input",{className:"border rounded w-full px-2 py-1",value:v,disabled:!0})),I.createElement("div",{className:"flex-1"},I.createElement("div",{className:"font-bold mb-1"},"Invoice Number"),I.createElement("input",{className:"border rounded w-full px-2 py-1",value:_,disabled:!0}))),I.createElement("button",{className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full",onClick:B},"Continue to Print")))}var fe;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fe||(fe={}));var ax=new Map([[fe.QR_CODE,"QR_CODE"],[fe.AZTEC,"AZTEC"],[fe.CODABAR,"CODABAR"],[fe.CODE_39,"CODE_39"],[fe.CODE_93,"CODE_93"],[fe.CODE_128,"CODE_128"],[fe.DATA_MATRIX,"DATA_MATRIX"],[fe.MAXICODE,"MAXICODE"],[fe.ITF,"ITF"],[fe.EAN_13,"EAN_13"],[fe.EAN_8,"EAN_8"],[fe.PDF_417,"PDF_417"],[fe.RSS_14,"RSS_14"],[fe.RSS_EXPANDED,"RSS_EXPANDED"],[fe.UPC_A,"UPC_A"],[fe.UPC_E,"UPC_E"],[fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),lx;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(lx||(lx={}));function NM(t){return Object.values(fe).includes(t)}var bu;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(bu||(bu={}));var RM=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[bu.SCAN_TYPE_CAMERA,bu.SCAN_TYPE_FILE],t}(),bv=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!ax.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,ax.get(e))},t}(),cx=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),kh;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(kh||(kh={}));var MM=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:kh.UNKWOWN_ERROR}},t}(),kM=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Dr(t){return typeof t>"u"||t===null}var Js=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),_v=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(i),c=Object.keys(e),d=0,g=c;d<g.length;d++){var p=g[d];if(o.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},t}(),Dh={exports:{}};(function(t,e){(function(n,r){r(e)})(zo,function(n){function r(C){return C==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,s){C.__proto__=s}||function(C,s){for(var a in s)s.hasOwnProperty(a)&&(C[a]=s[a])};function o(C,s){i(C,s);function a(){this.constructor=C}C.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}function c(C,s){var a=Object.setPrototypeOf;a?a(C,s):C.__proto__=s}function d(C,s){s===void 0&&(s=C.constructor);var a=Error.captureStackTrace;a&&a(C,s)}var g=function(C){o(s,C);function s(a){var l=this.constructor,u=C.call(this,a)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),c(u,l.prototype),d(u),u}return s}(Error);class p extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class y extends p{}y.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class E{constructor(s){if(this.binarizer=s,s===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,a){return this.binarizer.getBlackRow(s,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,a,l,u){const f=this.binarizer.getLuminanceSource().crop(s,a,l,u);return new E(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends p{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class N{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class S{static arraycopy(s,a,l,u,f){for(;f--;)l[u++]=s[a++]}static currentTimeMillis(){return Date.now()}}class k extends p{}k.kind="IndexOutOfBoundsException";class O extends k{constructor(s=void 0,a=void 0){super(a),this.index=s,this.message=a}}O.kind="ArrayIndexOutOfBoundsException";class T{static fill(s,a){for(let l=0,u=s.length;l<u;l++)s[l]=a}static fillWithin(s,a,l,u){T.rangeCheck(s.length,a,l);for(let f=a;f<l;f++)s[f]=u}static rangeCheck(s,a,l){if(a>l)throw new v("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new O(a);if(l>s)throw new O(l)}static asList(...s){return s}static create(s,a,l){return Array.from({length:s}).map(f=>Array.from({length:a}).fill(l))}static createInt32Array(s,a,l){return Array.from({length:s}).map(f=>Int32Array.from({length:a}).fill(l))}static equals(s,a){if(!s||!a||!s.length||!a.length||s.length!==a.length)return!1;for(let l=0,u=s.length;l<u;l++)if(s[l]!==a[l])return!1;return!0}static hashCode(s){if(s===null)return 0;let a=1;for(const l of s)a=31*a+l;return a}static fillUint8Array(s,a){for(let l=0;l!==s.length;l++)s[l]=a}static copyOf(s,a){return s.slice(0,a)}static copyOfUint8Array(s,a){if(s.length<=a){const l=new Uint8Array(a);return l.set(s),l}return s.slice(0,a)}static copyOfRange(s,a,l){const u=l-a,f=new Int32Array(u);return S.arraycopy(s,a,f,0,u),f}static binarySearch(s,a,l){l===void 0&&(l=T.numberComparator);let u=0,f=s.length-1;for(;u<=f;){const h=f+u>>1,m=l(a,s[h]);if(m>0)u=h+1;else if(m<0)f=h-1;else return h}return-u-1}static numberComparator(s,a){return s-a}}class R{static numberOfTrailingZeros(s){let a;if(s===0)return 32;let l=31;return a=s<<16,a!==0&&(l-=16,s=a),a=s<<8,a!==0&&(l-=8,s=a),a=s<<4,a!==0&&(l-=4,s=a),a=s<<2,a!==0&&(l-=2,s=a),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let a=1;return s>>>16||(a+=16,s<<=16),s>>>24||(a+=8,s<<=8),s>>>28||(a+=4,s<<=4),s>>>30||(a+=2,s<<=2),a-=s>>>31,a}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,a){return Math.trunc(s/a)}static parseInt(s,a=void 0){return parseInt(s,a)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(s,a){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,a==null?this.bits=B.makeArray(s):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const a=B.makeArray(s);S.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const a=this.size;if(s>=a)return a;const l=this.bits;let u=Math.floor(s/32),f=l[u];f&=~((1<<(s&31))-1);const h=l.length;for(;f===0;){if(++u===h)return a;f=l[u]}const m=u*32+R.numberOfTrailingZeros(f);return m>a?a:m}getNextUnset(s){const a=this.size;if(s>=a)return a;const l=this.bits;let u=Math.floor(s/32),f=~l[u];f&=~((1<<(s&31))-1);const h=l.length;for(;f===0;){if(++u===h)return a;f=~l[u]}const m=u*32+R.numberOfTrailingZeros(f);return m>a?a:m}setBulk(s,a){this.bits[Math.floor(s/32)]=a}setRange(s,a){if(a<s||s<0||a>this.size)throw new v;if(a===s)return;a--;const l=Math.floor(s/32),u=Math.floor(a/32),f=this.bits;for(let h=l;h<=u;h++){const m=h>l?0:s&31,w=(2<<(h<u?31:a&31))-(1<<m);f[h]|=w}}clear(){const s=this.bits.length,a=this.bits;for(let l=0;l<s;l++)a[l]=0}isRange(s,a,l){if(a<s||s<0||a>this.size)throw new v;if(a===s)return!0;a--;const u=Math.floor(s/32),f=Math.floor(a/32),h=this.bits;for(let m=u;m<=f;m++){const x=m>u?0:s&31,b=(2<<(m<f?31:a&31))-(1<<x)&4294967295;if((h[m]&b)!==(l?b:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,a){if(a<0||a>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((s>>l-1&1)===1)}appendBitArray(s){const a=s.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new v("Sizes don't match");const a=this.bits;for(let l=0,u=a.length;l<u;l++)a[l]^=s.bits[l]}toBytes(s,a,l,u){for(let f=0;f<u;f++){let h=0;for(let m=0;m<8;m++)this.get(s)&&(h|=1<<7-m),s++;a[l+f]=h}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,u=this.bits;for(let f=0;f<l;f++){let h=u[f];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,s[a-f]=h}if(this.size!==l*32){const f=l*32-this.size;let h=s[0]>>>f;for(let m=1;m<l;m++){const x=s[m];h|=x<<32-f,s[m-1]=h,h=x>>>f}s[l-1]=h}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof B))return!1;const a=s;return this.size===a.size&&T.equals(this.bits,a.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let s="";for(let a=0,l=this.size;a<l;a++)a&7||(s+=" "),s+=this.get(a)?"X":".";return s}clone(){return new B(this.size,this.bits.slice())}}var F;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(F||(F={}));var V=F;class L extends p{static getFormatInstance(){return new L}}L.kind="FormatException";var j;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(j||(j={}));class H{constructor(s,a,l,...u){this.valueIdentifier=s,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=u,H.VALUE_IDENTIFIER_TO_ECI.set(s,this),H.NAME_TO_ECI.set(l,this);const f=this.values;for(let h=0,m=f.length;h!==m;h++){const x=f[h];H.VALUES_TO_ECI.set(x,this)}for(const h of u)H.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new L("incorect value");const a=H.VALUES_TO_ECI.get(s);if(a===void 0)throw new L("incorect value");return a}static getCharacterSetECIByName(s){const a=H.NAME_TO_ECI.get(s);if(a===void 0)throw new L("incorect value");return a}equals(s){if(!(s instanceof H))return!1;const a=s;return this.getName()===a.getName()}}H.VALUE_IDENTIFIER_TO_ECI=new Map,H.VALUES_TO_ECI=new Map,H.NAME_TO_ECI=new Map,H.Cp437=new H(j.Cp437,Int32Array.from([0,2]),"Cp437"),H.ISO8859_1=new H(j.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),H.ISO8859_2=new H(j.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),H.ISO8859_3=new H(j.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),H.ISO8859_4=new H(j.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),H.ISO8859_5=new H(j.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),H.ISO8859_6=new H(j.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),H.ISO8859_7=new H(j.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),H.ISO8859_8=new H(j.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),H.ISO8859_9=new H(j.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),H.ISO8859_10=new H(j.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),H.ISO8859_11=new H(j.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),H.ISO8859_13=new H(j.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),H.ISO8859_14=new H(j.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),H.ISO8859_15=new H(j.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),H.ISO8859_16=new H(j.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),H.SJIS=new H(j.SJIS,20,"SJIS","Shift_JIS"),H.Cp1250=new H(j.Cp1250,21,"Cp1250","windows-1250"),H.Cp1251=new H(j.Cp1251,22,"Cp1251","windows-1251"),H.Cp1252=new H(j.Cp1252,23,"Cp1252","windows-1252"),H.Cp1256=new H(j.Cp1256,24,"Cp1256","windows-1256"),H.UnicodeBigUnmarked=new H(j.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),H.UTF8=new H(j.UTF8,26,"UTF8","UTF-8"),H.ASCII=new H(j.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),H.Big5=new H(j.Big5,28,"Big5"),H.GB18030=new H(j.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),H.EUC_KR=new H(j.EUC_KR,30,"EUC_KR","EUC-KR");class Q extends p{}Q.kind="UnsupportedOperationException";class oe{static decode(s,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!oe.isBrowser()&&s==="ISO-8859-1"}static encode(s,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof H?s:H.getCharacterSetECIByName(s)}static decodeFallback(s,a){const l=this.encodingCharacterSet(a);if(oe.isDecodeFallbackSupported(l)){let u="";for(let f=0,h=s.length;f<h;f++){let m=s[f].toString(16);m.length<2&&(m="0"+m),u+="%"+m}return decodeURIComponent(u)}if(l.equals(H.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new Q(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(H.UTF8)||s.equals(H.ISO8859_1)||s.equals(H.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),u=[];for(let f=0;f<l.length;f++)u.push(l[f].charCodeAt(0));return new Uint8Array(u)}}class te{static castAsNonUtf8Char(s,a=null){const l=a?a.getName():this.ISO88591;return oe.decode(new Uint8Array([s]),l)}static guessEncoding(s,a){if(a!=null&&a.get(V.CHARACTER_SET)!==void 0)return a.get(V.CHARACTER_SET).toString();const l=s.length;let u=!0,f=!0,h=!0,m=0,x=0,w=0,b=0,A=0,M=0,P=0,z=0,U=0,G=0,Z=0;const ee=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ne=0;ne<l&&(u||f||h);ne++){const q=s[ne]&255;h&&(m>0?q&128?m--:h=!1:q&128&&(q&64?(m++,q&32?(m++,q&16?(m++,q&8?h=!1:b++):w++):x++):h=!1)),u&&(q>127&&q<160?u=!1:q>159&&(q<192||q===215||q===247)&&Z++),f&&(A>0?q<64||q===127||q>252?f=!1:A--:q===128||q===160||q>239?f=!1:q>160&&q<224?(M++,z=0,P++,P>U&&(U=P)):q>127?(A++,P=0,z++,z>G&&(G=z)):(P=0,z=0))}return h&&m>0&&(h=!1),f&&A>0&&(f=!1),h&&(ee||x+w+b>0)?te.UTF8:f&&(te.ASSUME_SHIFT_JIS||U>=3||G>=3)?te.SHIFT_JIS:u&&f?U===2&&M===2||Z*10>=l?te.SHIFT_JIS:te.ISO88591:u?te.ISO88591:f?te.SHIFT_JIS:h?te.UTF8:te.PLATFORM_DEFAULT_ENCODING}static format(s,...a){let l=-1;function u(h,m,x,w,b,A){if(h==="%%")return"%";if(a[++l]===void 0)return;h=w?parseInt(w.substr(1)):void 0;let M=b?parseInt(b.substr(1)):void 0,P;switch(A){case"s":P=a[l];break;case"c":P=a[l][0];break;case"f":P=parseFloat(a[l]).toFixed(h);break;case"p":P=parseFloat(a[l]).toPrecision(h);break;case"e":P=parseFloat(a[l]).toExponential(h);break;case"x":P=parseInt(a[l]).toString(M||16);break;case"d":P=parseFloat(parseInt(a[l],M||10).toPrecision(h)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(M);let z=parseInt(x),U=x&&x[0]+""=="0"?"0":" ";for(;P.length<z;)P=m!==void 0?P+U:U+P;return P}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(f,u)}static getBytes(s,a){return oe.encode(s,a)}static getCharCode(s,a=0){return s.charCodeAt(a)}static getCharAt(s){return String.fromCharCode(s)}}te.SHIFT_JIS=H.SJIS.getName(),te.GB2312="GB2312",te.ISO88591=H.ISO8859_1.getName(),te.EUC_JP="EUC_JP",te.UTF8=H.UTF8.getName(),te.PLATFORM_DEFAULT_ENCODING=te.UTF8,te.ASSUME_SHIFT_JIS=!1;class xe{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=te.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,a,l){for(let u=a;a<a+l;u++)this.append(s[u]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+1)}substring(s,a){return this.value.substring(s,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+a.length)}}class Ce{constructor(s,a,l,u){if(this.width=s,this.height=a,this.rowSize=l,this.bits=u,a==null&&(a=s),this.height=a,s<1||a<1)throw new v("Both dimensions must be greater than 0");l==null&&(l=Math.floor((s+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const a=s.length,l=s[0].length,u=new Ce(l,a);for(let f=0;f<a;f++){const h=s[f];for(let m=0;m<l;m++)h[m]&&u.set(m,f)}return u}static parseFromString(s,a,l){if(s===null)throw new v("stringRepresentation cannot be null");const u=new Array(s.length);let f=0,h=0,m=-1,x=0,w=0;for(;w<s.length;)if(s.charAt(w)===`
`||s.charAt(w)==="\r"){if(f>h){if(m===-1)m=f-h;else if(f-h!==m)throw new v("row lengths do not match");h=f,x++}w++}else if(s.substring(w,w+a.length)===a)w+=a.length,u[f]=!0,f++;else if(s.substring(w,w+l.length)===l)w+=l.length,u[f]=!1,f++;else throw new v("illegal character encountered: "+s.substring(w));if(f>h){if(m===-1)m=f-h;else if(f-h!==m)throw new v("row lengths do not match");x++}const b=new Ce(m,x);for(let A=0;A<f;A++)u[A]&&b.set(Math.floor(A%m),Math.floor(A/m));return b}get(s,a){const l=a*this.rowSize+Math.floor(s/32);return(this.bits[l]>>>(s&31)&1)!==0}set(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(s&31)&4294967295}unset(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(s&31)&4294967295)}flip(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new v("input matrix dimensions do not match");const a=new B(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let f=0,h=this.height;f<h;f++){const m=f*l,x=s.getRow(f,a).getBitArray();for(let w=0;w<l;w++)u[m+w]^=x[w]}}clear(){const s=this.bits,a=s.length;for(let l=0;l<a;l++)s[l]=0}setRegion(s,a,l,u){if(a<0||s<0)throw new v("Left and top must be nonnegative");if(u<1||l<1)throw new v("Height and width must be at least 1");const f=s+l,h=a+u;if(h>this.height||f>this.width)throw new v("The region must fit inside the matrix");const m=this.rowSize,x=this.bits;for(let w=a;w<h;w++){const b=w*m;for(let A=s;A<f;A++)x[b+Math.floor(A/32)]|=1<<(A&31)&4294967295}}getRow(s,a){a==null||a.getSize()<this.width?a=new B(this.width):a.clear();const l=this.rowSize,u=this.bits,f=s*l;for(let h=0;h<l;h++)a.setBulk(h*32,u[f+h]);return a}setRow(s,a){S.arraycopy(a.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),a=this.getHeight();let l=new B(s),u=new B(s);for(let f=0,h=Math.floor((a+1)/2);f<h;f++)l=this.getRow(f,l),u=this.getRow(a-1-f,u),l.reverse(),u.reverse(),this.setRow(f,u),this.setRow(a-1-f,l)}getEnclosingRectangle(){const s=this.width,a=this.height,l=this.rowSize,u=this.bits;let f=s,h=a,m=-1,x=-1;for(let w=0;w<a;w++)for(let b=0;b<l;b++){const A=u[w*l+b];if(A!==0){if(w<h&&(h=w),w>x&&(x=w),b*32<f){let M=0;for(;!(A<<31-M&4294967295);)M++;b*32+M<f&&(f=b*32+M)}if(b*32+31>m){let M=31;for(;!(A>>>M);)M--;b*32+M>m&&(m=b*32+M)}}}return m<f||x<h?null:Int32Array.from([f,h,m-f+1,x-h+1])}getTopLeftOnBit(){const s=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const u=l/s;let f=l%s*32;const h=a[l];let m=0;for(;!(h<<31-m&4294967295);)m++;return f+=m,Int32Array.from([f,u])}getBottomRightOnBit(){const s=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/s);let f=Math.floor(l%s)*32;const h=a[l];let m=31;for(;!(h>>>m);)m--;return f+=m,Int32Array.from([f,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Ce))return!1;const a=s;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&T.equals(this.bits,a.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+T.hashCode(this.bits),s}toString(s="X ",a="  ",l=`
`){return this.buildToString(s,a,l)}buildToString(s,a,l){let u=new xe;for(let f=0,h=this.height;f<h;f++){for(let m=0,x=this.width;m<x;m++)u.append(this.get(m,f)?s:a);u.append(l)}return u.toString()}clone(){return new Ce(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends p{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class ve extends N{constructor(s){super(s),this.luminances=ve.EMPTY,this.buckets=new Int32Array(ve.LUMINANCE_BUCKETS)}getBlackRow(s,a){const l=this.getLuminanceSource(),u=l.getWidth();a==null||a.getSize()<u?a=new B(u):a.clear(),this.initArrays(u);const f=l.getRow(s,this.luminances),h=this.buckets;for(let x=0;x<u;x++)h[(f[x]&255)>>ve.LUMINANCE_SHIFT]++;const m=ve.estimateBlackPoint(h);if(u<3)for(let x=0;x<u;x++)(f[x]&255)<m&&a.set(x);else{let x=f[0]&255,w=f[1]&255;for(let b=1;b<u-1;b++){const A=f[b+1]&255;(w*4-x-A)/2<m&&a.set(b),x=w,w=A}}return a}getBlackMatrix(){const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight(),u=new Ce(a,l);this.initArrays(a);const f=this.buckets;for(let x=1;x<5;x++){const w=Math.floor(l*x/5),b=s.getRow(w,this.luminances),A=Math.floor(a*4/5);for(let M=Math.floor(a/5);M<A;M++){const P=b[M]&255;f[P>>ve.LUMINANCE_SHIFT]++}}const h=ve.estimateBlackPoint(f),m=s.getMatrix();for(let x=0;x<l;x++){const w=x*a;for(let b=0;b<a;b++)(m[w+b]&255)<h&&u.set(b,x)}return u}createBinarizer(s){return new ve(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const a=this.buckets;for(let l=0;l<ve.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(s){const a=s.length;let l=0,u=0,f=0;for(let b=0;b<a;b++)s[b]>f&&(u=b,f=s[b]),s[b]>l&&(l=s[b]);let h=0,m=0;for(let b=0;b<a;b++){const A=b-u,M=s[b]*A*A;M>m&&(h=b,m=M)}if(u>h){const b=u;u=h,h=b}if(h-u<=a/16)throw new X;let x=h-1,w=-1;for(let b=h-1;b>u;b--){const A=b-u,M=A*A*(h-b)*(l-s[b]);M>w&&(x=b,w=M)}return x<<ve.LUMINANCE_SHIFT}}ve.LUMINANCE_BITS=5,ve.LUMINANCE_SHIFT=8-ve.LUMINANCE_BITS,ve.LUMINANCE_BUCKETS=1<<ve.LUMINANCE_BITS,ve.EMPTY=Uint8ClampedArray.from([0]);class le extends ve{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight();if(a>=le.MINIMUM_DIMENSION&&l>=le.MINIMUM_DIMENSION){const u=s.getMatrix();let f=a>>le.BLOCK_SIZE_POWER;a&le.BLOCK_SIZE_MASK&&f++;let h=l>>le.BLOCK_SIZE_POWER;l&le.BLOCK_SIZE_MASK&&h++;const m=le.calculateBlackPoints(u,f,h,a,l),x=new Ce(a,l);le.calculateThresholdForBlock(u,f,h,a,l,m,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new le(s)}static calculateThresholdForBlock(s,a,l,u,f,h,m){const x=f-le.BLOCK_SIZE,w=u-le.BLOCK_SIZE;for(let b=0;b<l;b++){let A=b<<le.BLOCK_SIZE_POWER;A>x&&(A=x);const M=le.cap(b,2,l-3);for(let P=0;P<a;P++){let z=P<<le.BLOCK_SIZE_POWER;z>w&&(z=w);const U=le.cap(P,2,a-3);let G=0;for(let ee=-2;ee<=2;ee++){const ne=h[M+ee];G+=ne[U-2]+ne[U-1]+ne[U]+ne[U+1]+ne[U+2]}const Z=G/25;le.thresholdBlock(s,z,A,Z,u,m)}}}static cap(s,a,l){return s<a?a:s>l?l:s}static thresholdBlock(s,a,l,u,f,h){for(let m=0,x=l*f+a;m<le.BLOCK_SIZE;m++,x+=f)for(let w=0;w<le.BLOCK_SIZE;w++)(s[x+w]&255)<=u&&h.set(a+w,l+m)}static calculateBlackPoints(s,a,l,u,f){const h=f-le.BLOCK_SIZE,m=u-le.BLOCK_SIZE,x=new Array(l);for(let w=0;w<l;w++){x[w]=new Int32Array(a);let b=w<<le.BLOCK_SIZE_POWER;b>h&&(b=h);for(let A=0;A<a;A++){let M=A<<le.BLOCK_SIZE_POWER;M>m&&(M=m);let P=0,z=255,U=0;for(let Z=0,ee=b*u+M;Z<le.BLOCK_SIZE;Z++,ee+=u){for(let ne=0;ne<le.BLOCK_SIZE;ne++){const q=s[ee+ne]&255;P+=q,q<z&&(z=q),q>U&&(U=q)}if(U-z>le.MIN_DYNAMIC_RANGE)for(Z++,ee+=u;Z<le.BLOCK_SIZE;Z++,ee+=u)for(let ne=0;ne<le.BLOCK_SIZE;ne++)P+=s[ee+ne]&255}let G=P>>le.BLOCK_SIZE_POWER*2;if(U-z<=le.MIN_DYNAMIC_RANGE&&(G=z/2,w>0&&A>0)){const Z=(x[w-1][A]+2*x[w][A-1]+x[w-1][A-1])/4;z<Z&&(G=Z)}x[w][A]=G}}return x}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class re{constructor(s,a){this.width=s,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,a,l,u){throw new Q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Q("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let a=new xe;for(let l=0;l<this.height;l++){const u=this.getRow(l,s);for(let f=0;f<this.width;f++){const h=u[f]&255;let m;h<64?m="#":h<128?m="+":h<192?m=".":m=" ",a.append(m)}a.append(`
`)}return a.toString()}}class ae extends re{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,a){const l=this.delegate.getRow(s,a),u=this.getWidth();for(let f=0;f<u;f++)l[f]=255-(l[f]&255);return l}getMatrix(){const s=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let u=0;u<a;u++)l[u]=255-(s[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,a,l,u){return new ae(this.delegate.crop(s,a,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ae(this.delegate.rotateCounterClockwise45())}}class pe extends re{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const a=s.getContext("2d").getImageData(0,0,s.width,s.height);return pe.toGrayscaleBuffer(a.data,s.width,s.height)}static toGrayscaleBuffer(s,a,l){const u=new Uint8ClampedArray(a*l);for(let f=0,h=0,m=s.length;f<m;f+=4,h++){let x;if(s[f+3]===0)x=255;else{const b=s[f],A=s[f+1],M=s[f+2];x=306*b+601*A+117*M+512>>10}u[h]=x}return u}getRow(s,a){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth(),u=s*l;return a===null?a=this.buffer.slice(u,u+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(u,u+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,a,l,u){return super.crop(s,a,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const a=this.getTempCanvasElement(),l=a.getContext("2d"),u=s*pe.DEGREE_TO_RADIANS,f=this.canvas.width,h=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(u))*f+Math.abs(Math.sin(u))*h),x=Math.ceil(Math.abs(Math.sin(u))*f+Math.abs(Math.cos(u))*h);return a.width=m,a.height=x,l.translate(m/2,x/2),l.rotate(u),l.drawImage(this.canvas,f/-2,h/-2),this.buffer=pe.makeBufferFromCanvasImageData(a),this}invert(){return new ae(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Fe{constructor(s,a,l){this.deviceId=s,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var be=(globalThis||zo||self||window||void 0)&&(globalThis||zo||self||window||void 0).__awaiter||function(C,s,a,l){function u(f){return f instanceof a?f:new a(function(h){h(f)})}return new(a||(a=Promise))(function(f,h){function m(b){try{w(l.next(b))}catch(A){h(A)}}function x(b){try{w(l.throw(b))}catch(A){h(A)}}function w(b){b.done?f(b.value):u(b.value).then(m,x)}w((l=l.apply(C,s||[])).next())})};class At{constructor(s,a=500,l){this.reader=s,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of s){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const f=l.deviceId||l.id,h=l.label||`Video device ${a.length+1}`,m=l.groupId,x={deviceId:f,label:h,kind:u,groupId:m};a.push(x)}return a})}getVideoInputDevices(){return be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new Fe(a.deviceId,a.label))})}findDeviceById(s){return be(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,a){return be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,a)})}decodeOnceFromVideoDevice(s,a){return be(this,void 0,void 0,function*(){this.reset();let l;s?l={deviceId:{exact:s}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,a)})}decodeOnceFromConstraints(s,a){return be(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(s,a){return be(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,a,l){return be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,a,l)})}decodeFromVideoDevice(s,a,l){return be(this,void 0,void 0,function*(){let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const f={video:u};return yield this.decodeFromConstraints(f,a,l)})}decodeFromConstraints(s,a,l){return be(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(u,a,l)})}decodeFromStream(s,a,l){return be(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,a);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,a){return be(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((a,l)=>this.playVideoOnLoad(s,()=>a()))}playVideoOnLoad(s,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",a),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return be(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,a){const l=document.getElementById(s);if(!l)throw new y(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new y(`element with id '${s}' must be an ${a} element`);return l}decodeFromImage(s,a){if(!s&&!a)throw new y("either imageElement with a src set or an url must be provided");return a&&!s?this.decodeFromImageUrl(a):this.decodeFromImageElement(s)}decodeFromVideo(s,a){if(!s&&!a)throw new y("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,a,l){if(s===void 0&&a===void 0)throw new y("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new y("An image element must be provided.");this.reset();const a=this.prepareImageElement(s);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(s){const a=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(s,a){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(s){if(!s)throw new y("A video element must be provided.");this.reset();const a=this.prepareVideoElement(s);return this.videoElement=a,a}decodeFromImageUrl(s){if(!s)throw new y("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=s,l}decodeFromVideoUrl(s){if(!s)throw new y("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=s,l}decodeFromVideoUrlContinuously(s,a){if(!s)throw new y("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,a);return l.src=s,u}_decodeOnLoadImage(s){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(a,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,a){return be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,a)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let a;return typeof s>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof s=="string"&&(a=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(a=s),a}prepareVideoElement(s){let a;return!s&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof s=="string"&&(a=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(a=s),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(s,a=!0,l=!0){this._stopAsyncDecode=!1;const u=(f,h)=>{if(this._stopAsyncDecode){h(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(s);f(m)}catch(m){const x=a&&m instanceof X,b=(m instanceof _||m instanceof L)&&l;if(x||b)return setTimeout(u,this._timeBetweenDecodingAttempts,f,h);h(m)}};return new Promise((f,h)=>u(f,h))}decodeContinuously(s,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(s);a(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){a(null,u);const f=u instanceof _||u instanceof L,h=u instanceof X;(f||h)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const a=this.createBinaryBitmap(s);return this.decodeBitmap(a)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,a,l){a||(a={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(s,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const a=this.getCaptureCanvas(s),l=new pe(a),u=new le(l);return new E(u)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const a=this.createCaptureCanvas(s);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,u;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,u=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,u=s.naturalHeight||s.height)),a.style.width=l+"px",a.style.height=u+"px",a.width=l,a.height=u,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,a){try{s.srcObject=a}catch{s.src=URL.createObjectURL(a)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Me{constructor(s,a,l=a==null?0:8*a.length,u,f,h=S.currentTimeMillis()){this.text=s,this.rawBytes=a,this.numBits=l,this.resultPoints=u,this.format=f,this.timestamp=h,this.text=s,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=u,this.format=f,this.resultMetadata=null,h==null?this.timestamp=S.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,a)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const a=this.resultPoints;if(a===null)this.resultPoints=s;else if(s!==null&&s.length>0){const l=new Array(a.length+s.length);S.arraycopy(a,0,l,0,a.length),S.arraycopy(s,0,l,a.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var he;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(he||(he={}));var ie=he,bt;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(bt||(bt={}));var gt=bt;class Kr{constructor(s,a,l,u,f=-1,h=-1){this.rawBytes=s,this.text=a,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=h,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Kn{exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}static addOrSubtract(s,a){return s^a}}class Yt{constructor(s,a){if(a.length===0)throw new v;this.field=s;const l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),S.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(s===1){l=0;for(let h=0,m=a.length;h!==m;h++){const x=a[h];l=Kn.addOrSubtract(l,x)}return l}l=a[0];const u=a.length,f=this.field;for(let h=1;h<u;h++)l=Kn.addOrSubtract(f.multiply(s,l),a[h]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){const h=a;a=l,l=h}let u=new Int32Array(l.length);const f=l.length-a.length;S.arraycopy(l,0,u,0,f);for(let h=f;h<l.length;h++)u[h]=Kn.addOrSubtract(a[h-f],l[h]);return new Yt(this.field,u)}multiply(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,u=s.coefficients,f=u.length,h=new Int32Array(l+f-1),m=this.field;for(let x=0;x<l;x++){const w=a[x];for(let b=0;b<f;b++)h[x+b]=Kn.addOrSubtract(h[x+b],m.multiply(w,u[b]))}return new Yt(m,h)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const a=this.coefficients.length,l=this.field,u=new Int32Array(a),f=this.coefficients;for(let h=0;h<a;h++)u[h]=l.multiply(f[h],s);return new Yt(l,u)}multiplyByMonomial(s,a){if(s<0)throw new v;if(a===0)return this.field.getZero();const l=this.coefficients,u=l.length,f=new Int32Array(u+s),h=this.field;for(let m=0;m<u;m++)f[m]=h.multiply(l[m],a);return new Yt(h,f)}divide(s){if(!this.field.equals(s.field))throw new v("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new v("Divide by 0");const a=this.field;let l=a.getZero(),u=this;const f=s.getCoefficient(s.getDegree()),h=a.inverse(f);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const m=u.getDegree()-s.getDegree(),x=a.multiply(u.getCoefficient(u.getDegree()),h),w=s.multiplyByMonomial(m,x),b=a.buildMonomial(m,x);l=l.addOrSubtract(b),u=u.addOrSubtract(w)}return[l,u]}toString(){let s="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),a===0||l!==1){const u=this.field.log(l);u===0?s+="1":u===1?s+="a":(s+="a^",s+=u)}a!==0&&(a===1?s+="x":(s+="x^",s+=a))}}return s}}class bs extends p{}bs.kind="ArithmeticException";class Te extends Kn{constructor(s,a,l){super(),this.primitive=s,this.size=a,this.generatorBase=l;const u=new Int32Array(a);let f=1;for(let m=0;m<a;m++)u[m]=f,f*=2,f>=a&&(f^=s,f&=a-1);this.expTable=u;const h=new Int32Array(a);for(let m=0;m<a-1;m++)h[u[m]]=m;this.logTable=h,this.zero=new Yt(this,Int32Array.from([0])),this.one=new Yt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new v;if(a===0)return this.zero;const l=new Int32Array(s+1);return l[0]=a,new Yt(this,l)}inverse(s){if(s===0)throw new bs;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,a){return s===0||a===0?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Te.AZTEC_DATA_12=new Te(4201,4096,1),Te.AZTEC_DATA_10=new Te(1033,1024,1),Te.AZTEC_DATA_6=new Te(67,64,1),Te.AZTEC_PARAM=new Te(19,16,1),Te.QR_CODE_FIELD_256=new Te(285,256,0),Te.DATA_MATRIX_FIELD_256=new Te(301,256,1),Te.AZTEC_DATA_8=Te.DATA_MATRIX_FIELD_256,Te.MAXICODE_FIELD_64=Te.AZTEC_DATA_6;class _s extends p{}_s.kind="ReedSolomonException";class fr extends p{}fr.kind="IllegalStateException";class To{constructor(s){this.field=s}decode(s,a){const l=this.field,u=new Yt(l,s),f=new Int32Array(a);let h=!0;for(let P=0;P<a;P++){const z=u.evaluateAt(l.exp(P+l.getGeneratorBase()));f[f.length-1-P]=z,z!==0&&(h=!1)}if(h)return;const m=new Yt(l,f),x=this.runEuclideanAlgorithm(l.buildMonomial(a,1),m,a),w=x[0],b=x[1],A=this.findErrorLocations(w),M=this.findErrorMagnitudes(b,A);for(let P=0;P<A.length;P++){const z=s.length-1-l.log(A[P]);if(z<0)throw new _s("Bad error location");s[z]=Te.addOrSubtract(s[z],M[P])}}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){const P=s;s=a,a=P}const u=this.field;let f=s,h=a,m=u.getZero(),x=u.getOne();for(;h.getDegree()>=(l/2|0);){let P=f,z=m;if(f=h,m=x,f.isZero())throw new _s("r_{i-1} was zero");h=P;let U=u.getZero();const G=f.getCoefficient(f.getDegree()),Z=u.inverse(G);for(;h.getDegree()>=f.getDegree()&&!h.isZero();){const ee=h.getDegree()-f.getDegree(),ne=u.multiply(h.getCoefficient(h.getDegree()),Z);U=U.addOrSubtract(u.buildMonomial(ee,ne)),h=h.addOrSubtract(f.multiplyByMonomial(ee,ne))}if(x=U.multiply(m).addOrSubtract(z),h.getDegree()>=f.getDegree())throw new fr("Division algorithm failed to reduce polynomial?")}const w=x.getCoefficient(0);if(w===0)throw new _s("sigmaTilde(0) was zero");const b=u.inverse(w),A=x.multiplyScalar(b),M=h.multiplyScalar(b);return[A,M]}findErrorLocations(s){const a=s.getDegree();if(a===1)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(a);let u=0;const f=this.field;for(let h=1;h<f.getSize()&&u<a;h++)s.evaluateAt(h)===0&&(l[u]=f.inverse(h),u++);if(u!==a)throw new _s("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,a){const l=a.length,u=new Int32Array(l),f=this.field;for(let h=0;h<l;h++){const m=f.inverse(a[h]);let x=1;for(let w=0;w<l;w++)if(h!==w){const b=f.multiply(a[w],m),A=b&1?b&-2:b|1;x=f.multiply(x,A)}u[h]=f.multiply(s.evaluateAt(m),f.inverse(x)),f.getGeneratorBase()!==0&&(u[h]=f.multiply(u[h],m))}return u}}var zt;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(zt||(zt={}));class Ze{decode(s){this.ddata=s;let a=s.getBits(),l=this.extractBits(a),u=this.correctBits(l),f=Ze.convertBoolArrayToByteArray(u),h=Ze.getEncodedData(u),m=new Kr(f,h,null,null);return m.setNumBits(u.length),m}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let a=s.length,l=zt.UPPER,u=zt.UPPER,f="",h=0;for(;h<a;)if(u===zt.BINARY){if(a-h<5)break;let m=Ze.readCode(s,h,5);if(h+=5,m===0){if(a-h<11)break;m=Ze.readCode(s,h,11)+31,h+=11}for(let x=0;x<m;x++){if(a-h<8){h=a;break}const w=Ze.readCode(s,h,8);f+=te.castAsNonUtf8Char(w),h+=8}u=l}else{let m=u===zt.DIGIT?4:5;if(a-h<m)break;let x=Ze.readCode(s,h,m);h+=m;let w=Ze.getCharacter(u,x);w.startsWith("CTRL_")?(l=u,u=Ze.getTable(w.charAt(5)),w.charAt(6)==="L"&&(l=u)):(f+=w,u=l)}return f}static getTable(s){switch(s){case"L":return zt.LOWER;case"P":return zt.PUNCT;case"M":return zt.MIXED;case"D":return zt.DIGIT;case"B":return zt.BINARY;case"U":default:return zt.UPPER}}static getCharacter(s,a){switch(s){case zt.UPPER:return Ze.UPPER_TABLE[a];case zt.LOWER:return Ze.LOWER_TABLE[a];case zt.MIXED:return Ze.MIXED_TABLE[a];case zt.PUNCT:return Ze.PUNCT_TABLE[a];case zt.DIGIT:return Ze.DIGIT_TABLE[a];default:throw new fr("Bad table")}}correctBits(s){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=Te.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=Te.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=Te.AZTEC_DATA_10):(l=12,a=Te.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),f=s.length/l;if(f<u)throw new L;let h=s.length%l,m=new Int32Array(f);for(let M=0;M<f;M++,h+=l)m[M]=Ze.readCode(s,h,l);try{new To(a).decode(m,f-u)}catch(M){throw new L(M)}let x=(1<<l)-1,w=0;for(let M=0;M<u;M++){let P=m[M];if(P===0||P===x)throw new L;(P===1||P===x-1)&&w++}let b=new Array(u*l-w),A=0;for(let M=0;M<u;M++){let P=m[M];if(P===1||P===x-1)b.fill(P>1,A,A+l-1),A+=l-1;else for(let z=l-1;z>=0;--z)b[A++]=(P&1<<z)!==0}return b}extractBits(s){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(a?11:14)+l*4,f=new Int32Array(u),h=new Array(this.totalBitsInLayer(l,a));if(a)for(let m=0;m<f.length;m++)f[m]=m;else{let m=u+1+2*R.truncDivision(R.truncDivision(u,2)-1,15),x=u/2,w=R.truncDivision(m,2);for(let b=0;b<x;b++){let A=b+R.truncDivision(b,15);f[x-b-1]=w-A-1,f[x+b]=w+A+1}}for(let m=0,x=0;m<l;m++){let w=(l-m)*4+(a?9:12),b=m*2,A=u-1-b;for(let M=0;M<w;M++){let P=M*2;for(let z=0;z<2;z++)h[x+P+z]=s.get(f[b+z],f[b+M]),h[x+2*w+P+z]=s.get(f[b+M],f[A-z]),h[x+4*w+P+z]=s.get(f[A-z],f[A-M]),h[x+6*w+P+z]=s.get(f[A-M],f[b+z])}x+=w*8}return h}static readCode(s,a,l){let u=0;for(let f=a;f<a+l;f++)u<<=1,s[f]&&(u|=1);return u}static readByte(s,a){let l=s.length-a;return l>=8?Ze.readCode(s,a,8):Ze.readCode(s,a,l)<<8-l}static convertBoolArrayToByteArray(s){let a=new Uint8Array((s.length+7)/8);for(let l=0;l<a.length;l++)a[l]=Ze.readByte(s,8*l);return a}totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}Ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ke{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,a,l,u){const f=s-l,h=a-u;return Math.sqrt(f*f+h*h)}static sum(s){let a=0;for(let l=0,u=s.length;l!==u;l++){const f=s[l];a+=f}return a}}class wl{static floatToIntBits(s){return s}}wl.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ge{constructor(s,a){this.x=s,this.y=a}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof ge){const a=s;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*wl.floatToIntBits(this.x)+wl.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const a=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),u=this.distance(s[0],s[2]);let f,h,m;if(l>=a&&l>=u?(h=s[0],f=s[1],m=s[2]):u>=l&&u>=a?(h=s[1],f=s[0],m=s[2]):(h=s[2],f=s[0],m=s[1]),this.crossProductZ(f,h,m)<0){const x=f;f=m,m=x}s[0]=f,s[1]=h,s[2]=m}static distance(s,a){return ke.distance(s.x,s.y,a.x,a.y)}static crossProductZ(s,a,l){const u=a.x,f=a.y;return(l.x-u)*(s.y-f)-(l.y-f)*(s.x-u)}}class vl{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class L1 extends vl{constructor(s,a,l,u,f){super(s,a),this.compact=l,this.nbDatablocks=u,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Nr{constructor(s,a,l,u){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),a==null&&(a=Nr.INIT_SIZE),l==null&&(l=s.getWidth()/2|0),u==null&&(u=s.getHeight()/2|0);const f=a/2|0;if(this.leftInit=l-f,this.rightInit=l+f,this.upInit=u-f,this.downInit=u+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let s=this.leftInit,a=this.rightInit,l=this.upInit,u=this.downInit,f=!1,h=!0,m=!1,x=!1,w=!1,b=!1,A=!1;const M=this.width,P=this.height;for(;h;){h=!1;let z=!0;for(;(z||!x)&&a<M;)z=this.containsBlackPoint(l,u,a,!1),z?(a++,h=!0,x=!0):x||a++;if(a>=M){f=!0;break}let U=!0;for(;(U||!w)&&u<P;)U=this.containsBlackPoint(s,a,u,!0),U?(u++,h=!0,w=!0):w||u++;if(u>=P){f=!0;break}let G=!0;for(;(G||!b)&&s>=0;)G=this.containsBlackPoint(l,u,s,!1),G?(s--,h=!0,b=!0):b||s--;if(s<0){f=!0;break}let Z=!0;for(;(Z||!A)&&l>=0;)Z=this.containsBlackPoint(s,a,l,!0),Z?(l--,h=!0,A=!0):A||l--;if(l<0){f=!0;break}h&&(m=!0)}if(!f&&m){const z=a-s;let U=null;for(let ne=1;U===null&&ne<z;ne++)U=this.getBlackPointOnSegment(s,u-ne,s+ne,u);if(U==null)throw new X;let G=null;for(let ne=1;G===null&&ne<z;ne++)G=this.getBlackPointOnSegment(s,l+ne,s+ne,l);if(G==null)throw new X;let Z=null;for(let ne=1;Z===null&&ne<z;ne++)Z=this.getBlackPointOnSegment(a,l+ne,a-ne,l);if(Z==null)throw new X;let ee=null;for(let ne=1;ee===null&&ne<z;ne++)ee=this.getBlackPointOnSegment(a,u-ne,a-ne,u);if(ee==null)throw new X;return this.centerEdges(ee,U,Z,G)}else throw new X}getBlackPointOnSegment(s,a,l,u){const f=ke.round(ke.distance(s,a,l,u)),h=(l-s)/f,m=(u-a)/f,x=this.image;for(let w=0;w<f;w++){const b=ke.round(s+w*h),A=ke.round(a+w*m);if(x.get(b,A))return new ge(b,A)}return null}centerEdges(s,a,l,u){const f=s.getX(),h=s.getY(),m=a.getX(),x=a.getY(),w=l.getX(),b=l.getY(),A=u.getX(),M=u.getY(),P=Nr.CORR;return f<this.width/2?[new ge(A-P,M+P),new ge(m+P,x+P),new ge(w-P,b-P),new ge(f+P,h-P)]:[new ge(A+P,M+P),new ge(m+P,x-P),new ge(w-P,b+P),new ge(f-P,h-P)]}containsBlackPoint(s,a,l,u){const f=this.image;if(u){for(let h=s;h<=a;h++)if(f.get(h,l))return!0}else for(let h=s;h<=a;h++)if(f.get(l,h))return!0;return!1}}Nr.INIT_SIZE=10,Nr.CORR=1;class sf{static checkAndNudgePoints(s,a){const l=s.getWidth(),u=s.getHeight();let f=!0;for(let h=0;h<a.length&&f;h+=2){const m=Math.floor(a[h]),x=Math.floor(a[h+1]);if(m<-1||m>l||x<-1||x>u)throw new X;f=!1,m===-1?(a[h]=0,f=!0):m===l&&(a[h]=l-1,f=!0),x===-1?(a[h+1]=0,f=!0):x===u&&(a[h+1]=u-1,f=!0)}f=!0;for(let h=a.length-2;h>=0&&f;h-=2){const m=Math.floor(a[h]),x=Math.floor(a[h+1]);if(m<-1||m>l||x<-1||x>u)throw new X;f=!1,m===-1?(a[h]=0,f=!0):m===l&&(a[h]=l-1,f=!0),x===-1?(a[h+1]=0,f=!0):x===u&&(a[h+1]=u-1,f=!0)}}}class qn{constructor(s,a,l,u,f,h,m,x,w){this.a11=s,this.a21=a,this.a31=l,this.a12=u,this.a22=f,this.a32=h,this.a13=m,this.a23=x,this.a33=w}static quadrilateralToQuadrilateral(s,a,l,u,f,h,m,x,w,b,A,M,P,z,U,G){const Z=qn.quadrilateralToSquare(s,a,l,u,f,h,m,x);return qn.squareToQuadrilateral(w,b,A,M,P,z,U,G).times(Z)}transformPoints(s){const a=s.length,l=this.a11,u=this.a12,f=this.a13,h=this.a21,m=this.a22,x=this.a23,w=this.a31,b=this.a32,A=this.a33;for(let M=0;M<a;M+=2){const P=s[M],z=s[M+1],U=f*P+x*z+A;s[M]=(l*P+h*z+w)/U,s[M+1]=(u*P+m*z+b)/U}}transformPointsWithValues(s,a){const l=this.a11,u=this.a12,f=this.a13,h=this.a21,m=this.a22,x=this.a23,w=this.a31,b=this.a32,A=this.a33,M=s.length;for(let P=0;P<M;P++){const z=s[P],U=a[P],G=f*z+x*U+A;s[P]=(l*z+h*U+w)/G,a[P]=(u*z+m*U+b)/G}}static squareToQuadrilateral(s,a,l,u,f,h,m,x){const w=s-l+f-m,b=a-u+h-x;if(w===0&&b===0)return new qn(l-s,f-l,s,u-a,h-u,a,0,0,1);{const A=l-f,M=m-f,P=u-h,z=x-h,U=A*z-M*P,G=(w*z-M*b)/U,Z=(A*b-w*P)/U;return new qn(l-s+G*l,m-s+Z*m,s,u-a+G*u,x-a+Z*x,a,G,Z,1)}}static quadrilateralToSquare(s,a,l,u,f,h,m,x){return qn.squareToQuadrilateral(s,a,l,u,f,h,m,x).buildAdjoint()}buildAdjoint(){return new qn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new qn(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class B1 extends sf{sampleGrid(s,a,l,u,f,h,m,x,w,b,A,M,P,z,U,G,Z,ee,ne){const q=qn.quadrilateralToQuadrilateral(u,f,h,m,x,w,b,A,M,P,z,U,G,Z,ee,ne);return this.sampleGridWithTransform(s,a,l,q)}sampleGridWithTransform(s,a,l,u){if(a<=0||l<=0)throw new X;const f=new Ce(a,l),h=new Float32Array(2*a);for(let m=0;m<l;m++){const x=h.length,w=m+.5;for(let b=0;b<x;b+=2)h[b]=b/2+.5,h[b+1]=w;u.transformPoints(h),sf.checkAndNudgePoints(s,h);try{for(let b=0;b<x;b+=2)s.get(Math.floor(h[b]),Math.floor(h[b+1]))&&f.set(b/2,m)}catch{throw new X}}return f}}class qr{static setGridSampler(s){qr.gridSampler=s}static getInstance(){return qr.gridSampler}}qr.gridSampler=new B1;class nn{constructor(s,a){this.x=s,this.y=a}toResultPoint(){return new ge(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class F1{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(s){let h=l[0];l[0]=l[2],l[2]=h}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),f=this.getMatrixCornerPoints(l);return new L1(u,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new X;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],a),this.sampleLine(s[1],s[2],a),this.sampleLine(s[2],s[3],a),this.sampleLine(s[3],s[0],a)]);this.shift=this.getRotation(l,a);let u=0;for(let h=0;h<4;h++){let m=l[(this.shift+h)%4];this.compact?(u<<=7,u+=m>>1&127):(u<<=10,u+=(m>>2&992)+(m>>1&31))}let f=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(s,a){let l=0;s.forEach((u,f,h)=>{let m=(u>>a-2<<1)+(u&1);l=(l<<3)+m}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(R.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new X}getCorrectedParameterData(s,a){let l,u;a?(l=7,u=2):(l=10,u=4);let f=l-u,h=new Int32Array(l);for(let x=l-1;x>=0;--x)h[x]=s&15,s>>=4;try{new To(Te.AZTEC_PARAM).decode(h,f)}catch{throw new X}let m=0;for(let x=0;x<u;x++)m=(m<<4)+h[x];return m}getBullsEyeCorners(s){let a=s,l=s,u=s,f=s,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(a,h,1,-1),M=this.getFirstDifferent(l,h,1,1),P=this.getFirstDifferent(u,h,-1,1),z=this.getFirstDifferent(f,h,-1,-1);if(this.nbCenterLayers>2){let U=this.distancePoint(z,A)*this.nbCenterLayers/(this.distancePoint(f,a)*(this.nbCenterLayers+2));if(U<.75||U>1.25||!this.isWhiteOrBlackRectangle(A,M,P,z))break}a=A,l=M,u=P,f=z,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let m=new ge(a.getX()+.5,a.getY()-.5),x=new ge(l.getX()+.5,l.getY()+.5),w=new ge(u.getX()-.5,u.getY()+.5),b=new ge(f.getX()-.5,f.getY()-.5);return this.expandSquare([m,x,w,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,a,l,u;try{let m=new Nr(this.image).detect();s=m[0],a=m[1],l=m[2],u=m[3]}catch{let x=this.image.getWidth()/2,w=this.image.getHeight()/2;s=this.getFirstDifferent(new nn(x+7,w-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new nn(x+7,w+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new nn(x-7,w+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new nn(x-7,w-7),!1,-1,-1).toResultPoint()}let f=ke.round((s.getX()+u.getX()+a.getX()+l.getX())/4),h=ke.round((s.getY()+u.getY()+a.getY()+l.getY())/4);try{let m=new Nr(this.image,15,f,h).detect();s=m[0],a=m[1],l=m[2],u=m[3]}catch{s=this.getFirstDifferent(new nn(f+7,h-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new nn(f+7,h+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new nn(f-7,h+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new nn(f-7,h-7),!1,-1,-1).toResultPoint()}return f=ke.round((s.getX()+u.getX()+a.getX()+l.getX())/4),h=ke.round((s.getY()+u.getY()+a.getY()+l.getY())/4),new nn(f,h)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,a,l,u,f){let h=qr.getInstance(),m=this.getDimension(),x=m/2-this.nbCenterLayers,w=m/2+this.nbCenterLayers;return h.sampleGrid(s,m,m,x,x,w,x,w,w,x,w,a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY(),f.getX(),f.getY())}sampleLine(s,a,l){let u=0,f=this.distanceResultPoint(s,a),h=f/l,m=s.getX(),x=s.getY(),w=h*(a.getX()-s.getX())/f,b=h*(a.getY()-s.getY())/f;for(let A=0;A<l;A++)this.image.get(ke.round(m+A*w),ke.round(x+A*b))&&(u|=1<<l-A-1);return u}isWhiteOrBlackRectangle(s,a,l,u){let f=3;s=new nn(s.getX()-f,s.getY()+f),a=new nn(a.getX()-f,a.getY()-f),l=new nn(l.getX()+f,l.getY()-f),u=new nn(u.getX()+f,u.getY()+f);let h=this.getColor(u,s);if(h===0)return!1;let m=this.getColor(s,a);return m!==h||(m=this.getColor(a,l),m!==h)?!1:(m=this.getColor(l,u),m===h)}getColor(s,a){let l=this.distancePoint(s,a),u=(a.getX()-s.getX())/l,f=(a.getY()-s.getY())/l,h=0,m=s.getX(),x=s.getY(),w=this.image.get(s.getX(),s.getY()),b=Math.ceil(l);for(let M=0;M<b;M++)m+=u,x+=f,this.image.get(ke.round(m),ke.round(x))!==w&&h++;let A=h/l;return A>.1&&A<.9?0:A<=.1===w?1:-1}getFirstDifferent(s,a,l,u){let f=s.getX()+l,h=s.getY()+u;for(;this.isValid(f,h)&&this.image.get(f,h)===a;)f+=l,h+=u;for(f-=l,h-=u;this.isValid(f,h)&&this.image.get(f,h)===a;)f+=l;for(f-=l;this.isValid(f,h)&&this.image.get(f,h)===a;)h+=u;return h-=u,new nn(f,h)}expandSquare(s,a,l){let u=l/(2*a),f=s[0].getX()-s[2].getX(),h=s[0].getY()-s[2].getY(),m=(s[0].getX()+s[2].getX())/2,x=(s[0].getY()+s[2].getY())/2,w=new ge(m+u*f,x+u*h),b=new ge(m-u*f,x-u*h);f=s[1].getX()-s[3].getX(),h=s[1].getY()-s[3].getY(),m=(s[1].getX()+s[3].getX())/2,x=(s[1].getY()+s[3].getY())/2;let A=new ge(m+u*f,x+u*h),M=new ge(m-u*f,x-u*h);return[w,A,b,M]}isValid(s,a){return s>=0&&s<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(s){let a=ke.round(s.getX()),l=ke.round(s.getY());return this.isValid(a,l)}distancePoint(s,a){return ke.distance(s.getX(),s.getY(),a.getX(),a.getY())}distanceResultPoint(s,a){return ke.distance(s.getX(),s.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class El{decode(s,a=null){let l=null,u=new F1(s.getBlackMatrix()),f=null,h=null;try{let b=u.detectMirror(!1);f=b.getPoints(),this.reportFoundResultPoints(a,f),h=new Ze().decode(b)}catch(b){l=b}if(h==null)try{let b=u.detectMirror(!0);f=b.getPoints(),this.reportFoundResultPoints(a,f),h=new Ze().decode(b)}catch(b){throw l??b}let m=new Me(h.getText(),h.getRawBytes(),h.getNumBits(),f,ie.AZTEC,S.currentTimeMillis()),x=h.getByteSegments();x!=null&&m.putMetadata(gt.BYTE_SEGMENTS,x);let w=h.getECLevel();return w!=null&&m.putMetadata(gt.ERROR_CORRECTION_LEVEL,w),m}reportFoundResultPoints(s,a){if(s!=null){let l=s.get(V.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((u,f,h)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class Sv extends At{constructor(s=500){super(new El,s)}}class It{decode(s,a){try{return this.doDecode(s,a)}catch{if(a&&a.get(V.TRY_HARDER)===!0&&s.isRotateSupported()){const f=s.rotateCounterClockwise(),h=this.doDecode(f,a),m=h.getResultMetadata();let x=270;m!==null&&m.get(gt.ORIENTATION)===!0&&(x=x+m.get(gt.ORIENTATION)%360),h.putMetadata(gt.ORIENTATION,x);const w=h.getResultPoints();if(w!==null){const b=f.getHeight();for(let A=0;A<w.length;A++)w[A]=new ge(b-w[A].getY()-1,w[A].getX())}return h}else throw new X}}reset(){}doDecode(s,a){const l=s.getWidth(),u=s.getHeight();let f=new B(l);const h=a&&a.get(V.TRY_HARDER)===!0,m=Math.max(1,u>>(h?8:5));let x;h?x=u:x=15;const w=Math.trunc(u/2);for(let b=0;b<x;b++){const A=Math.trunc((b+1)/2),M=(b&1)===0,P=w+m*(M?A:-A);if(P<0||P>=u)break;try{f=s.getBlackRow(P,f)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(f.reverse(),a&&a.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const U=new Map;a.forEach((G,Z)=>U.set(Z,G)),U.delete(V.NEED_RESULT_POINT_CALLBACK),a=U}try{const U=this.decodeRow(P,f,a);if(z===1){U.putMetadata(gt.ORIENTATION,180);const G=U.getResultPoints();G!==null&&(G[0]=new ge(l-G[0].getX()-1,G[0].getY()),G[1]=new ge(l-G[1].getX()-1,G[1].getY()))}return U}catch{}}}throw new X}static recordPattern(s,a,l){const u=l.length;for(let w=0;w<u;w++)l[w]=0;const f=s.getSize();if(a>=f)throw new X;let h=!s.get(a),m=0,x=a;for(;x<f;){if(s.get(x)!==h)l[m]++;else{if(++m===u)break;l[m]=1,h=!h}x++}if(!(m===u||m===u-1&&x===f))throw new X}static recordPatternInReverse(s,a,l){let u=l.length,f=s.get(a);for(;a>0&&u>=0;)s.get(--a)!==f&&(u--,f=!f);if(u>=0)throw new X;It.recordPattern(s,a+1,l)}static patternMatchVariance(s,a,l){const u=s.length;let f=0,h=0;for(let w=0;w<u;w++)f+=s[w],h+=a[w];if(f<h)return Number.POSITIVE_INFINITY;const m=f/h;l*=m;let x=0;for(let w=0;w<u;w++){const b=s[w],A=a[w]*m,M=b>A?b-A:A-b;if(M>l)return Number.POSITIVE_INFINITY;x+=M}return x/f}}class se extends It{static findStartPattern(s){const a=s.getSize(),l=s.getNextSet(0);let u=0,f=Int32Array.from([0,0,0,0,0,0]),h=l,m=!1;const x=6;for(let w=l;w<a;w++)if(s.get(w)!==m)f[u]++;else{if(u===x-1){let b=se.MAX_AVG_VARIANCE,A=-1;for(let M=se.CODE_START_A;M<=se.CODE_START_C;M++){const P=It.patternMatchVariance(f,se.CODE_PATTERNS[M],se.MAX_INDIVIDUAL_VARIANCE);P<b&&(b=P,A=M)}if(A>=0&&s.isRange(Math.max(0,h-(w-h)/2),h,!1))return Int32Array.from([h,w,A]);h+=f[0]+f[1],f=f.slice(2,f.length-1),f[u-1]=0,f[u]=0,u--}else u++;f[u]=1,m=!m}throw new X}static decodeCode(s,a,l){It.recordPattern(s,l,a);let u=se.MAX_AVG_VARIANCE,f=-1;for(let h=0;h<se.CODE_PATTERNS.length;h++){const m=se.CODE_PATTERNS[h],x=this.patternMatchVariance(a,m,se.MAX_INDIVIDUAL_VARIANCE);x<u&&(u=x,f=h)}if(f>=0)return f;throw new X}decodeRow(s,a,l){const u=l&&l.get(V.ASSUME_GS1)===!0,f=se.findStartPattern(a),h=f[2];let m=0;const x=new Uint8Array(20);x[m++]=h;let w;switch(h){case se.CODE_START_A:w=se.CODE_CODE_A;break;case se.CODE_START_B:w=se.CODE_CODE_B;break;case se.CODE_START_C:w=se.CODE_CODE_C;break;default:throw new L}let b=!1,A=!1,M="",P=f[0],z=f[1];const U=Int32Array.from([0,0,0,0,0,0]);let G=0,Z=0,ee=h,ne=0,q=!0,Ne=!1,_e=!1;for(;!b;){const Ms=A;switch(A=!1,G=Z,Z=se.decodeCode(a,U,z),x[m++]=Z,Z!==se.CODE_STOP&&(q=!0),Z!==se.CODE_STOP&&(ne++,ee+=ne*Z),P=z,z+=U.reduce((eE,tE)=>eE+tE,0),Z){case se.CODE_START_A:case se.CODE_START_B:case se.CODE_START_C:throw new L}switch(w){case se.CODE_CODE_A:if(Z<64)_e===Ne?M+=String.fromCharCode(" ".charCodeAt(0)+Z):M+=String.fromCharCode(" ".charCodeAt(0)+Z+128),_e=!1;else if(Z<96)_e===Ne?M+=String.fromCharCode(Z-64):M+=String.fromCharCode(Z+64),_e=!1;else switch(Z!==se.CODE_STOP&&(q=!1),Z){case se.CODE_FNC_1:u&&(M.length===0?M+="]C1":M+=String.fromCharCode(29));break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_A:!Ne&&_e?(Ne=!0,_e=!1):Ne&&_e?(Ne=!1,_e=!1):_e=!0;break;case se.CODE_SHIFT:A=!0,w=se.CODE_CODE_B;break;case se.CODE_CODE_B:w=se.CODE_CODE_B;break;case se.CODE_CODE_C:w=se.CODE_CODE_C;break;case se.CODE_STOP:b=!0;break}break;case se.CODE_CODE_B:if(Z<96)_e===Ne?M+=String.fromCharCode(" ".charCodeAt(0)+Z):M+=String.fromCharCode(" ".charCodeAt(0)+Z+128),_e=!1;else switch(Z!==se.CODE_STOP&&(q=!1),Z){case se.CODE_FNC_1:u&&(M.length===0?M+="]C1":M+=String.fromCharCode(29));break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_B:!Ne&&_e?(Ne=!0,_e=!1):Ne&&_e?(Ne=!1,_e=!1):_e=!0;break;case se.CODE_SHIFT:A=!0,w=se.CODE_CODE_A;break;case se.CODE_CODE_A:w=se.CODE_CODE_A;break;case se.CODE_CODE_C:w=se.CODE_CODE_C;break;case se.CODE_STOP:b=!0;break}break;case se.CODE_CODE_C:if(Z<100)Z<10&&(M+="0"),M+=Z;else switch(Z!==se.CODE_STOP&&(q=!1),Z){case se.CODE_FNC_1:u&&(M.length===0?M+="]C1":M+=String.fromCharCode(29));break;case se.CODE_CODE_A:w=se.CODE_CODE_A;break;case se.CODE_CODE_B:w=se.CODE_CODE_B;break;case se.CODE_STOP:b=!0;break}break}Ms&&(w=w===se.CODE_CODE_A?se.CODE_CODE_B:se.CODE_CODE_A)}const gn=z-P;if(z=a.getNextUnset(z),!a.isRange(z,Math.min(a.getSize(),z+(z-P)/2),!1))throw new X;if(ee-=ne*G,ee%103!==G)throw new _;const Jn=M.length;if(Jn===0)throw new X;Jn>0&&q&&(w===se.CODE_CODE_C?M=M.substring(0,Jn-2):M=M.substring(0,Jn-1));const pn=(f[1]+f[0])/2,Ye=P+gn/2,Vt=x.length,Sn=new Uint8Array(Vt);for(let Ms=0;Ms<Vt;Ms++)Sn[Ms]=x[Ms];const Rs=[new ge(pn,s),new ge(Ye,s)];return new Me(M,Sn,0,Rs,ie.CODE_128,new Date().getTime())}}se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],se.MAX_AVG_VARIANCE=.25,se.MAX_INDIVIDUAL_VARIANCE=.7,se.CODE_SHIFT=98,se.CODE_CODE_C=99,se.CODE_CODE_B=100,se.CODE_CODE_A=101,se.CODE_FNC_1=102,se.CODE_FNC_2=97,se.CODE_FNC_3=96,se.CODE_FNC_4_A=101,se.CODE_FNC_4_B=100,se.CODE_START_A=103,se.CODE_START_B=104,se.CODE_START_C=105,se.CODE_STOP=106;class Tt extends It{constructor(s=!1,a=!1){super(),this.usingCheckDigit=s,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,a,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let f=Tt.findAsteriskPattern(a,u),h=a.getNextSet(f[1]),m=a.getSize(),x,w;do{Tt.recordPattern(a,h,u);let U=Tt.toNarrowWidePattern(u);if(U<0)throw new X;x=Tt.patternToChar(U),this.decodeRowResult+=x,w=h;for(let G of u)h+=G;h=a.getNextSet(h)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let U of u)b+=U;let A=h-w-b;if(h!==m&&A*2<b)throw new X;if(this.usingCheckDigit){let U=this.decodeRowResult.length-1,G=0;for(let Z=0;Z<U;Z++)G+=Tt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt(U)!==Tt.ALPHABET_STRING.charAt(G%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new X;let M;this.extendedMode?M=Tt.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;let P=(f[1]+f[0])/2,z=w+b/2;return new Me(M,null,0,[new ge(P,s),new ge(z,s)],ie.CODE_39,new Date().getTime())}static findAsteriskPattern(s,a){let l=s.getSize(),u=s.getNextSet(0),f=0,h=u,m=!1,x=a.length;for(let w=u;w<l;w++)if(s.get(w)!==m)a[f]++;else{if(f===x-1){if(this.toNarrowWidePattern(a)===Tt.ASTERISK_ENCODING&&s.isRange(Math.max(0,h-Math.floor((w-h)/2)),h,!1))return[h,w];h+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,m=!m}throw new X}static toNarrowWidePattern(s){let a=s.length,l=0,u;do{let f=2147483647;for(let x of s)x<f&&x>l&&(f=x);l=f,u=0;let h=0,m=0;for(let x=0;x<a;x++){let w=s[x];w>l&&(m|=1<<a-1-x,u++,h+=w)}if(u===3){for(let x=0;x<a&&u>0;x++){let w=s[x];if(w>l&&(u--,w*2>=h))return-1}return m}}while(u>3);return-1}static patternToChar(s){for(let a=0;a<Tt.CHARACTER_ENCODINGS.length;a++)if(Tt.CHARACTER_ENCODINGS[a]===s)return Tt.ALPHABET_STRING.charAt(a);if(s===Tt.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(s){let a=s.length,l="";for(let u=0;u<a;u++){let f=s.charAt(u);if(f==="+"||f==="$"||f==="%"||f==="/"){let h=s.charAt(u+1),m="\0";switch(f){case"+":if(h>="A"&&h<="Z")m=String.fromCharCode(h.charCodeAt(0)+32);else throw new L;break;case"$":if(h>="A"&&h<="Z")m=String.fromCharCode(h.charCodeAt(0)-64);else throw new L;break;case"%":if(h>="A"&&h<="E")m=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")m=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")m=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")m=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")m="\0";else if(h==="V")m="@";else if(h==="W")m="`";else if(h==="X"||h==="Y"||h==="Z")m="";else throw new L;break;case"/":if(h>="A"&&h<="O")m=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")m=":";else throw new L;break}l+=m,u++}else l+=f}return l}}Tt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Tt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Tt.ASTERISK_ENCODING=148;class Xe extends It{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,a,l){let u=this.decodeStart(a),f=this.decodeEnd(a),h=new xe;Xe.decodeMiddle(a,u[1],f[0],h);let m=h.toString(),x=null;l!=null&&(x=l.get(V.ALLOWED_LENGTHS)),x==null&&(x=Xe.DEFAULT_ALLOWED_LENGTHS);let w=m.length,b=!1,A=0;for(let z of x){if(w===z){b=!0;break}z>A&&(A=z)}if(!b&&w>A&&(b=!0),!b)throw new L;const M=[new ge(u[1],s),new ge(f[0],s)];return new Me(m,null,0,M,ie.ITF,new Date().getTime())}static decodeMiddle(s,a,l,u){let f=new Int32Array(10),h=new Int32Array(5),m=new Int32Array(5);for(f.fill(0),h.fill(0),m.fill(0);a<l;){It.recordPattern(s,a,f);for(let w=0;w<5;w++){let b=2*w;h[w]=f[b],m[w]=f[b+1]}let x=Xe.decodeDigit(h);u.append(x.toString()),x=this.decodeDigit(m),u.append(x.toString()),f.forEach(function(w){a+=w})}}decodeStart(s){let a=Xe.skipWhiteSpace(s),l=Xe.findGuardPattern(s,a,Xe.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let u=a-1;l>0&&u>=0&&!s.get(u);u--)l--;if(l!==0)throw new X}static skipWhiteSpace(s){const a=s.getSize(),l=s.getNextSet(0);if(l===a)throw new X;return l}decodeEnd(s){s.reverse();try{let a=Xe.skipWhiteSpace(s),l;try{l=Xe.findGuardPattern(s,a,Xe.END_PATTERN_REVERSED[0])}catch(f){f instanceof X&&(l=Xe.findGuardPattern(s,a,Xe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let u=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-u,l}finally{s.reverse()}}static findGuardPattern(s,a,l){let u=l.length,f=new Int32Array(u),h=s.getSize(),m=!1,x=0,w=a;f.fill(0);for(let b=a;b<h;b++)if(s.get(b)!==m)f[x]++;else{if(x===u-1){if(It.patternMatchVariance(f,l,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return[w,b];w+=f[0]+f[1],S.arraycopy(f,2,f,0,x-1),f[x-1]=0,f[x]=0,x--}else x++;f[x]=1,m=!m}throw new X}static decodeDigit(s){let a=Xe.MAX_AVG_VARIANCE,l=-1,u=Xe.PATTERNS.length;for(let f=0;f<u;f++){let h=Xe.PATTERNS[f],m=It.patternMatchVariance(s,h,Xe.MAX_INDIVIDUAL_VARIANCE);m<a?(a=m,l=f):m===a&&(l=-1)}if(l>=0)return l%10;throw new X}}Xe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Xe.MAX_AVG_VARIANCE=.38,Xe.MAX_INDIVIDUAL_VARIANCE=.5,Xe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Xe.START_PATTERN=Int32Array.from([1,1,1,1]),Xe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class pt extends It{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let a=!1,l,u=0,f=Int32Array.from([0,0,0]);for(;!a;){f=Int32Array.from([0,0,0]),l=pt.findGuardPattern(s,u,!1,this.START_END_PATTERN,f);let h=l[0];u=l[1];let m=h-(u-h);m>=0&&(a=s.isRange(m,h,!1))}return l}static checkChecksum(s){return pt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(a===0)return!1;let l=parseInt(s.charAt(a-1),10);return pt.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let u=a-1;u>=0;u-=2){let f=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(f<0||f>9)throw new L;l+=f}l*=3;for(let u=a-2;u>=0;u-=2){let f=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(f<0||f>9)throw new L;l+=f}return(1e3-l)%10}static decodeEnd(s,a){return pt.findGuardPattern(s,a,!1,pt.START_END_PATTERN,new Int32Array(pt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,a,l,u){return this.findGuardPattern(s,a,l,u,new Int32Array(u.length))}static findGuardPattern(s,a,l,u,f){let h=s.getSize();a=l?s.getNextUnset(a):s.getNextSet(a);let m=0,x=a,w=u.length,b=l;for(let A=a;A<h;A++)if(s.get(A)!==b)f[m]++;else{if(m===w-1){if(It.patternMatchVariance(f,u,pt.MAX_INDIVIDUAL_VARIANCE)<pt.MAX_AVG_VARIANCE)return Int32Array.from([x,A]);x+=f[0]+f[1];let M=f.slice(2,f.length-1);for(let P=0;P<m-1;P++)f[P]=M[P];f[m-1]=0,f[m]=0,m--}else m++;f[m]=1,b=!b}throw new X}static decodeDigit(s,a,l,u){this.recordPattern(s,l,a);let f=this.MAX_AVG_VARIANCE,h=-1,m=u.length;for(let x=0;x<m;x++){let w=u[x],b=It.patternMatchVariance(a,w,pt.MAX_INDIVIDUAL_VARIANCE);b<f&&(f=b,h=x)}if(h>=0)return h;throw new X}}pt.MAX_AVG_VARIANCE=.48,pt.MAX_INDIVIDUAL_VARIANCE=.7,pt.START_END_PATTERN=Int32Array.from([1,1,1]),pt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),pt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),pt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class No{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let u=this.decodeRowStringBuffer,f=this.decodeMiddle(a,l,u),h=u.toString(),m=No.parseExtensionString(h),x=[new ge((l[0]+l[1])/2,s),new ge(f,s)],w=new Me(h,null,0,x,ie.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&w.putAllMetadata(m),w}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),h=a[1],m=0;for(let w=0;w<5&&h<f;w++){let b=pt.decodeDigit(s,u,h,pt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+b%10);for(let A of u)h+=A;b>=10&&(m|=1<<4-w),w!==4&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(l.length!==5)throw new X;let x=this.determineCheckDigit(m);if(No.extensionChecksum(l.toString())!==x)throw new X;return h}static extensionChecksum(s){let a=s.length,l=0;for(let u=a-2;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let u=a-1;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(s){for(let a=0;a<10;a++)if(s===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new X}static parseExtensionString(s){if(s.length!==5)return null;let a=No.parseExtension5String(s);return a==null?null:new Map([[gt.SUGGESTED_PRICE,a]])}static parseExtension5String(s){let a;switch(s.charAt(0)){case"0":a="£";break;case"5":a="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(s.substring(1)),u=(l/100).toString(),f=l%100,h=f<10?"0"+f:f.toString();return a+u+"."+h}}class of{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let u=this.decodeRowStringBuffer,f=this.decodeMiddle(a,l,u),h=u.toString(),m=of.parseExtensionString(h),x=[new ge((l[0]+l[1])/2,s),new ge(f,s)],w=new Me(h,null,0,x,ie.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&w.putAllMetadata(m),w}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),h=a[1],m=0;for(let x=0;x<2&&h<f;x++){let w=pt.decodeDigit(s,u,h,pt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let b of u)h+=b;w>=10&&(m|=1<<1-x),x!==1&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(l.length!==2)throw new X;if(parseInt(l.toString())%4!==m)throw new X;return h}static parseExtensionString(s){return s.length!==2?null:new Map([[gt.ISSUE_NUMBER,parseInt(s)]])}}class z1{static decodeRow(s,a,l){let u=pt.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new No().decodeRow(s,a,u)}catch{return new of().decodeRow(s,a,u)}}}z1.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ze extends pt{constructor(){super(),this.decodeRowStringBuffer="",ze.L_AND_G_PATTERNS=ze.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let a=ze.L_PATTERNS[s-10],l=new Int32Array(a.length);for(let u=0;u<a.length;u++)l[u]=a[a.length-u-1];ze.L_AND_G_PATTERNS[s]=l}}decodeRow(s,a,l){let u=ze.findStartGuardPattern(a),f=l==null?null:l.get(V.NEED_RESULT_POINT_CALLBACK);if(f!=null){const q=new ge((u[0]+u[1])/2,s);f.foundPossibleResultPoint(q)}let h=this.decodeMiddle(a,u,this.decodeRowStringBuffer),m=h.rowOffset,x=h.resultString;if(f!=null){const q=new ge(m,s);f.foundPossibleResultPoint(q)}let w=this.decodeEnd(a,m);if(f!=null){const q=new ge((w[0]+w[1])/2,s);f.foundPossibleResultPoint(q)}let b=w[1],A=b+(b-w[0]);if(A>=a.getSize()||!a.isRange(b,A,!1))throw new X;let M=x.toString();if(M.length<8)throw new L;if(!ze.checkChecksum(M))throw new _;let P=(u[1]+u[0])/2,z=(w[1]+w[0])/2,U=this.getBarcodeFormat(),G=[new ge(P,s),new ge(z,s)],Z=new Me(M,null,0,G,U,new Date().getTime()),ee=0;try{let q=z1.decodeRow(s,a,w[1]);Z.putMetadata(gt.UPC_EAN_EXTENSION,q.getText()),Z.putAllMetadata(q.getResultMetadata()),Z.addResultPoints(q.getResultPoints()),ee=q.getText().length}catch{}let ne=l==null?null:l.get(V.ALLOWED_EAN_EXTENSIONS);if(ne!=null){let q=!1;for(let Ne in ne)if(ee.toString()===Ne){q=!0;break}if(!q)throw new X}return Z}decodeEnd(s,a){return ze.findGuardPattern(s,a,!1,ze.START_END_PATTERN,new Int32Array(ze.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return ze.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(a===0)return!1;let l=parseInt(s.charAt(a-1),10);return ze.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let u=a-1;u>=0;u-=2){let f=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(f<0||f>9)throw new L;l+=f}l*=3;for(let u=a-2;u>=0;u-=2){let f=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(f<0||f>9)throw new L;l+=f}return(1e3-l)%10}}class Bi extends ze{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),h=a[1],m=0;for(let w=0;w<6&&h<f;w++){let b=ze.decodeDigit(s,u,h,ze.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+b%10);for(let A of u)h+=A;b>=10&&(m|=1<<5-w)}l=Bi.determineFirstDigit(l,m),h=ze.findGuardPattern(s,h,!0,ze.MIDDLE_PATTERN,new Int32Array(ze.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&h<f;w++){let b=ze.decodeDigit(s,u,h,ze.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+b);for(let A of u)h+=A}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return ie.EAN_13}static determineFirstDigit(s,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return s=String.fromCharCode("0".charCodeAt(0)+l)+s,s;throw new X}}Bi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class U1 extends ze{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),h=a[1];for(let x=0;x<4&&h<f;x++){let w=ze.decodeDigit(s,u,h,ze.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+w);for(let b of u)h+=b}h=ze.findGuardPattern(s,h,!0,ze.MIDDLE_PATTERN,new Int32Array(ze.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&h<f;x++){let w=ze.decodeDigit(s,u,h,ze.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+w);for(let b of u)h+=b}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return ie.EAN_8}}class W1 extends ze{constructor(){super(...arguments),this.ean13Reader=new Bi}getBarcodeFormat(){return ie.UPC_A}decode(s,a){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,a,l))}decodeMiddle(s,a,l){return this.ean13Reader.decodeMiddle(s,a,l)}maybeReturnResult(s){let a=s.getText();if(a.charAt(0)==="0"){let l=new Me(a.substring(1),null,null,s.getResultPoints(),ie.UPC_A);return s.getResultMetadata()!=null&&l.putAllMetadata(s.getResultMetadata()),l}else throw new X}reset(){this.ean13Reader.reset()}}class Qn extends ze{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,a,l){const u=this.decodeMiddleCounters.map(w=>w);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const f=s.getSize();let h=a[1],m=0;for(let w=0;w<6&&h<f;w++){const b=Qn.decodeDigit(s,u,h,Qn.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+b%10);for(let A of u)h+=A;b>=10&&(m|=1<<5-w)}let x=Qn.determineNumSysAndCheckDigit(l,m);return{rowOffset:h,resultString:x}}decodeEnd(s,a){return Qn.findGuardPatternWithoutCounters(s,a,!0,Qn.MIDDLE_END_PATTERN)}checkChecksum(s){return ze.checkChecksum(Qn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,a){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let f=String.fromCharCode("0".charCodeAt(0)+l),h=String.fromCharCode("0".charCodeAt(0)+u);return f+s+h}throw X.getNotFoundInstance()}getBarcodeFormat(){return ie.UPC_E}static convertUPCEtoUPCA(s){const a=s.slice(1,7).split("").map(f=>f.charCodeAt(0)),l=new xe;l.append(s.charAt(0));let u=a[5];switch(u){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(u),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(u);break}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}Qn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Qn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class af extends It{constructor(s){super();let a=s==null?null:s.get(V.POSSIBLE_FORMATS),l=[];r(a)?(l.push(new Bi),l.push(new W1),l.push(new U1),l.push(new Qn)):(a.indexOf(ie.EAN_13)>-1&&l.push(new Bi),a.indexOf(ie.UPC_A)>-1&&l.push(new W1),a.indexOf(ie.EAN_8)>-1&&l.push(new U1),a.indexOf(ie.UPC_E)>-1&&l.push(new Qn)),this.readers=l}decodeRow(s,a,l){for(let u of this.readers)try{const f=u.decodeRow(s,a,l),h=f.getBarcodeFormat()===ie.EAN_13&&f.getText().charAt(0)==="0",m=l==null?null:l.get(V.POSSIBLE_FORMATS),x=m==null||m.includes(ie.UPC_A);if(h&&x){const w=f.getRawBytes(),b=new Me(f.getText().substring(1),w,w?w.length:null,f.getResultPoints(),ie.UPC_A);return b.putAllMetadata(f.getResultMetadata()),b}return f}catch{}throw new X}reset(){for(let s of this.readers)s.reset()}}class Zt extends It{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,a){for(let l=0;l<a.length;l++)if(It.patternMatchVariance(s,a[l],Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return l;throw new X}static count(s){return ke.sum(new Int32Array(s))}static increment(s,a){let l=0,u=a[0];for(let f=1;f<s.length;f++)a[f]>u&&(u=a[f],l=f);s[l]++}static decrement(s,a){let l=0,u=a[0];for(let f=1;f<s.length;f++)a[f]<u&&(u=a[f],l=f);s[l]--}static isFinderPattern(s){let a=s[0]+s[1],l=a+s[2]+s[3],u=a/l;if(u>=Zt.MIN_FINDER_PATTERN_RATIO&&u<=Zt.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let m of s)m>h&&(h=m),m<f&&(f=m);return h<10*f}return!1}}Zt.MAX_AVG_VARIANCE=.2,Zt.MAX_INDIVIDUAL_VARIANCE=.45,Zt.MIN_FINDER_PATTERN_RATIO=9.5/12,Zt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Cs{constructor(s,a){this.value=s,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Cs))return!1;const a=s;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class bl{constructor(s,a,l,u,f){this.value=s,this.startEnd=a,this.value=s,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new ge(l,f)),this.resultPoints.push(new ge(u,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof bl))return!1;const a=s;return this.value===a.value}hashCode(){return this.value}}class dr{constructor(){}static getRSSvalue(s,a,l){let u=0;for(let x of s)u+=x;let f=0,h=0,m=s.length;for(let x=0;x<m-1;x++){let w;for(w=1,h|=1<<x;w<s[x];w++,h&=~(1<<x)){let b=dr.combins(u-w-1,m-x-2);if(l&&h===0&&u-w-(m-x-1)>=m-x-1&&(b-=dr.combins(u-w-(m-x),m-x-2)),m-x-1>1){let A=0;for(let M=u-w-(m-x-2);M>a;M--)A+=dr.combins(u-w-M-1,m-x-3);b-=A*(m-1-x)}else u-w>a&&b--;f+=b}u-=w}return f}static combins(s,a){let l,u;s-a>a?(u=a,l=s-a):(u=s-a,l=a);let f=1,h=1;for(let m=s;m>l;m--)f*=m,h<=u&&(f/=h,h++);for(;h<=u;)f/=h,h++;return f}}class Av{static buildBitArray(s){let a=s.length*2-1;s[s.length-1].getRightChar()==null&&(a-=1);let l=12*a,u=new B(l),f=0,m=s[0].getRightChar().getValue();for(let x=11;x>=0;--x)m&1<<x&&u.set(f),f++;for(let x=1;x<s.length;++x){let w=s[x],b=w.getLeftChar().getValue();for(let A=11;A>=0;--A)b&1<<A&&u.set(f),f++;if(w.getRightChar()!=null){let A=w.getRightChar().getValue();for(let M=11;M>=0;--M)A&1<<M&&u.set(f),f++}}return u}}class Fi{constructor(s,a){a?this.decodedInformation=null:(this.finished=s,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class lf{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class fn extends lf{constructor(s,a){super(s),this.value=a}getValue(){return this.value}isFNC1(){return this.value===fn.FNC1}}fn.FNC1="$";class zi extends lf{constructor(s,a,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Bn extends lf{constructor(s,a,l){if(super(s),a<0||a>10||l<0||l>10)throw new L;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Bn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Bn.FNC1}isAnyFNC1(){return this.firstDigit===Bn.FNC1||this.secondDigit===Bn.FNC1}}Bn.FNC1=10;class ce{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new X;let a=s.substring(0,2);for(let f of ce.TWO_DIGIT_DATA_LENGTH)if(f[0]===a)return f[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(2,f[2],s):ce.processFixedAI(2,f[1],s);if(s.length<3)throw new X;let l=s.substring(0,3);for(let f of ce.THREE_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(3,f[2],s):ce.processFixedAI(3,f[1],s);for(let f of ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(4,f[2],s):ce.processFixedAI(4,f[1],s);if(s.length<4)throw new X;let u=s.substring(0,4);for(let f of ce.FOUR_DIGIT_DATA_LENGTH)if(f[0]===u)return f[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(4,f[2],s):ce.processFixedAI(4,f[1],s);throw new X}static processFixedAI(s,a,l){if(l.length<s)throw new X;let u=l.substring(0,s);if(l.length<s+a)throw new X;let f=l.substring(s,s+a),h=l.substring(s+a),m="("+u+")"+f,x=ce.parseFieldsInGeneralPurpose(h);return x==null?m:m+x}static processVariableAI(s,a,l){let u=l.substring(0,s),f;l.length<s+a?f=l.length:f=s+a;let h=l.substring(s,f),m=l.substring(f),x="("+u+")"+h,w=ce.parseFieldsInGeneralPurpose(m);return w==null?x:x+w}}ce.VARIABLE_LENGTH=[],ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ce.VARIABLE_LENGTH,20],["22",ce.VARIABLE_LENGTH,29],["30",ce.VARIABLE_LENGTH,8],["37",ce.VARIABLE_LENGTH,8],["90",ce.VARIABLE_LENGTH,30],["91",ce.VARIABLE_LENGTH,30],["92",ce.VARIABLE_LENGTH,30],["93",ce.VARIABLE_LENGTH,30],["94",ce.VARIABLE_LENGTH,30],["95",ce.VARIABLE_LENGTH,30],["96",ce.VARIABLE_LENGTH,30],["97",ce.VARIABLE_LENGTH,3],["98",ce.VARIABLE_LENGTH,30],["99",ce.VARIABLE_LENGTH,30]],ce.THREE_DIGIT_DATA_LENGTH=[["240",ce.VARIABLE_LENGTH,30],["241",ce.VARIABLE_LENGTH,30],["242",ce.VARIABLE_LENGTH,6],["250",ce.VARIABLE_LENGTH,30],["251",ce.VARIABLE_LENGTH,30],["253",ce.VARIABLE_LENGTH,17],["254",ce.VARIABLE_LENGTH,20],["400",ce.VARIABLE_LENGTH,30],["401",ce.VARIABLE_LENGTH,30],["402",17],["403",ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ce.VARIABLE_LENGTH,20],["421",ce.VARIABLE_LENGTH,15],["422",3],["423",ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ce.VARIABLE_LENGTH,15],["391",ce.VARIABLE_LENGTH,18],["392",ce.VARIABLE_LENGTH,15],["393",ce.VARIABLE_LENGTH,18],["703",ce.VARIABLE_LENGTH,30]],ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ce.VARIABLE_LENGTH,20],["8003",ce.VARIABLE_LENGTH,30],["8004",ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ce.VARIABLE_LENGTH,30],["8008",ce.VARIABLE_LENGTH,12],["8018",18],["8020",ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ce.VARIABLE_LENGTH,70],["8200",ce.VARIABLE_LENGTH,70]];class Ss{constructor(s){this.buffer=new xe,this.information=s}decodeAllCodes(s,a){let l=a,u=null;do{let f=this.decodeGeneralPurposeField(l,u),h=ce.parseFieldsInGeneralPurpose(f.getNewString());if(h!=null&&s.append(h),f.isRemaining()?u=""+f.getRemainingValue():u=null,l===f.getNewPosition())break;l=f.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let a=s;a<s+3;++a)if(this.information.get(a))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(s,4);return f===0?new Bn(this.information.getSize(),Bn.FNC1,Bn.FNC1):new Bn(this.information.getSize(),f-1,Bn.FNC1)}let a=this.extractNumericValueFromBitArray(s,7),l=(a-8)/11,u=(a-8)%11;return new Bn(s+7,l,u)}extractNumericValueFromBitArray(s,a){return Ss.extractNumericValueFromBitArray(this.information,s,a)}static extractNumericValueFromBitArray(s,a,l){let u=0;for(let f=0;f<l;++f)s.get(a+f)&&(u|=1<<l-f-1);return u}decodeGeneralPurposeField(s,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(s);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new zi(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new zi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),s=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),s=a.isFinished()):(a=this.parseNumericBlock(),s=a.isFinished()),!(l!==this.current.getPosition())&&!s)break}while(!s);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let a;return s.isSecondDigitFNC1()?a=new zi(this.current.getPosition(),this.buffer.toString()):a=new zi(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Fi(!0,a)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let a=new zi(this.current.getPosition(),this.buffer.toString());return new Fi(!0,a)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new zi(this.current.getPosition(),this.buffer.toString());return new Fi(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new zi(this.current.getPosition(),this.buffer.toString());return new Fi(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fi(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,8);return u>=232&&u<253}decodeIsoIec646(s){let a=this.extractNumericValueFromBitArray(s,5);if(a===15)return new fn(s+5,fn.FNC1);if(a>=5&&a<15)return new fn(s+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new fn(s+7,""+(l+1));if(l>=90&&l<116)return new fn(s+7,""+(l+7));let u=this.extractNumericValueFromBitArray(s,8),f;switch(u){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new L}return new fn(s+8,f)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let a=this.extractNumericValueFromBitArray(s,5);if(a===15)return new fn(s+5,fn.FNC1);if(a>=5&&a<15)return new fn(s+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new fn(s+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new fr("Decoding invalid alphanumeric value: "+l)}return new fn(s+6,u)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<5&&a+s<this.information.getSize();++a)if(a===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+a))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let a=s;a<s+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<4&&a+s<this.information.getSize();++a)if(this.information.get(s+a))return!1;return!0}}class cf{constructor(s){this.information=s,this.generalDecoder=new Ss(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class dn extends cf{constructor(s){super(s)}encodeCompressedGtin(s,a){s.append("(01)");let l=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,a,l)}encodeCompressedGtinWithoutAI(s,a,l){for(let u=0;u<4;++u){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*u,10);f/100===0&&s.append("0"),f/10===0&&s.append("0"),s.append(f)}dn.appendCheckDigit(s,l)}static appendCheckDigit(s,a){let l=0;for(let u=0;u<13;u++){let f=s.charAt(u+a).charCodeAt(0)-"0".charCodeAt(0);l+=u&1?f:3*f}l=10-l%10,l===10&&(l=0),s.append(l)}}dn.GTIN_SIZE=40;class As extends dn{constructor(s){super(s)}parseInformation(){let s=new xe;s.append("(01)");let a=s.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(As.HEADER_SIZE,4);return s.append(l),this.encodeCompressedGtinWithoutAI(s,As.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(s,As.HEADER_SIZE+44)}}As.HEADER_SIZE=1+1+2;class _l extends cf{constructor(s){super(s)}parseInformation(){let s=new xe;return this.getGeneralDecoder().decodeAllCodes(s,_l.HEADER_SIZE)}}_l.HEADER_SIZE=2+1+2;class Cl extends dn{constructor(s){super(s)}encodeCompressedWeight(s,a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(s,u);let f=this.checkWeight(u),h=1e5;for(let m=0;m<5;++m)f/h===0&&s.append("0"),h/=10;s.append(f)}}class hr extends Cl{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=hr.HEADER_SIZE+Cl.GTIN_SIZE+hr.WEIGHT_SIZE)throw new X;let s=new xe;return this.encodeCompressedGtin(s,hr.HEADER_SIZE),this.encodeCompressedWeight(s,hr.HEADER_SIZE+Cl.GTIN_SIZE,hr.WEIGHT_SIZE),s.toString()}}hr.HEADER_SIZE=4+1,hr.WEIGHT_SIZE=15;class Iv extends hr{constructor(s){super(s)}addWeightCode(s,a){s.append("(3103)")}checkWeight(s){return s}}class Ov extends hr{constructor(s){super(s)}addWeightCode(s,a){a<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class gr extends dn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<gr.HEADER_SIZE+dn.GTIN_SIZE)throw new X;let s=new xe;this.encodeCompressedGtin(s,gr.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(gr.HEADER_SIZE+dn.GTIN_SIZE,gr.LAST_DIGIT_SIZE);s.append("(392"),s.append(a),s.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(gr.HEADER_SIZE+dn.GTIN_SIZE+gr.LAST_DIGIT_SIZE,null);return s.append(l.getNewString()),s.toString()}}gr.HEADER_SIZE=5+1+2,gr.LAST_DIGIT_SIZE=2;class rn extends dn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<rn.HEADER_SIZE+dn.GTIN_SIZE)throw new X;let s=new xe;this.encodeCompressedGtin(s,rn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(rn.HEADER_SIZE+dn.GTIN_SIZE,rn.LAST_DIGIT_SIZE);s.append("(393"),s.append(a),s.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(rn.HEADER_SIZE+dn.GTIN_SIZE+rn.LAST_DIGIT_SIZE,rn.FIRST_THREE_DIGITS_SIZE);l/100==0&&s.append("0"),l/10==0&&s.append("0"),s.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(rn.HEADER_SIZE+dn.GTIN_SIZE+rn.LAST_DIGIT_SIZE+rn.FIRST_THREE_DIGITS_SIZE,null);return s.append(u.getNewString()),s.toString()}}rn.HEADER_SIZE=5+1+2,rn.LAST_DIGIT_SIZE=2,rn.FIRST_THREE_DIGITS_SIZE=10;class it extends Cl{constructor(s,a,l){super(s),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=it.HEADER_SIZE+it.GTIN_SIZE+it.WEIGHT_SIZE+it.DATE_SIZE)throw new X;let s=new xe;return this.encodeCompressedGtin(s,it.HEADER_SIZE),this.encodeCompressedWeight(s,it.HEADER_SIZE+it.GTIN_SIZE,it.WEIGHT_SIZE),this.encodeCompressedDate(s,it.HEADER_SIZE+it.GTIN_SIZE+it.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,it.DATE_SIZE);if(l==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let u=l%32;l/=32;let f=l%12+1;l/=12;let h=l;h/10==0&&s.append("0"),s.append(h),f/10==0&&s.append("0"),s.append(f),u/10==0&&s.append("0"),s.append(u)}addWeightCode(s,a){s.append("("),s.append(this.firstAIdigits),s.append(a/1e5),s.append(")")}checkWeight(s){return s%1e5}}it.HEADER_SIZE=7+1,it.WEIGHT_SIZE=20,it.DATE_SIZE=16;function V1(C){try{if(C.get(1))return new As(C);if(!C.get(2))return new _l(C);switch(Ss.extractNumericValueFromBitArray(C,1,4)){case 4:return new Iv(C);case 5:return new Ov(C)}switch(Ss.extractNumericValueFromBitArray(C,1,5)){case 12:return new gr(C);case 13:return new rn(C)}switch(Ss.extractNumericValueFromBitArray(C,1,7)){case 56:return new it(C,"310","11");case 57:return new it(C,"320","11");case 58:return new it(C,"310","13");case 59:return new it(C,"320","13");case 60:return new it(C,"310","15");case 61:return new it(C,"320","15");case 62:return new it(C,"310","17");case 63:return new it(C,"320","17")}}catch(s){throw console.log(s),new fr("unknown decoder: "+C)}}class Qr{constructor(s,a,l,u){this.leftchar=s,this.rightchar=a,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,a){return s instanceof Qr?Qr.equalsOrNull(s.leftchar,a.leftchar)&&Qr.equalsOrNull(s.rightchar,a.rightchar)&&Qr.equalsOrNull(s.finderpattern,a.finderpattern):!1}static equalsOrNull(s,a){return s===null?a===null:Qr.equals(s,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class uf{constructor(s,a,l){this.pairs=s,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,a){return s instanceof uf?this.checkEqualitity(s,a)&&s.wasReversed===a.wasReversed:!1}checkEqualitity(s,a){if(!s||!a)return;let l;return s.forEach((u,f)=>{a.forEach(h=>{u.getLeftChar().getValue()===h.getLeftChar().getValue()&&u.getRightChar().getValue()===h.getRightChar().getValue()&&u.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(l=!0)})}),l}}class K extends Zt{constructor(s){super(...arguments),this.pairs=new Array(K.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,a,l){this.pairs.length=0,this.startFromEven=!1;try{return K.constructResult(this.decodeRow2pairs(s,a))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,K.constructResult(this.decodeRow2pairs(s,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,s))}catch(f){if(f instanceof X){if(!this.pairs.length)throw new X;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(s,!1),u){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new X}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),a}checkRows(s,a){for(let l=a;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let h of s)this.pairs.push(h.getPairs());if(this.pairs.push(u.getPairs()),!K.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(s);f.push(u);try{return this.checkRows(f,l+1)}catch(h){this.verbose&&console.log(h)}}throw new X}static isValidSequence(s){for(let a of K.FINDER_PATTERN_SEQUENCES){if(s.length>a.length)continue;let l=!0;for(let u=0;u<s.length;u++)if(s[u].getFinderPattern().getValue()!=a[u]){l=!1;break}if(l)return!0}return!1}storeRow(s,a){let l=0,u=!1,f=!1;for(;l<this.rows.length;){let h=this.rows[l];if(h.getRowNumber()>s){f=h.isEquivalent(this.pairs);break}u=h.isEquivalent(this.pairs),l++}f||u||K.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new uf(this.pairs,s,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,a){for(let l of a)if(l.getPairs().length!==s.length){for(let u of l.getPairs())for(let f of s)if(Qr.equals(u,f))break}}static isPartialRow(s,a){for(let l of a){let u=!0;for(let f of s){let h=!1;for(let m of l.getPairs())if(f.equals(m)){h=!0;break}if(!h){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(s){let a=Av.buildBitArray(s),u=V1(a).parseInformation(),f=s[0].getFinderPattern().getResultPoints(),h=s[s.length-1].getFinderPattern().getResultPoints(),m=[f[0],f[1],h[0],h[1]];return new Me(u,null,null,m,ie.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),a=s.getLeftChar(),l=s.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),f=2;for(let m=1;m<this.pairs.size();++m){let x=this.pairs.get(m);u+=x.getLeftChar().getChecksumPortion(),f++;let w=x.getRightChar();w!=null&&(u+=w.getChecksumPortion(),f++)}return u%=211,211*(f-4)+u==a.getValue()}static getNextSecondBar(s,a){let l;return s.get(a)?(l=s.getNextUnset(a),l=s.getNextSet(l)):(l=s.getNextSet(a),l=s.getNextUnset(l)),l}retrieveNextPair(s,a,l){let u=a.length%2==0;this.startFromEven&&(u=!u);let f,h=!0,m=-1;do this.findNextPair(s,a,m),f=this.parseFoundFinderPattern(s,l,u),f==null?m=K.getNextSecondBar(s,this.startEnd[0]):h=!1;while(h);let x=this.decodeDataCharacter(s,f,u,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new X;let w;try{w=this.decodeDataCharacter(s,f,u,!1)}catch(b){w=null,this.verbose&&console.log(b)}return new Qr(x,w,f,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=s.getSize(),h;l>=0?h=l:this.isEmptyPair(a)?h=0:h=a[a.length-1].getFinderPattern().getStartEnd()[1];let m=a.length%2!=0;this.startFromEven&&(m=!m);let x=!1;for(;h<f&&(x=!s.get(h),!!x);)h++;let w=0,b=h;for(let A=h;A<f;A++)if(s.get(A)!=x)u[w]++;else{if(w==3){if(m&&K.reverseCounters(u),K.isFinderPattern(u)){this.startEnd[0]=b,this.startEnd[1]=A;return}m&&K.reverseCounters(u),b+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,w--}else w++;u[w]=1,x=!x}throw new X}static reverseCounters(s){let a=s.length;for(let l=0;l<a/2;++l){let u=s[l];s[l]=s[a-l-1],s[a-l-1]=u}}parseFoundFinderPattern(s,a,l){let u,f,h;if(l){let w=this.startEnd[0]-1;for(;w>=0&&!s.get(w);)w--;w++,u=this.startEnd[0]-w,f=w,h=this.startEnd[1]}else f=this.startEnd[0],h=s.getNextUnset(this.startEnd[1]+1),u=h-this.startEnd[1];let m=this.getDecodeFinderCounters();S.arraycopy(m,0,m,1,m.length-1),m[0]=u;let x;try{x=this.parseFinderValue(m,K.FINDER_PATTERNS)}catch{return null}return new bl(x,[f,h],f,h,a)}decodeDataCharacter(s,a,l,u){let f=this.getDataCharacterCounters();for(let Ye=0;Ye<f.length;Ye++)f[Ye]=0;if(u)K.recordPatternInReverse(s,a.getStartEnd()[0],f);else{K.recordPattern(s,a.getStartEnd()[1],f);for(let Ye=0,Vt=f.length-1;Ye<Vt;Ye++,Vt--){let Sn=f[Ye];f[Ye]=f[Vt],f[Vt]=Sn}}let h=17,m=ke.sum(new Int32Array(f))/h,x=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(m-x)/x>.3)throw new X;let w=this.getOddCounts(),b=this.getEvenCounts(),A=this.getOddRoundingErrors(),M=this.getEvenRoundingErrors();for(let Ye=0;Ye<f.length;Ye++){let Vt=1*f[Ye]/m,Sn=Vt+.5;if(Sn<1){if(Vt<.3)throw new X;Sn=1}else if(Sn>8){if(Vt>8.7)throw new X;Sn=8}let Rs=Ye/2;Ye&1?(b[Rs]=Sn,M[Rs]=Vt-Sn):(w[Rs]=Sn,A[Rs]=Vt-Sn)}this.adjustOddEvenCounts(h);let P=4*a.getValue()+(l?0:2)+(u?0:1)-1,z=0,U=0;for(let Ye=w.length-1;Ye>=0;Ye--){if(K.isNotA1left(a,l,u)){let Vt=K.WEIGHTS[P][2*Ye];U+=w[Ye]*Vt}z+=w[Ye]}let G=0;for(let Ye=b.length-1;Ye>=0;Ye--)if(K.isNotA1left(a,l,u)){let Vt=K.WEIGHTS[P][2*Ye+1];G+=b[Ye]*Vt}let Z=U+G;if(z&1||z>13||z<4)throw new X;let ee=(13-z)/2,ne=K.SYMBOL_WIDEST[ee],q=9-ne,Ne=dr.getRSSvalue(w,ne,!0),_e=dr.getRSSvalue(b,q,!1),gn=K.EVEN_TOTAL_SUBSET[ee],Jn=K.GSUM[ee],pn=Ne*gn+_e+Jn;return new Cs(pn,Z)}static isNotA1left(s,a,l){return!(s.getValue()==0&&a&&l)}adjustOddEvenCounts(s){let a=ke.sum(new Int32Array(this.getOddCounts())),l=ke.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1;a>13?f=!0:a<4&&(u=!0);let h=!1,m=!1;l>13?m=!0:l<4&&(h=!0);let x=a+l-s,w=(a&1)==1,b=(l&1)==0;if(x==1)if(w){if(b)throw new X;f=!0}else{if(!b)throw new X;m=!0}else if(x==-1)if(w){if(b)throw new X;u=!0}else{if(!b)throw new X;h=!0}else if(x==0){if(w){if(!b)throw new X;a<l?(u=!0,m=!0):(f=!0,h=!0)}else if(b)throw new X}else throw new X;if(u){if(f)throw new X;K.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&K.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new X;K.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&K.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}K.SYMBOL_WIDEST=[7,5,4,3,1],K.EVEN_TOTAL_SUBSET=[4,20,52,104,204],K.GSUM=[0,348,1388,2948,3988],K.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],K.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],K.FINDER_PAT_A=0,K.FINDER_PAT_B=1,K.FINDER_PAT_C=2,K.FINDER_PAT_D=3,K.FINDER_PAT_E=4,K.FINDER_PAT_F=5,K.FINDER_PATTERN_SEQUENCES=[[K.FINDER_PAT_A,K.FINDER_PAT_A],[K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B],[K.FINDER_PAT_A,K.FINDER_PAT_C,K.FINDER_PAT_B,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_C],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F]],K.MAX_PAIRS=11;class Tv extends Cs{constructor(s,a,l){super(s,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class mt extends Zt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,a,l){const u=this.decodePair(a,!1,s,l);mt.addOrTally(this.possibleLeftPairs,u),a.reverse();let f=this.decodePair(a,!0,s,l);mt.addOrTally(this.possibleRightPairs,f),a.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&mt.checkChecksum(h,m))return mt.constructResult(h,m)}throw new X}static addOrTally(s,a){if(a==null)return;let l=!1;for(let u of s)if(u.getValue()===a.getValue()){u.incrementCount(),l=!0;break}l||s.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,a){let l=4537077*s.getValue()+a.getValue(),u=new String(l).toString(),f=new xe;for(let w=13-u.length;w>0;w--)f.append("0");f.append(u);let h=0;for(let w=0;w<13;w++){let b=f.charAt(w).charCodeAt(0)-"0".charCodeAt(0);h+=w&1?b:3*b}h=10-h%10,h===10&&(h=0),f.append(h.toString());let m=s.getFinderPattern().getResultPoints(),x=a.getFinderPattern().getResultPoints();return new Me(f.toString(),null,0,[m[0],m[1],x[0],x[1]],ie.RSS_14,new Date().getTime())}static checkChecksum(s,a){let l=(s.getChecksumPortion()+16*a.getChecksumPortion())%79,u=9*s.getFinderPattern().getValue()+a.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(s,a,l,u){try{let f=this.findFinderPattern(s,a),h=this.parseFoundFinderPattern(s,l,a,f),m=u==null?null:u.get(V.NEED_RESULT_POINT_CALLBACK);if(m!=null){let b=(f[0]+f[1])/2;a&&(b=s.getSize()-1-b),m.foundPossibleResultPoint(new ge(b,l))}let x=this.decodeDataCharacter(s,h,!0),w=this.decodeDataCharacter(s,h,!1);return new Tv(1597*x.getValue()+w.getValue(),x.getChecksumPortion()+4*w.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(s,a,l){let u=this.getDataCharacterCounters();for(let G=0;G<u.length;G++)u[G]=0;if(l)It.recordPatternInReverse(s,a.getStartEnd()[0],u);else{It.recordPattern(s,a.getStartEnd()[1]+1,u);for(let G=0,Z=u.length-1;G<Z;G++,Z--){let ee=u[G];u[G]=u[Z],u[Z]=ee}}let f=l?16:15,h=ke.sum(new Int32Array(u))/f,m=this.getOddCounts(),x=this.getEvenCounts(),w=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let G=0;G<u.length;G++){let Z=u[G]/h,ee=Math.floor(Z+.5);ee<1?ee=1:ee>8&&(ee=8);let ne=Math.floor(G/2);G&1?(x[ne]=ee,b[ne]=Z-ee):(m[ne]=ee,w[ne]=Z-ee)}this.adjustOddEvenCounts(l,f);let A=0,M=0;for(let G=m.length-1;G>=0;G--)M*=9,M+=m[G],A+=m[G];let P=0,z=0;for(let G=x.length-1;G>=0;G--)P*=9,P+=x[G],z+=x[G];let U=M+3*P;if(l){if(A&1||A>12||A<4)throw new X;let G=(12-A)/2,Z=mt.OUTSIDE_ODD_WIDEST[G],ee=9-Z,ne=dr.getRSSvalue(m,Z,!1),q=dr.getRSSvalue(x,ee,!0),Ne=mt.OUTSIDE_EVEN_TOTAL_SUBSET[G],_e=mt.OUTSIDE_GSUM[G];return new Cs(ne*Ne+q+_e,U)}else{if(z&1||z>10||z<4)throw new X;let G=(10-z)/2,Z=mt.INSIDE_ODD_WIDEST[G],ee=9-Z,ne=dr.getRSSvalue(m,Z,!0),q=dr.getRSSvalue(x,ee,!1),Ne=mt.INSIDE_ODD_TOTAL_SUBSET[G],_e=mt.INSIDE_GSUM[G];return new Cs(q*Ne+ne+_e,U)}}findFinderPattern(s,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=s.getSize(),f=!1,h=0;for(;h<u&&(f=!s.get(h),a!==f);)h++;let m=0,x=h;for(let w=h;w<u;w++)if(s.get(w)!==f)l[m]++;else{if(m===3){if(Zt.isFinderPattern(l))return[x,w];x+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,f=!f}throw new X}parseFoundFinderPattern(s,a,l,u){let f=s.get(u[0]),h=u[0]-1;for(;h>=0&&f!==s.get(h);)h--;h++;const m=u[0]-h,x=this.getDecodeFinderCounters(),w=new Int32Array(x.length);S.arraycopy(x,0,w,1,x.length-1),w[0]=m;const b=this.parseFinderValue(w,mt.FINDER_PATTERNS);let A=h,M=u[1];return l&&(A=s.getSize()-1-A,M=s.getSize()-1-M),new bl(b,[h,u[1]],A,M,a)}adjustOddEvenCounts(s,a){let l=ke.sum(new Int32Array(this.getOddCounts())),u=ke.sum(new Int32Array(this.getEvenCounts())),f=!1,h=!1,m=!1,x=!1;s?(l>12?h=!0:l<4&&(f=!0),u>12?x=!0:u<4&&(m=!0)):(l>11?h=!0:l<5&&(f=!0),u>10?x=!0:u<4&&(m=!0));let w=l+u-a,b=(l&1)===(s?1:0),A=(u&1)===1;if(w===1)if(b){if(A)throw new X;h=!0}else{if(!A)throw new X;x=!0}else if(w===-1)if(b){if(A)throw new X;f=!0}else{if(!A)throw new X;m=!0}else if(w===0){if(b){if(!A)throw new X;l<u?(f=!0,x=!0):(h=!0,m=!0)}else if(A)throw new X}else throw new X;if(f){if(h)throw new X;Zt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Zt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(x)throw new X;Zt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Zt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}mt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],mt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],mt.OUTSIDE_GSUM=[0,161,961,2015,2715],mt.INSIDE_GSUM=[0,336,1036,1516],mt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],mt.INSIDE_ODD_WIDEST=[2,4,6,8],mt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Is extends It{constructor(s,a){super(),this.readers=[],this.verbose=a===!0;const l=s?s.get(V.POSSIBLE_FORMATS):null,u=s&&s.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(ie.EAN_13)||l.includes(ie.UPC_A)||l.includes(ie.EAN_8)||l.includes(ie.UPC_E))&&this.readers.push(new af(s)),l.includes(ie.CODE_39)&&this.readers.push(new Tt(u)),l.includes(ie.CODE_128)&&this.readers.push(new se),l.includes(ie.ITF)&&this.readers.push(new Xe),l.includes(ie.RSS_14)&&this.readers.push(new mt),l.includes(ie.RSS_EXPANDED)&&this.readers.push(new K(this.verbose))):(this.readers.push(new af(s)),this.readers.push(new Tt),this.readers.push(new af(s)),this.readers.push(new se),this.readers.push(new Xe),this.readers.push(new mt),this.readers.push(new K(this.verbose)))}decodeRow(s,a,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(s,a,l)}catch{}throw new X}reset(){this.readers.forEach(s=>s.reset())}}class Nv extends At{constructor(s=500,a){super(new Is(a),s,a)}}class We{constructor(s,a,l){this.ecCodewords=s,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ue{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(s,a,l,u,f,h){this.versionNumber=s,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=f,this.ecBlocks=h;let m=0;const x=h.getECCodewords(),w=h.getECBlocks();for(let b of w)m+=b.getCount()*(b.getDataCodewords()+x);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,a){if(s&1||a&1)throw new L;for(let l of Re.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===a)return l;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Re(1,10,10,8,8,new We(5,new Ue(1,3))),new Re(2,12,12,10,10,new We(7,new Ue(1,5))),new Re(3,14,14,12,12,new We(10,new Ue(1,8))),new Re(4,16,16,14,14,new We(12,new Ue(1,12))),new Re(5,18,18,16,16,new We(14,new Ue(1,18))),new Re(6,20,20,18,18,new We(18,new Ue(1,22))),new Re(7,22,22,20,20,new We(20,new Ue(1,30))),new Re(8,24,24,22,22,new We(24,new Ue(1,36))),new Re(9,26,26,24,24,new We(28,new Ue(1,44))),new Re(10,32,32,14,14,new We(36,new Ue(1,62))),new Re(11,36,36,16,16,new We(42,new Ue(1,86))),new Re(12,40,40,18,18,new We(48,new Ue(1,114))),new Re(13,44,44,20,20,new We(56,new Ue(1,144))),new Re(14,48,48,22,22,new We(68,new Ue(1,174))),new Re(15,52,52,24,24,new We(42,new Ue(2,102))),new Re(16,64,64,14,14,new We(56,new Ue(2,140))),new Re(17,72,72,16,16,new We(36,new Ue(4,92))),new Re(18,80,80,18,18,new We(48,new Ue(4,114))),new Re(19,88,88,20,20,new We(56,new Ue(4,144))),new Re(20,96,96,22,22,new We(68,new Ue(4,174))),new Re(21,104,104,24,24,new We(56,new Ue(6,136))),new Re(22,120,120,18,18,new We(68,new Ue(6,175))),new Re(23,132,132,20,20,new We(62,new Ue(8,163))),new Re(24,144,144,22,22,new We(62,new Ue(8,156),new Ue(2,155))),new Re(25,8,18,6,16,new We(7,new Ue(1,5))),new Re(26,8,32,6,14,new We(11,new Ue(1,10))),new Re(27,12,26,10,24,new We(14,new Ue(1,16))),new Re(28,12,36,10,16,new We(18,new Ue(1,22))),new Re(29,16,36,14,16,new We(24,new Ue(1,32))),new Re(30,16,48,14,22,new We(28,new Ue(1,49)))]}}Re.VERSIONS=Re.buildVersions();class ff{constructor(s){const a=s.getHeight();if(a<8||a>144||a&1)throw new L;this.version=ff.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Ce(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const a=s.getHeight(),l=s.getWidth();return Re.getVersionForDimensions(a,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,u=0;const f=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let m=!1,x=!1,w=!1,b=!1;do if(l===f&&u===0&&!m)s[a++]=this.readCorner1(f,h)&255,l-=2,u+=2,m=!0;else if(l===f-2&&u===0&&h&3&&!x)s[a++]=this.readCorner2(f,h)&255,l-=2,u+=2,x=!0;else if(l===f+4&&u===2&&!(h&7)&&!w)s[a++]=this.readCorner3(f,h)&255,l-=2,u+=2,w=!0;else if(l===f-2&&u===0&&(h&7)===4&&!b)s[a++]=this.readCorner4(f,h)&255,l-=2,u+=2,b=!0;else{do l<f&&u>=0&&!this.readMappingMatrix.get(u,l)&&(s[a++]=this.readUtah(l,u,f,h)&255),l-=2,u+=2;while(l>=0&&u<h);l+=1,u+=3;do l>=0&&u<h&&!this.readMappingMatrix.get(u,l)&&(s[a++]=this.readUtah(l,u,f,h)&255),l+=2,u-=2;while(l<f&&u>=0);l+=3,u+=1}while(l<f||u<h);if(a!==this.version.getTotalCodewords())throw new L;return s}readModule(s,a,l,u){return s<0&&(s+=l,a+=4-(l+4&7)),a<0&&(a+=u,s+=4-(u+4&7)),this.readMappingMatrix.set(a,s),this.mappingBitMatrix.get(a,s)}readUtah(s,a,l,u){let f=0;return this.readModule(s-2,a-2,l,u)&&(f|=1),f<<=1,this.readModule(s-2,a-1,l,u)&&(f|=1),f<<=1,this.readModule(s-1,a-2,l,u)&&(f|=1),f<<=1,this.readModule(s-1,a-1,l,u)&&(f|=1),f<<=1,this.readModule(s-1,a,l,u)&&(f|=1),f<<=1,this.readModule(s,a-2,l,u)&&(f|=1),f<<=1,this.readModule(s,a-1,l,u)&&(f|=1),f<<=1,this.readModule(s,a,l,u)&&(f|=1),f}readCorner1(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,1,s,a)&&(l|=1),l<<=1,this.readModule(s-1,2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}readCorner2(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-4,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner3(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-3,s,a)&&(l|=1),l<<=1,this.readModule(1,a-2,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner4(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}extractDataRegion(s){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==a)throw new v("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),h=a/u|0,m=l/f|0,x=h*u,w=m*f,b=new Ce(w,x);for(let A=0;A<h;++A){const M=A*u;for(let P=0;P<m;++P){const z=P*f;for(let U=0;U<u;++U){const G=A*(u+2)+1+U,Z=M+U;for(let ee=0;ee<f;++ee){const ne=P*(f+2)+1+ee;if(s.get(ne,G)){const q=z+ee;b.set(q,Z)}}}}}return b}}class df{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a){const l=a.getECBlocks();let u=0;const f=l.getECBlocks();for(let U of f)u+=U.getCount();const h=new Array(u);let m=0;for(let U of f)for(let G=0;G<U.getCount();G++){const Z=U.getDataCodewords(),ee=l.getECCodewords()+Z;h[m++]=new df(Z,new Uint8Array(ee))}const w=h[0].codewords.length-l.getECCodewords(),b=w-1;let A=0;for(let U=0;U<b;U++)for(let G=0;G<m;G++)h[G].codewords[U]=s[A++];const M=a.getVersionNumber()===24,P=M?8:m;for(let U=0;U<P;U++)h[U].codewords[w-1]=s[A++];const z=h[0].codewords.length;for(let U=w;U<z;U++)for(let G=0;G<m;G++){const Z=M?(G+8)%m:G,ee=M&&Z>7?U-1:U;h[Z].codewords[ee]=s[A++]}if(A!==s.length)throw new v;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class hf{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new v(""+s);let a=0,l=this.bitOffset,u=this.byteOffset;const f=this.bytes;if(l>0){const h=8-l,m=s<h?s:h,x=h-m,w=255>>8-m<<x;a=(f[u]&w)>>x,s-=m,l+=m,l===8&&(l=0,u++)}if(s>0){for(;s>=8;)a=a<<8|f[u]&255,u++,s-=8;if(s>0){const h=8-s,m=255>>h<<h;a=a<<s|(f[u]&m)>>h,l+=s}}return this.bitOffset=l,this.byteOffset=u,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Nt;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(Nt||(Nt={}));class Jr{static decode(s){const a=new hf(s),l=new xe,u=new xe,f=new Array;let h=Nt.ASCII_ENCODE;do if(h===Nt.ASCII_ENCODE)h=this.decodeAsciiSegment(a,l,u);else{switch(h){case Nt.C40_ENCODE:this.decodeC40Segment(a,l);break;case Nt.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case Nt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case Nt.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case Nt.BASE256_ENCODE:this.decodeBase256Segment(a,l,f);break;default:throw new L}h=Nt.ASCII_ENCODE}while(h!==Nt.PAD_ENCODE&&a.available()>0);return u.length()>0&&l.append(u.toString()),new Kr(s,l.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(s,a,l){let u=!1;do{let f=s.readBits(8);if(f===0)throw new L;if(f<=128)return u&&(f+=128),a.append(String.fromCharCode(f-1)),Nt.ASCII_ENCODE;if(f===129)return Nt.PAD_ENCODE;if(f<=229){const h=f-130;h<10&&a.append("0"),a.append(""+h)}else switch(f){case 230:return Nt.C40_ENCODE;case 231:return Nt.BASE256_ENCODE;case 232:a.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:u=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return Nt.ANSIX12_ENCODE;case 239:return Nt.TEXT_ENCODE;case 240:return Nt.EDIFACT_ENCODE;case 241:break;default:if(f!==254||s.available()!==0)throw new L;break}}while(s.available()>0);return Nt.ASCII_ENCODE}static decodeC40Segment(s,a){let l=!1;const u=[];let f=0;do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),u);for(let m=0;m<3;m++){const x=u[m];switch(f){case 0:if(x<3)f=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[x];l?(a.append(String.fromCharCode(w.charCodeAt(0)+128)),l=!1):a.append(w)}else throw new L;break;case 1:l?(a.append(String.fromCharCode(x+128)),l=!1):a.append(String.fromCharCode(x)),f=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[x];l?(a.append(String.fromCharCode(w.charCodeAt(0)+128)),l=!1):a.append(w)}else switch(x){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new L}f=0;break;case 3:l?(a.append(String.fromCharCode(x+224)),l=!1):a.append(String.fromCharCode(x+96)),f=0;break;default:throw new L}}}while(s.available()>0)}static decodeTextSegment(s,a){let l=!1,u=[],f=0;do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),u);for(let m=0;m<3;m++){const x=u[m];switch(f){case 0:if(x<3)f=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[x];l?(a.append(String.fromCharCode(w.charCodeAt(0)+128)),l=!1):a.append(w)}else throw new L;break;case 1:l?(a.append(String.fromCharCode(x+128)),l=!1):a.append(String.fromCharCode(x)),f=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[x];l?(a.append(String.fromCharCode(w.charCodeAt(0)+128)),l=!1):a.append(w)}else switch(x){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new L}f=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[x];l?(a.append(String.fromCharCode(w.charCodeAt(0)+128)),l=!1):a.append(w),f=0}else throw new L;break;default:throw new L}}}while(s.available()>0)}static decodeAnsiX12Segment(s,a){const l=[];do{if(s.available()===8)return;const u=s.readBits(8);if(u===254)return;this.parseTwoBytes(u,s.readBits(8),l);for(let f=0;f<3;f++){const h=l[f];switch(h){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(h<14)a.append(String.fromCharCode(h+44));else if(h<40)a.append(String.fromCharCode(h+51));else throw new L;break}}}while(s.available()>0)}static parseTwoBytes(s,a,l){let u=(s<<8)+a-1,f=Math.floor(u/1600);l[0]=f,u-=f*1600,f=Math.floor(u/40),l[1]=f,l[2]=u-f*40}static decodeEdifactSegment(s,a){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let u=s.readBits(6);if(u===31){const f=8-s.getBitOffset();f!==8&&s.readBits(f);return}u&32||(u|=64),a.append(String.fromCharCode(u))}}while(s.available()>0)}static decodeBase256Segment(s,a,l){let u=1+s.getByteOffset();const f=this.unrandomize255State(s.readBits(8),u++);let h;if(f===0?h=s.available()/8|0:f<250?h=f:h=250*(f-249)+this.unrandomize255State(s.readBits(8),u++),h<0)throw new L;const m=new Uint8Array(h);for(let x=0;x<h;x++){if(s.available()<8)throw new L;m[x]=this.unrandomize255State(s.readBits(8),u++)}l.push(m);try{a.append(oe.decode(m,te.ISO88591))}catch(x){throw new fr("Platform does not support required encoding: "+x.message)}}static unrandomize255State(s,a){const l=149*a%255+1,u=s-l;return u>=0?u:u+256}}Jr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Jr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Jr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Jr.TEXT_SHIFT2_SET_CHARS=Jr.C40_SHIFT2_SET_CHARS,Jr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Rv{constructor(){this.rsDecoder=new To(Te.DATA_MATRIX_FIELD_256)}decode(s){const a=new ff(s),l=a.getVersion(),u=a.readCodewords(),f=df.getDataBlocks(u,l);let h=0;for(let w of f)h+=w.getNumDataCodewords();const m=new Uint8Array(h),x=f.length;for(let w=0;w<x;w++){const b=f[w],A=b.getCodewords(),M=b.getNumDataCodewords();this.correctErrors(A,M);for(let P=0;P<M;P++)m[P*x+w]=A[P]}return Jr.decode(m)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new _}for(let u=0;u<a;u++)s[u]=l[u]}}class _t{constructor(s){this.image=s,this.rectangleDetector=new Nr(this.image)}detect(){const s=this.rectangleDetector.detect();let a=this.detectSolid1(s);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new X;a=this.shiftToModuleCenter(a);const l=a[0],u=a[1],f=a[2],h=a[3];let m=this.transitionsBetween(l,h)+1,x=this.transitionsBetween(f,h)+1;(m&1)===1&&(m+=1),(x&1)===1&&(x+=1),4*m<7*x&&4*x<7*m&&(m=x=Math.max(m,x));let w=_t.sampleGrid(this.image,l,u,f,h,m,x);return new vl(w,[l,u,f,h])}static shiftPoint(s,a,l){let u=(a.getX()-s.getX())/(l+1),f=(a.getY()-s.getY())/(l+1);return new ge(s.getX()+u,s.getY()+f)}static moveAway(s,a,l){let u=s.getX(),f=s.getY();return u<a?u-=1:u+=1,f<l?f-=1:f+=1,new ge(u,f)}detectSolid1(s){let a=s[0],l=s[1],u=s[3],f=s[2],h=this.transitionsBetween(a,l),m=this.transitionsBetween(l,u),x=this.transitionsBetween(u,f),w=this.transitionsBetween(f,a),b=h,A=[f,a,l,u];return b>m&&(b=m,A[0]=a,A[1]=l,A[2]=u,A[3]=f),b>x&&(b=x,A[0]=l,A[1]=u,A[2]=f,A[3]=a),b>w&&(A[0]=u,A[1]=f,A[2]=a,A[3]=l),A}detectSolid2(s){let a=s[0],l=s[1],u=s[2],f=s[3],h=this.transitionsBetween(a,f),m=_t.shiftPoint(l,u,(h+1)*4),x=_t.shiftPoint(u,l,(h+1)*4),w=this.transitionsBetween(m,a),b=this.transitionsBetween(x,f);return w<b?(s[0]=a,s[1]=l,s[2]=u,s[3]=f):(s[0]=l,s[1]=u,s[2]=f,s[3]=a),s}correctTopRight(s){let a=s[0],l=s[1],u=s[2],f=s[3],h=this.transitionsBetween(a,f),m=this.transitionsBetween(l,f),x=_t.shiftPoint(a,l,(m+1)*4),w=_t.shiftPoint(u,l,(h+1)*4);h=this.transitionsBetween(x,f),m=this.transitionsBetween(w,f);let b=new ge(f.getX()+(u.getX()-l.getX())/(h+1),f.getY()+(u.getY()-l.getY())/(h+1)),A=new ge(f.getX()+(a.getX()-l.getX())/(m+1),f.getY()+(a.getY()-l.getY())/(m+1));if(!this.isValid(b))return this.isValid(A)?A:null;if(!this.isValid(A))return b;let M=this.transitionsBetween(x,b)+this.transitionsBetween(w,b),P=this.transitionsBetween(x,A)+this.transitionsBetween(w,A);return M>P?b:A}shiftToModuleCenter(s){let a=s[0],l=s[1],u=s[2],f=s[3],h=this.transitionsBetween(a,f)+1,m=this.transitionsBetween(u,f)+1,x=_t.shiftPoint(a,l,m*4),w=_t.shiftPoint(u,l,h*4);h=this.transitionsBetween(x,f)+1,m=this.transitionsBetween(w,f)+1,(h&1)===1&&(h+=1),(m&1)===1&&(m+=1);let b=(a.getX()+l.getX()+u.getX()+f.getX())/4,A=(a.getY()+l.getY()+u.getY()+f.getY())/4;a=_t.moveAway(a,b,A),l=_t.moveAway(l,b,A),u=_t.moveAway(u,b,A),f=_t.moveAway(f,b,A);let M,P;return x=_t.shiftPoint(a,l,m*4),x=_t.shiftPoint(x,f,h*4),M=_t.shiftPoint(l,a,m*4),M=_t.shiftPoint(M,u,h*4),w=_t.shiftPoint(u,f,m*4),w=_t.shiftPoint(w,l,h*4),P=_t.shiftPoint(f,u,m*4),P=_t.shiftPoint(P,a,h*4),[x,M,w,P]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,a,l,u,f,h,m){return qr.getInstance().sampleGrid(s,h,m,.5,.5,h-.5,.5,h-.5,m-.5,.5,m-.5,a.getX(),a.getY(),f.getX(),f.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(s,a){let l=Math.trunc(s.getX()),u=Math.trunc(s.getY()),f=Math.trunc(a.getX()),h=Math.trunc(a.getY()),m=Math.abs(h-u)>Math.abs(f-l);if(m){let U=l;l=u,u=U,U=f,f=h,h=U}let x=Math.abs(f-l),w=Math.abs(h-u),b=-x/2,A=u<h?1:-1,M=l<f?1:-1,P=0,z=this.image.get(m?u:l,m?l:u);for(let U=l,G=u;U!==f;U+=M){let Z=this.image.get(m?G:U,m?U:G);if(Z!==z&&(P++,z=Z),b+=w,b>0){if(G===h)break;G+=A,b-=x}}return P}}class ei{constructor(){this.decoder=new Rv}decode(s,a=null){let l,u;if(a!=null&&a.has(V.PURE_BARCODE)){const w=ei.extractPureBits(s.getBlackMatrix());l=this.decoder.decode(w),u=ei.NO_POINTS}else{const w=new _t(s.getBlackMatrix()).detect();l=this.decoder.decode(w.getBits()),u=w.getPoints()}const f=l.getRawBytes(),h=new Me(l.getText(),f,8*f.length,u,ie.DATA_MATRIX,S.currentTimeMillis()),m=l.getByteSegments();m!=null&&h.putMetadata(gt.BYTE_SEGMENTS,m);const x=l.getECLevel();return x!=null&&h.putMetadata(gt.ERROR_CORRECTION_LEVEL,x),h}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(a==null||l==null)throw new X;const u=this.moduleSize(a,s);let f=a[1];const h=l[1];let m=a[0];const w=(l[0]-m+1)/u,b=(h-f+1)/u;if(w<=0||b<=0)throw new X;const A=u/2;f+=A,m+=A;const M=new Ce(w,b);for(let P=0;P<b;P++){const z=f+P*u;for(let U=0;U<w;U++)s.get(m+U*u,z)&&M.set(U,P)}return M}static moduleSize(s,a){const l=a.getWidth();let u=s[0];const f=s[1];for(;u<l&&a.get(u,f);)u++;if(u===l)throw new X;const h=u-s[0];if(h===0)throw new X;return h}}ei.NO_POINTS=[];class Mv extends At{constructor(s=500){super(new ei,s)}}var Os;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(Os||(Os={}));class Ke{constructor(s,a,l){this.value=s,this.stringValue=a,this.bits=l,Ke.FOR_BITS.set(l,this),Ke.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Ke.L;case"M":return Ke.M;case"Q":return Ke.Q;case"H":return Ke.H;default:throw new y(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Ke))return!1;const a=s;return this.value===a.value}static forBits(s){if(s<0||s>=Ke.FOR_BITS.size)throw new v;return Ke.FOR_BITS.get(s)}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.L=new Ke(Os.L,"L",1),Ke.M=new Ke(Os.M,"M",0),Ke.Q=new Ke(Os.Q,"Q",3),Ke.H=new Ke(Os.H,"H",2);class Kt{constructor(s){this.errorCorrectionLevel=Ke.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,a){return R.bitCount(s^a)}static decodeFormatInformation(s,a){const l=Kt.doDecodeFormatInformation(s,a);return l!==null?l:Kt.doDecodeFormatInformation(s^Kt.FORMAT_INFO_MASK_QR,a^Kt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,a){let l=Number.MAX_SAFE_INTEGER,u=0;for(const f of Kt.FORMAT_INFO_DECODE_LOOKUP){const h=f[0];if(h===s||h===a)return new Kt(f[1]);let m=Kt.numBitsDiffering(s,h);m<l&&(u=f[1],l=m),s!==a&&(m=Kt.numBitsDiffering(a,h),m<l&&(u=f[1],l=m))}return l<=3?new Kt(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Kt))return!1;const a=s;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Kt.FORMAT_INFO_MASK_QR=21522,Kt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ${constructor(s,...a){this.ecCodewordsPerBlock=s,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const a=this.ecBlocks;for(const l of a)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class me{constructor(s,a,...l){this.versionNumber=s,this.alignmentPatternCenters=a,this.ecBlocks=l;let u=0;const f=l[0].getECCodewordsPerBlock(),h=l[0].getECBlocks();for(const m of h)u+=m.getCount()*(m.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new L;try{return this.getVersionForNumber((s-17)/4)}catch{throw new L}}static getVersionForNumber(s){if(s<1||s>40)throw new v;return me.VERSIONS[s-1]}static decodeVersionInformation(s){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<me.VERSION_DECODE_INFO.length;u++){const f=me.VERSION_DECODE_INFO[u];if(f===s)return me.getVersionForNumber(u+7);const h=Kt.numBitsDiffering(s,f);h<a&&(l=u+7,a=h)}return a<=3?me.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),a=new Ce(s);a.setRegion(0,0,9,9),a.setRegion(s-8,0,8,9),a.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const f=this.alignmentPatternCenters[u]-2;for(let h=0;h<l;h++)u===0&&(h===0||h===l-1)||u===l-1&&h===0||a.setRegion(this.alignmentPatternCenters[h]-2,f,5,5)}return a.setRegion(6,9,1,s-17),a.setRegion(9,6,s-17,1),this.versionNumber>6&&(a.setRegion(s-11,0,3,6),a.setRegion(0,s-11,6,3)),a}toString(){return""+this.versionNumber}}me.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),me.VERSIONS=[new me(1,new Int32Array(0),new $(7,new D(1,19)),new $(10,new D(1,16)),new $(13,new D(1,13)),new $(17,new D(1,9))),new me(2,Int32Array.from([6,18]),new $(10,new D(1,34)),new $(16,new D(1,28)),new $(22,new D(1,22)),new $(28,new D(1,16))),new me(3,Int32Array.from([6,22]),new $(15,new D(1,55)),new $(26,new D(1,44)),new $(18,new D(2,17)),new $(22,new D(2,13))),new me(4,Int32Array.from([6,26]),new $(20,new D(1,80)),new $(18,new D(2,32)),new $(26,new D(2,24)),new $(16,new D(4,9))),new me(5,Int32Array.from([6,30]),new $(26,new D(1,108)),new $(24,new D(2,43)),new $(18,new D(2,15),new D(2,16)),new $(22,new D(2,11),new D(2,12))),new me(6,Int32Array.from([6,34]),new $(18,new D(2,68)),new $(16,new D(4,27)),new $(24,new D(4,19)),new $(28,new D(4,15))),new me(7,Int32Array.from([6,22,38]),new $(20,new D(2,78)),new $(18,new D(4,31)),new $(18,new D(2,14),new D(4,15)),new $(26,new D(4,13),new D(1,14))),new me(8,Int32Array.from([6,24,42]),new $(24,new D(2,97)),new $(22,new D(2,38),new D(2,39)),new $(22,new D(4,18),new D(2,19)),new $(26,new D(4,14),new D(2,15))),new me(9,Int32Array.from([6,26,46]),new $(30,new D(2,116)),new $(22,new D(3,36),new D(2,37)),new $(20,new D(4,16),new D(4,17)),new $(24,new D(4,12),new D(4,13))),new me(10,Int32Array.from([6,28,50]),new $(18,new D(2,68),new D(2,69)),new $(26,new D(4,43),new D(1,44)),new $(24,new D(6,19),new D(2,20)),new $(28,new D(6,15),new D(2,16))),new me(11,Int32Array.from([6,30,54]),new $(20,new D(4,81)),new $(30,new D(1,50),new D(4,51)),new $(28,new D(4,22),new D(4,23)),new $(24,new D(3,12),new D(8,13))),new me(12,Int32Array.from([6,32,58]),new $(24,new D(2,92),new D(2,93)),new $(22,new D(6,36),new D(2,37)),new $(26,new D(4,20),new D(6,21)),new $(28,new D(7,14),new D(4,15))),new me(13,Int32Array.from([6,34,62]),new $(26,new D(4,107)),new $(22,new D(8,37),new D(1,38)),new $(24,new D(8,20),new D(4,21)),new $(22,new D(12,11),new D(4,12))),new me(14,Int32Array.from([6,26,46,66]),new $(30,new D(3,115),new D(1,116)),new $(24,new D(4,40),new D(5,41)),new $(20,new D(11,16),new D(5,17)),new $(24,new D(11,12),new D(5,13))),new me(15,Int32Array.from([6,26,48,70]),new $(22,new D(5,87),new D(1,88)),new $(24,new D(5,41),new D(5,42)),new $(30,new D(5,24),new D(7,25)),new $(24,new D(11,12),new D(7,13))),new me(16,Int32Array.from([6,26,50,74]),new $(24,new D(5,98),new D(1,99)),new $(28,new D(7,45),new D(3,46)),new $(24,new D(15,19),new D(2,20)),new $(30,new D(3,15),new D(13,16))),new me(17,Int32Array.from([6,30,54,78]),new $(28,new D(1,107),new D(5,108)),new $(28,new D(10,46),new D(1,47)),new $(28,new D(1,22),new D(15,23)),new $(28,new D(2,14),new D(17,15))),new me(18,Int32Array.from([6,30,56,82]),new $(30,new D(5,120),new D(1,121)),new $(26,new D(9,43),new D(4,44)),new $(28,new D(17,22),new D(1,23)),new $(28,new D(2,14),new D(19,15))),new me(19,Int32Array.from([6,30,58,86]),new $(28,new D(3,113),new D(4,114)),new $(26,new D(3,44),new D(11,45)),new $(26,new D(17,21),new D(4,22)),new $(26,new D(9,13),new D(16,14))),new me(20,Int32Array.from([6,34,62,90]),new $(28,new D(3,107),new D(5,108)),new $(26,new D(3,41),new D(13,42)),new $(30,new D(15,24),new D(5,25)),new $(28,new D(15,15),new D(10,16))),new me(21,Int32Array.from([6,28,50,72,94]),new $(28,new D(4,116),new D(4,117)),new $(26,new D(17,42)),new $(28,new D(17,22),new D(6,23)),new $(30,new D(19,16),new D(6,17))),new me(22,Int32Array.from([6,26,50,74,98]),new $(28,new D(2,111),new D(7,112)),new $(28,new D(17,46)),new $(30,new D(7,24),new D(16,25)),new $(24,new D(34,13))),new me(23,Int32Array.from([6,30,54,78,102]),new $(30,new D(4,121),new D(5,122)),new $(28,new D(4,47),new D(14,48)),new $(30,new D(11,24),new D(14,25)),new $(30,new D(16,15),new D(14,16))),new me(24,Int32Array.from([6,28,54,80,106]),new $(30,new D(6,117),new D(4,118)),new $(28,new D(6,45),new D(14,46)),new $(30,new D(11,24),new D(16,25)),new $(30,new D(30,16),new D(2,17))),new me(25,Int32Array.from([6,32,58,84,110]),new $(26,new D(8,106),new D(4,107)),new $(28,new D(8,47),new D(13,48)),new $(30,new D(7,24),new D(22,25)),new $(30,new D(22,15),new D(13,16))),new me(26,Int32Array.from([6,30,58,86,114]),new $(28,new D(10,114),new D(2,115)),new $(28,new D(19,46),new D(4,47)),new $(28,new D(28,22),new D(6,23)),new $(30,new D(33,16),new D(4,17))),new me(27,Int32Array.from([6,34,62,90,118]),new $(30,new D(8,122),new D(4,123)),new $(28,new D(22,45),new D(3,46)),new $(30,new D(8,23),new D(26,24)),new $(30,new D(12,15),new D(28,16))),new me(28,Int32Array.from([6,26,50,74,98,122]),new $(30,new D(3,117),new D(10,118)),new $(28,new D(3,45),new D(23,46)),new $(30,new D(4,24),new D(31,25)),new $(30,new D(11,15),new D(31,16))),new me(29,Int32Array.from([6,30,54,78,102,126]),new $(30,new D(7,116),new D(7,117)),new $(28,new D(21,45),new D(7,46)),new $(30,new D(1,23),new D(37,24)),new $(30,new D(19,15),new D(26,16))),new me(30,Int32Array.from([6,26,52,78,104,130]),new $(30,new D(5,115),new D(10,116)),new $(28,new D(19,47),new D(10,48)),new $(30,new D(15,24),new D(25,25)),new $(30,new D(23,15),new D(25,16))),new me(31,Int32Array.from([6,30,56,82,108,134]),new $(30,new D(13,115),new D(3,116)),new $(28,new D(2,46),new D(29,47)),new $(30,new D(42,24),new D(1,25)),new $(30,new D(23,15),new D(28,16))),new me(32,Int32Array.from([6,34,60,86,112,138]),new $(30,new D(17,115)),new $(28,new D(10,46),new D(23,47)),new $(30,new D(10,24),new D(35,25)),new $(30,new D(19,15),new D(35,16))),new me(33,Int32Array.from([6,30,58,86,114,142]),new $(30,new D(17,115),new D(1,116)),new $(28,new D(14,46),new D(21,47)),new $(30,new D(29,24),new D(19,25)),new $(30,new D(11,15),new D(46,16))),new me(34,Int32Array.from([6,34,62,90,118,146]),new $(30,new D(13,115),new D(6,116)),new $(28,new D(14,46),new D(23,47)),new $(30,new D(44,24),new D(7,25)),new $(30,new D(59,16),new D(1,17))),new me(35,Int32Array.from([6,30,54,78,102,126,150]),new $(30,new D(12,121),new D(7,122)),new $(28,new D(12,47),new D(26,48)),new $(30,new D(39,24),new D(14,25)),new $(30,new D(22,15),new D(41,16))),new me(36,Int32Array.from([6,24,50,76,102,128,154]),new $(30,new D(6,121),new D(14,122)),new $(28,new D(6,47),new D(34,48)),new $(30,new D(46,24),new D(10,25)),new $(30,new D(2,15),new D(64,16))),new me(37,Int32Array.from([6,28,54,80,106,132,158]),new $(30,new D(17,122),new D(4,123)),new $(28,new D(29,46),new D(14,47)),new $(30,new D(49,24),new D(10,25)),new $(30,new D(24,15),new D(46,16))),new me(38,Int32Array.from([6,32,58,84,110,136,162]),new $(30,new D(4,122),new D(18,123)),new $(28,new D(13,46),new D(32,47)),new $(30,new D(48,24),new D(14,25)),new $(30,new D(42,15),new D(32,16))),new me(39,Int32Array.from([6,26,54,82,110,138,166]),new $(30,new D(20,117),new D(4,118)),new $(28,new D(40,47),new D(7,48)),new $(30,new D(43,24),new D(22,25)),new $(30,new D(10,15),new D(67,16))),new me(40,Int32Array.from([6,30,58,86,114,142,170]),new $(30,new D(19,118),new D(6,119)),new $(28,new D(18,47),new D(31,48)),new $(30,new D(34,24),new D(34,25)),new $(30,new D(20,15),new D(61,16)))];var Dt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(Dt||(Dt={}));class Fn{constructor(s,a){this.value=s,this.isMasked=a}unmaskBitMatrix(s,a){for(let l=0;l<a;l++)for(let u=0;u<a;u++)this.isMasked(l,u)&&s.flip(u,l)}}Fn.values=new Map([[Dt.DATA_MASK_000,new Fn(Dt.DATA_MASK_000,(C,s)=>(C+s&1)===0)],[Dt.DATA_MASK_001,new Fn(Dt.DATA_MASK_001,(C,s)=>(C&1)===0)],[Dt.DATA_MASK_010,new Fn(Dt.DATA_MASK_010,(C,s)=>s%3===0)],[Dt.DATA_MASK_011,new Fn(Dt.DATA_MASK_011,(C,s)=>(C+s)%3===0)],[Dt.DATA_MASK_100,new Fn(Dt.DATA_MASK_100,(C,s)=>(Math.floor(C/2)+Math.floor(s/3)&1)===0)],[Dt.DATA_MASK_101,new Fn(Dt.DATA_MASK_101,(C,s)=>C*s%6===0)],[Dt.DATA_MASK_110,new Fn(Dt.DATA_MASK_110,(C,s)=>C*s%6<3)],[Dt.DATA_MASK_111,new Fn(Dt.DATA_MASK_111,(C,s)=>(C+s+C*s%3&1)===0)]]);class kv{constructor(s){const a=s.getHeight();if(a<21||(a&3)!==1)throw new L;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let f=0;f<6;f++)s=this.copyBit(f,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let f=5;f>=0;f--)s=this.copyBit(8,f,s);const a=this.bitMatrix.getHeight();let l=0;const u=a-7;for(let f=a-1;f>=u;f--)l=this.copyBit(8,f,l);for(let f=a-8;f<a;f++)l=this.copyBit(f,8,l);if(this.parsedFormatInfo=Kt.decodeFormatInformation(s,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),a=Math.floor((s-17)/4);if(a<=6)return me.getVersionForNumber(a);let l=0;const u=s-11;for(let h=5;h>=0;h--)for(let m=s-9;m>=u;m--)l=this.copyBit(m,h,l);let f=me.decodeVersionInformation(l);if(f!==null&&f.getDimensionForVersion()===s)return this.parsedVersion=f,f;l=0;for(let h=5;h>=0;h--)for(let m=s-9;m>=u;m--)l=this.copyBit(h,m,l);if(f=me.decodeVersionInformation(l),f!==null&&f.getDimensionForVersion()===s)return this.parsedVersion=f,f;throw new L}copyBit(s,a,l){return(this.isMirror?this.bitMatrix.get(a,s):this.bitMatrix.get(s,a))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),a=this.readVersion(),l=Fn.values.get(s.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const f=a.buildFunctionPattern();let h=!0;const m=new Uint8Array(a.getTotalCodewords());let x=0,w=0,b=0;for(let A=u-1;A>0;A-=2){A===6&&A--;for(let M=0;M<u;M++){const P=h?u-1-M:M;for(let z=0;z<2;z++)f.get(A-z,P)||(b++,w<<=1,this.bitMatrix.get(A-z,P)&&(w|=1),b===8&&(m[x++]=w,b=0,w=0))}h=!h}if(x!==a.getTotalCodewords())throw new L;return m}remask(){if(this.parsedFormatInfo===null)return;const s=Fn.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let a=0,l=s.getWidth();a<l;a++)for(let u=a+1,f=s.getHeight();u<f;u++)s.get(a,u)!==s.get(u,a)&&(s.flip(u,a),s.flip(a,u))}}class gf{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a,l){if(s.length!==a.getTotalCodewords())throw new v;const u=a.getECBlocksForLevel(l);let f=0;const h=u.getECBlocks();for(const z of h)f+=z.getCount();const m=new Array(f);let x=0;for(const z of h)for(let U=0;U<z.getCount();U++){const G=z.getDataCodewords(),Z=u.getECCodewordsPerBlock()+G;m[x++]=new gf(G,new Uint8Array(Z))}const w=m[0].codewords.length;let b=m.length-1;for(;b>=0&&m[b].codewords.length!==w;)b--;b++;const A=w-u.getECCodewordsPerBlock();let M=0;for(let z=0;z<A;z++)for(let U=0;U<x;U++)m[U].codewords[z]=s[M++];for(let z=b;z<x;z++)m[z].codewords[A]=s[M++];const P=m[0].codewords.length;for(let z=A;z<P;z++)for(let U=0;U<x;U++){const G=U<b?z:z+1;m[U].codewords[G]=s[M++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var zn;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(zn||(zn={}));class ye{constructor(s,a,l,u){this.value=s,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=u,ye.FOR_BITS.set(u,this),ye.FOR_VALUE.set(s,this)}static forBits(s){const a=ye.FOR_BITS.get(s);if(a===void 0)throw new v;return a}getCharacterCountBits(s){const a=s.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof ye))return!1;const a=s;return this.value===a.value}toString(){return this.stringValue}}ye.FOR_BITS=new Map,ye.FOR_VALUE=new Map,ye.TERMINATOR=new ye(zn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ye.NUMERIC=new ye(zn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ye.ALPHANUMERIC=new ye(zn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ye.STRUCTURED_APPEND=new ye(zn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ye.BYTE=new ye(zn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ye.ECI=new ye(zn.ECI,"ECI",Int32Array.from([0,0,0]),7),ye.KANJI=new ye(zn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ye.FNC1_FIRST_POSITION=new ye(zn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ye.FNC1_SECOND_POSITION=new ye(zn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ye.HANZI=new ye(zn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class lt{static decode(s,a,l,u){const f=new hf(s);let h=new xe;const m=new Array;let x=-1,w=-1;try{let b=null,A=!1,M;do{if(f.available()<4)M=ye.TERMINATOR;else{const P=f.readBits(4);M=ye.forBits(P)}switch(M){case ye.TERMINATOR:break;case ye.FNC1_FIRST_POSITION:case ye.FNC1_SECOND_POSITION:A=!0;break;case ye.STRUCTURED_APPEND:if(f.available()<16)throw new L;x=f.readBits(8),w=f.readBits(8);break;case ye.ECI:const P=lt.parseECIValue(f);if(b=H.getCharacterSetECIByValue(P),b===null)throw new L;break;case ye.HANZI:const z=f.readBits(4),U=f.readBits(M.getCharacterCountBits(a));z===lt.GB2312_SUBSET&&lt.decodeHanziSegment(f,h,U);break;default:const G=f.readBits(M.getCharacterCountBits(a));switch(M){case ye.NUMERIC:lt.decodeNumericSegment(f,h,G);break;case ye.ALPHANUMERIC:lt.decodeAlphanumericSegment(f,h,G,A);break;case ye.BYTE:lt.decodeByteSegment(f,h,G,b,m,u);break;case ye.KANJI:lt.decodeKanjiSegment(f,h,G);break;default:throw new L}break}}while(M!==ye.TERMINATOR)}catch{throw new L}return new Kr(s,h.toString(),m.length===0?null:m,l===null?null:l.toString(),x,w)}static decodeHanziSegment(s,a,l){if(l*13>s.available())throw new L;const u=new Uint8Array(2*l);let f=0;for(;l>0;){const h=s.readBits(13);let m=h/96<<8&4294967295|h%96;m<959?m+=41377:m+=42657,u[f]=m>>8&255,u[f+1]=m&255,f+=2,l--}try{a.append(oe.decode(u,te.GB2312))}catch(h){throw new L(h)}}static decodeKanjiSegment(s,a,l){if(l*13>s.available())throw new L;const u=new Uint8Array(2*l);let f=0;for(;l>0;){const h=s.readBits(13);let m=h/192<<8&4294967295|h%192;m<7936?m+=33088:m+=49472,u[f]=m>>8,u[f+1]=m,f+=2,l--}try{a.append(oe.decode(u,te.SHIFT_JIS))}catch(h){throw new L(h)}}static decodeByteSegment(s,a,l,u,f,h){if(8*l>s.available())throw new L;const m=new Uint8Array(l);for(let w=0;w<l;w++)m[w]=s.readBits(8);let x;u===null?x=te.guessEncoding(m,h):x=u.getName();try{a.append(oe.decode(m,x))}catch(w){throw new L(w)}f.push(m)}static toAlphaNumericChar(s){if(s>=lt.ALPHANUMERIC_CHARS.length)throw new L;return lt.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,a,l,u){const f=a.length();for(;l>1;){if(s.available()<11)throw new L;const h=s.readBits(11);a.append(lt.toAlphaNumericChar(Math.floor(h/45))),a.append(lt.toAlphaNumericChar(h%45)),l-=2}if(l===1){if(s.available()<6)throw new L;a.append(lt.toAlphaNumericChar(s.readBits(6)))}if(u)for(let h=f;h<a.length();h++)a.charAt(h)==="%"&&(h<a.length()-1&&a.charAt(h+1)==="%"?a.deleteCharAt(h+1):a.setCharAt(h,String.fromCharCode(29)))}static decodeNumericSegment(s,a,l){for(;l>=3;){if(s.available()<10)throw new L;const u=s.readBits(10);if(u>=1e3)throw new L;a.append(lt.toAlphaNumericChar(Math.floor(u/100))),a.append(lt.toAlphaNumericChar(Math.floor(u/10)%10)),a.append(lt.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(s.available()<7)throw new L;const u=s.readBits(7);if(u>=100)throw new L;a.append(lt.toAlphaNumericChar(Math.floor(u/10))),a.append(lt.toAlphaNumericChar(u%10))}else if(l===1){if(s.available()<4)throw new L;const u=s.readBits(4);if(u>=10)throw new L;a.append(lt.toAlphaNumericChar(u))}}static parseECIValue(s){const a=s.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const l=s.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=s.readBits(16);return(a&31)<<16&4294967295|l}throw new L}}lt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",lt.GB2312_SUBSET=1;class H1{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const a=s[0];s[0]=s[2],s[2]=a}}class Dv{constructor(){this.rsDecoder=new To(Te.QR_CODE_FIELD_256)}decodeBooleanArray(s,a){return this.decodeBitMatrix(Ce.parseFromBooleanArray(s),a)}decodeBitMatrix(s,a){const l=new kv(s);let u=null;try{return this.decodeBitMatrixParser(l,a)}catch(f){u=f}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const f=this.decodeBitMatrixParser(l,a);return f.setOther(new H1(!0)),f}catch(f){throw u!==null?u:f}}decodeBitMatrixParser(s,a){const l=s.readVersion(),u=s.readFormatInformation().getErrorCorrectionLevel(),f=s.readCodewords(),h=gf.getDataBlocks(f,l,u);let m=0;for(const b of h)m+=b.getNumDataCodewords();const x=new Uint8Array(m);let w=0;for(const b of h){const A=b.getCodewords(),M=b.getNumDataCodewords();this.correctErrors(A,M);for(let P=0;P<M;P++)x[w++]=A[P]}return lt.decode(x,l,u,a)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new _}for(let u=0;u<a;u++)s[u]=l[u]}}class pf extends ge{constructor(s,a,l){super(s,a),this.estimatedModuleSize=l}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const u=(this.getX()+a)/2,f=(this.getY()+s)/2,h=(this.estimatedModuleSize+l)/2;return new pf(u,f,h)}}class Sl{constructor(s,a,l,u,f,h,m){this.image=s,this.startX=a,this.startY=l,this.width=u,this.height=f,this.moduleSize=h,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,a=this.height,l=this.width,u=s+l,f=this.startY+a/2,h=new Int32Array(3),m=this.image;for(let x=0;x<a;x++){const w=f+(x&1?-Math.floor((x+1)/2):Math.floor((x+1)/2));h[0]=0,h[1]=0,h[2]=0;let b=s;for(;b<u&&!m.get(b,w);)b++;let A=0;for(;b<u;){if(m.get(b,w))if(A===1)h[1]++;else if(A===2){if(this.foundPatternCross(h)){const M=this.handlePossibleCenter(h,w,b);if(M!==null)return M}h[0]=h[2],h[1]=1,h[2]=0,A=1}else h[++A]++;else A===1&&A++,h[A]++;b++}if(this.foundPatternCross(h)){const M=this.handlePossibleCenter(h,w,u);if(M!==null)return M}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(s,a){return a-s[2]-s[1]/2}foundPatternCross(s){const a=this.moduleSize,l=a/2;for(let u=0;u<3;u++)if(Math.abs(a-s[u])>=l)return!1;return!0}crossCheckVertical(s,a,l,u){const f=this.image,h=f.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let x=s;for(;x>=0&&f.get(a,x)&&m[1]<=l;)m[1]++,x--;if(x<0||m[1]>l)return NaN;for(;x>=0&&!f.get(a,x)&&m[0]<=l;)m[0]++,x--;if(m[0]>l)return NaN;for(x=s+1;x<h&&f.get(a,x)&&m[1]<=l;)m[1]++,x++;if(x===h||m[1]>l)return NaN;for(;x<h&&!f.get(a,x)&&m[2]<=l;)m[2]++,x++;if(m[2]>l)return NaN;const w=m[0]+m[1]+m[2];return 5*Math.abs(w-u)>=2*u?NaN:this.foundPatternCross(m)?Sl.centerFromEnd(m,x):NaN}handlePossibleCenter(s,a,l){const u=s[0]+s[1]+s[2],f=Sl.centerFromEnd(s,l),h=this.crossCheckVertical(a,f,2*s[1],u);if(!isNaN(h)){const m=(s[0]+s[1]+s[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(m,h,f))return w.combineEstimate(h,f,m);const x=new pf(f,h,m);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class mf extends ge{constructor(s,a,l,u){super(s,a),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const u=this.count+1,f=(this.count*this.getX()+a)/u,h=(this.count*this.getY()+s)/u,m=(this.count*this.estimatedModuleSize+l)/u;return new mf(f,h,m,u)}}class Pv{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Pt{constructor(s,a){this.image=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const a=s!=null&&s.get(V.TRY_HARDER)!==void 0,l=s!=null&&s.get(V.PURE_BARCODE)!==void 0,u=this.image,f=u.getHeight(),h=u.getWidth();let m=Math.floor(3*f/(4*Pt.MAX_MODULES));(m<Pt.MIN_SKIP||a)&&(m=Pt.MIN_SKIP);let x=!1;const w=new Int32Array(5);for(let A=m-1;A<f&&!x;A+=m){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let M=0;for(let P=0;P<h;P++)if(u.get(P,A))(M&1)===1&&M++,w[M]++;else if(M&1)w[M]++;else if(M===4)if(Pt.foundPatternCross(w)){if(this.handlePossibleCenter(w,A,P,l)===!0)if(m=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const U=this.findRowSkip();U>w[2]&&(A+=U-w[2]-m,P=h-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,M=3;continue}M=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,M=3;else w[++M]++;Pt.foundPatternCross(w)&&this.handlePossibleCenter(w,A,h,l)===!0&&(m=w[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return ge.orderBestPatterns(b),new Pv(b)}static centerFromEnd(s,a){return a-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let a=0;for(let f=0;f<5;f++){const h=s[f];if(h===0)return!1;a+=h}if(a<7)return!1;const l=a/7,u=l/2;return Math.abs(l-s[0])<u&&Math.abs(l-s[1])<u&&Math.abs(3*l-s[2])<3*u&&Math.abs(l-s[3])<u&&Math.abs(l-s[4])<u}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,a,l,u){const f=this.getCrossCheckStateCount();let h=0;const m=this.image;for(;s>=h&&a>=h&&m.get(a-h,s-h);)f[2]++,h++;if(s<h||a<h)return!1;for(;s>=h&&a>=h&&!m.get(a-h,s-h)&&f[1]<=l;)f[1]++,h++;if(s<h||a<h||f[1]>l)return!1;for(;s>=h&&a>=h&&m.get(a-h,s-h)&&f[0]<=l;)f[0]++,h++;if(f[0]>l)return!1;const x=m.getHeight(),w=m.getWidth();for(h=1;s+h<x&&a+h<w&&m.get(a+h,s+h);)f[2]++,h++;if(s+h>=x||a+h>=w)return!1;for(;s+h<x&&a+h<w&&!m.get(a+h,s+h)&&f[3]<l;)f[3]++,h++;if(s+h>=x||a+h>=w||f[3]>=l)return!1;for(;s+h<x&&a+h<w&&m.get(a+h,s+h)&&f[4]<l;)f[4]++,h++;if(f[4]>=l)return!1;const b=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(b-u)<2*u&&Pt.foundPatternCross(f)}crossCheckVertical(s,a,l,u){const f=this.image,h=f.getHeight(),m=this.getCrossCheckStateCount();let x=s;for(;x>=0&&f.get(a,x);)m[2]++,x--;if(x<0)return NaN;for(;x>=0&&!f.get(a,x)&&m[1]<=l;)m[1]++,x--;if(x<0||m[1]>l)return NaN;for(;x>=0&&f.get(a,x)&&m[0]<=l;)m[0]++,x--;if(m[0]>l)return NaN;for(x=s+1;x<h&&f.get(a,x);)m[2]++,x++;if(x===h)return NaN;for(;x<h&&!f.get(a,x)&&m[3]<l;)m[3]++,x++;if(x===h||m[3]>=l)return NaN;for(;x<h&&f.get(a,x)&&m[4]<l;)m[4]++,x++;if(m[4]>=l)return NaN;const w=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(w-u)>=2*u?NaN:Pt.foundPatternCross(m)?Pt.centerFromEnd(m,x):NaN}crossCheckHorizontal(s,a,l,u){const f=this.image,h=f.getWidth(),m=this.getCrossCheckStateCount();let x=s;for(;x>=0&&f.get(x,a);)m[2]++,x--;if(x<0)return NaN;for(;x>=0&&!f.get(x,a)&&m[1]<=l;)m[1]++,x--;if(x<0||m[1]>l)return NaN;for(;x>=0&&f.get(x,a)&&m[0]<=l;)m[0]++,x--;if(m[0]>l)return NaN;for(x=s+1;x<h&&f.get(x,a);)m[2]++,x++;if(x===h)return NaN;for(;x<h&&!f.get(x,a)&&m[3]<l;)m[3]++,x++;if(x===h||m[3]>=l)return NaN;for(;x<h&&f.get(x,a)&&m[4]<l;)m[4]++,x++;if(m[4]>=l)return NaN;const w=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(w-u)>=u?NaN:Pt.foundPatternCross(m)?Pt.centerFromEnd(m,x):NaN}handlePossibleCenter(s,a,l,u){const f=s[0]+s[1]+s[2]+s[3]+s[4];let h=Pt.centerFromEnd(s,l),m=this.crossCheckVertical(a,Math.floor(h),s[2],f);if(!isNaN(m)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(m),s[2],f),!isNaN(h)&&(!u||this.crossCheckDiagonal(Math.floor(m),Math.floor(h),s[2],f)))){const x=f/7;let w=!1;const b=this.possibleCenters;for(let A=0,M=b.length;A<M;A++){const P=b[A];if(P.aboutEquals(x,m,h)){b[A]=P.combineEstimate(m,h,x),w=!0;break}}if(!w){const A=new mf(h,m,x);b.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=Pt.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,a=0;const l=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Pt.CENTER_QUORUM&&(s++,a+=h.getEstimatedModuleSize());if(s<3)return!1;const u=a/l;let f=0;for(const h of this.possibleCenters)f+=Math.abs(h.getEstimatedModuleSize()-u);return f<=.05*a}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new X;const a=this.possibleCenters;let l;if(s>3){let u=0,f=0;for(const x of this.possibleCenters){const w=x.getEstimatedModuleSize();u+=w,f+=w*w}l=u/s;let h=Math.sqrt(f/s-l*l);a.sort((x,w)=>{const b=Math.abs(w.getEstimatedModuleSize()-l),A=Math.abs(x.getEstimatedModuleSize()-l);return b<A?-1:b>A?1:0});const m=Math.max(.2*l,h);for(let x=0;x<a.length&&a.length>3;x++){const w=a[x];Math.abs(w.getEstimatedModuleSize()-l)>m&&(a.splice(x,1),x--)}}if(a.length>3){let u=0;for(const f of a)u+=f.getEstimatedModuleSize();l=u/a.length,a.sort((f,h)=>{if(h.getCount()===f.getCount()){const m=Math.abs(h.getEstimatedModuleSize()-l),x=Math.abs(f.getEstimatedModuleSize()-l);return m<x?1:m>x?-1:0}else return h.getCount()-f.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Pt.CENTER_QUORUM=2,Pt.MIN_SKIP=3,Pt.MAX_MODULES=57;class Ro{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(V.NEED_RESULT_POINT_CALLBACK);const l=new Pt(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const a=s.getTopLeft(),l=s.getTopRight(),u=s.getBottomLeft(),f=this.calculateModuleSize(a,l,u);if(f<1)throw new X("No pattern found in proccess finder.");const h=Ro.computeDimension(a,l,u,f),m=me.getProvisionalVersionForDimension(h),x=m.getDimensionForVersion()-7;let w=null;if(m.getAlignmentPatternCenters().length>0){const P=l.getX()-a.getX()+u.getX(),z=l.getY()-a.getY()+u.getY(),U=1-3/x,G=Math.floor(a.getX()+U*(P-a.getX())),Z=Math.floor(a.getY()+U*(z-a.getY()));for(let ee=4;ee<=16;ee<<=1)try{w=this.findAlignmentInRegion(f,G,Z,ee);break}catch(ne){if(!(ne instanceof X))throw ne}}const b=Ro.createTransform(a,l,u,w,h),A=Ro.sampleGrid(this.image,b,h);let M;return w===null?M=[u,a,l]:M=[u,a,l,w],new vl(A,M)}static createTransform(s,a,l,u,f){const h=f-3.5;let m,x,w,b;return u!==null?(m=u.getX(),x=u.getY(),w=h-3,b=w):(m=a.getX()-s.getX()+l.getX(),x=a.getY()-s.getY()+l.getY(),w=h,b=h),qn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,w,b,3.5,h,s.getX(),s.getY(),a.getX(),a.getY(),m,x,l.getX(),l.getY())}static sampleGrid(s,a,l){return qr.getInstance().sampleGridWithTransform(s,l,l,a)}static computeDimension(s,a,l,u){const f=ke.round(ge.distance(s,a)/u),h=ke.round(ge.distance(s,l)/u);let m=Math.floor((f+h)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new X("Dimensions could be not found.")}return m}calculateModuleSize(s,a,l){return(this.calculateModuleSizeOneWay(s,a)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(a.getX()),Math.floor(a.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(s,a,l,u){let f=this.sizeOfBlackWhiteBlackRun(s,a,l,u),h=1,m=s-(l-s);m<0?(h=s/(s-m),m=0):m>=this.image.getWidth()&&(h=(this.image.getWidth()-1-s)/(m-s),m=this.image.getWidth()-1);let x=Math.floor(a-(u-a)*h);return h=1,x<0?(h=a/(a-x),x=0):x>=this.image.getHeight()&&(h=(this.image.getHeight()-1-a)/(x-a),x=this.image.getHeight()-1),m=Math.floor(s+(m-s)*h),f+=this.sizeOfBlackWhiteBlackRun(s,a,m,x),f-1}sizeOfBlackWhiteBlackRun(s,a,l,u){const f=Math.abs(u-a)>Math.abs(l-s);if(f){let P=s;s=a,a=P,P=l,l=u,u=P}const h=Math.abs(l-s),m=Math.abs(u-a);let x=-h/2;const w=s<l?1:-1,b=a<u?1:-1;let A=0;const M=l+w;for(let P=s,z=a;P!==M;P+=w){const U=f?z:P,G=f?P:z;if(A===1===this.image.get(U,G)){if(A===2)return ke.distance(P,z,s,a);A++}if(x+=m,x>0){if(z===u)break;z+=b,x-=h}}return A===2?ke.distance(l+w,u,s,a):NaN}findAlignmentInRegion(s,a,l,u){const f=Math.floor(u*s),h=Math.max(0,a-f),m=Math.min(this.image.getWidth()-1,a+f);if(m-h<s*3)throw new X("Alignment top exceeds estimated module size.");const x=Math.max(0,l-f),w=Math.min(this.image.getHeight()-1,l+f);if(w-x<s*3)throw new X("Alignment bottom exceeds estimated module size.");return new Sl(this.image,h,x,m-h,w-x,s,this.resultPointCallback).find()}}class ti{constructor(){this.decoder=new Dv}getDecoder(){return this.decoder}decode(s,a){let l,u;if(a!=null&&a.get(V.PURE_BARCODE)!==void 0){const x=ti.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(x,a),u=ti.NO_POINTS}else{const x=new Ro(s.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(x.getBits(),a),u=x.getPoints()}l.getOther()instanceof H1&&l.getOther().applyMirroredCorrection(u);const f=new Me(l.getText(),l.getRawBytes(),void 0,u,ie.QR_CODE,void 0),h=l.getByteSegments();h!==null&&f.putMetadata(gt.BYTE_SEGMENTS,h);const m=l.getECLevel();return m!==null&&f.putMetadata(gt.ERROR_CORRECTION_LEVEL,m),l.hasStructuredAppend()&&(f.putMetadata(gt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),f.putMetadata(gt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),f}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(a===null||l===null)throw new X;const u=this.moduleSize(a,s);let f=a[1],h=l[1],m=a[0],x=l[0];if(m>=x||f>=h)throw new X;if(h-f!==x-m&&(x=m+(h-f),x>=s.getWidth()))throw new X;const w=Math.round((x-m+1)/u),b=Math.round((h-f+1)/u);if(w<=0||b<=0)throw new X;if(b!==w)throw new X;const A=Math.floor(u/2);f+=A,m+=A;const M=m+Math.floor((w-1)*u)-x;if(M>0){if(M>A)throw new X;m-=M}const P=f+Math.floor((b-1)*u)-h;if(P>0){if(P>A)throw new X;f-=P}const z=new Ce(w,b);for(let U=0;U<b;U++){const G=f+Math.floor(U*u);for(let Z=0;Z<w;Z++)s.get(m+Math.floor(Z*u),G)&&z.set(Z,U)}return z}static moduleSize(s,a){const l=a.getHeight(),u=a.getWidth();let f=s[0],h=s[1],m=!0,x=0;for(;f<u&&h<l;){if(m!==a.get(f,h)){if(++x===5)break;m=!m}f++,h++}if(f===u||h===l)throw new X;return(f-s[0])/7}}ti.NO_POINTS=new Array;class Ee{PDF417Common(){}static getBitCountSum(s){return ke.sum(s)}static toIntArray(s){if(s==null||!s.length)return Ee.EMPTY_INT_ARRAY;const a=new Int32Array(s.length);let l=0;for(const u of s)a[l++]=u;return a}static getCodeword(s){const a=T.binarySearch(Ee.SYMBOL_TABLE,s&262143);return a<0?-1:(Ee.CODEWORD_TABLE[a]-1)%Ee.NUMBER_OF_CODEWORDS}}Ee.NUMBER_OF_CODEWORDS=929,Ee.MAX_CODEWORDS_IN_BARCODE=Ee.NUMBER_OF_CODEWORDS-1,Ee.MIN_ROWS_IN_BARCODE=3,Ee.MAX_ROWS_IN_BARCODE=90,Ee.MODULES_IN_CODEWORD=17,Ee.MODULES_IN_STOP_PATTERN=18,Ee.BARS_IN_MODULE=8,Ee.EMPTY_INT_ARRAY=new Int32Array([]),Ee.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ee.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Lv{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Se{static detectMultiple(s,a,l){let u=s.getBlackMatrix(),f=Se.detect(l,u);return f.length||(u=u.clone(),u.rotate180(),f=Se.detect(l,u)),new Lv(u,f)}static detect(s,a){const l=new Array;let u=0,f=0,h=!1;for(;u<a.getHeight();){const m=Se.findVertices(a,u,f);if(m[0]==null&&m[3]==null){if(!h)break;h=!1,f=0;for(const x of l)x[1]!=null&&(u=Math.trunc(Math.max(u,x[1].getY()))),x[3]!=null&&(u=Math.max(u,Math.trunc(x[3].getY())));u+=Se.ROW_STEP;continue}if(h=!0,l.push(m),!s)break;m[2]!=null?(f=Math.trunc(m[2].getX()),u=Math.trunc(m[2].getY())):(f=Math.trunc(m[4].getX()),u=Math.trunc(m[4].getY()))}return l}static findVertices(s,a,l){const u=s.getHeight(),f=s.getWidth(),h=new Array(8);return Se.copyToResult(h,Se.findRowsWithPattern(s,u,f,a,l,Se.START_PATTERN),Se.INDEXES_START_PATTERN),h[4]!=null&&(l=Math.trunc(h[4].getX()),a=Math.trunc(h[4].getY())),Se.copyToResult(h,Se.findRowsWithPattern(s,u,f,a,l,Se.STOP_PATTERN),Se.INDEXES_STOP_PATTERN),h}static copyToResult(s,a,l){for(let u=0;u<l.length;u++)s[l[u]]=a[u]}static findRowsWithPattern(s,a,l,u,f,h){const m=new Array(4);let x=!1;const w=new Int32Array(h.length);for(;u<a;u+=Se.ROW_STEP){let A=Se.findGuardPattern(s,f,u,l,!1,h,w);if(A!=null){for(;u>0;){const M=Se.findGuardPattern(s,f,--u,l,!1,h,w);if(M!=null)A=M;else{u++;break}}m[0]=new ge(A[0],u),m[1]=new ge(A[1],u),x=!0;break}}let b=u+1;if(x){let A=0,M=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;b<a;b++){const P=Se.findGuardPattern(s,M[0],b,l,!1,h,w);if(P!=null&&Math.abs(M[0]-P[0])<Se.MAX_PATTERN_DRIFT&&Math.abs(M[1]-P[1])<Se.MAX_PATTERN_DRIFT)M=P,A=0;else{if(A>Se.SKIPPED_ROW_COUNT_MAX)break;A++}}b-=A+1,m[2]=new ge(M[0],b),m[3]=new ge(M[1],b)}return b-u<Se.BARCODE_MIN_HEIGHT&&T.fill(m,null),m}static findGuardPattern(s,a,l,u,f,h,m){T.fillWithin(m,0,m.length,0);let x=a,w=0;for(;s.get(x,l)&&x>0&&w++<Se.MAX_PIXEL_DRIFT;)x--;let b=x,A=0,M=h.length;for(let P=f;b<u;b++)if(s.get(b,l)!==P)m[A]++;else{if(A===M-1){if(Se.patternMatchVariance(m,h,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE)return new Int32Array([x,b]);x+=m[0]+m[1],S.arraycopy(m,2,m,0,A-1),m[A-1]=0,m[A]=0,A--}else A++;m[A]=1,P=!P}return A===M-1&&Se.patternMatchVariance(m,h,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE?new Int32Array([x,b-1]):null}static patternMatchVariance(s,a,l){let u=s.length,f=0,h=0;for(let w=0;w<u;w++)f+=s[w],h+=a[w];if(f<h)return 1/0;let m=f/h;l*=m;let x=0;for(let w=0;w<u;w++){let b=s[w],A=a[w]*m,M=b>A?b-A:A-b;if(M>l)return 1/0;x+=M}return x/f}}Se.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Se.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Se.MAX_AVG_VARIANCE=.42,Se.MAX_INDIVIDUAL_VARIANCE=.8,Se.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Se.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Se.MAX_PIXEL_DRIFT=3,Se.MAX_PATTERN_DRIFT=5,Se.SKIPPED_ROW_COUNT_MAX=25,Se.ROW_STEP=5,Se.BARCODE_MIN_HEIGHT=10;class Ut{constructor(s,a){if(a.length===0)throw new v;this.field=s;let l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),S.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let u=0;for(let f of this.coefficients)u=this.field.add(u,f);return u}let a=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)a=this.field.add(this.field.multiply(s,a),this.coefficients[u]);return a}add(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){let h=a;a=l,l=h}let u=new Int32Array(l.length),f=l.length-a.length;S.arraycopy(l,0,u,0,f);for(let h=f;h<l.length;h++)u[h]=this.field.add(a[h-f],l[h]);return new Ut(this.field,u)}subtract(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Ut?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Ut(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,u=s.coefficients,f=u.length,h=new Int32Array(l+f-1);for(let m=0;m<l;m++){let x=a[m];for(let w=0;w<f;w++)h[m+w]=this.field.add(h[m+w],this.field.multiply(x,u[w]))}return new Ut(this.field,h)}negative(){let s=this.coefficients.length,a=new Int32Array(s);for(let l=0;l<s;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new Ut(this.field,a)}multiplyScalar(s){if(s===0)return new Ut(this.field,new Int32Array([0]));if(s===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],s);return new Ut(this.field,l)}multiplyByMonomial(s,a){if(s<0)throw new v;if(a===0)return new Ut(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+s);for(let f=0;f<l;f++)u[f]=this.field.multiply(this.coefficients[f],a);return new Ut(this.field,u)}toString(){let s=new xe;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(a===0||l!==1)&&s.append(l),a!==0&&(a===1?s.append("x"):(s.append("x^"),s.append(a))))}return s.toString()}}class Bv{add(s,a){return(s+a)%this.modulus}subtract(s,a){return(this.modulus+s-a)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new v;return this.logTable[s]}inverse(s){if(s===0)throw new bs;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,a){return s===0||a===0?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class xf extends Bv{constructor(s,a){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let u=0;u<s;u++)this.expTable[u]=l,l=l*a%s;for(let u=0;u<s-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new Ut(this,new Int32Array([0])),this.one=new Ut(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new v;if(a===0)return this.zero;let l=new Int32Array(s+1);return l[0]=a,new Ut(this,l)}}xf.PDF417_GF=new xf(Ee.NUMBER_OF_CODEWORDS,3);class j1{constructor(){this.field=xf.PDF417_GF}decode(s,a,l){let u=new Ut(this.field,s),f=new Int32Array(a),h=!1;for(let z=a;z>0;z--){let U=u.evaluateAt(this.field.exp(z));f[a-z]=U,U!==0&&(h=!0)}if(!h)return 0;let m=this.field.getOne();if(l!=null)for(const z of l){let U=this.field.exp(s.length-1-z),G=new Ut(this.field,new Int32Array([this.field.subtract(0,U),1]));m=m.multiply(G)}let x=new Ut(this.field,f),w=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),x,a),b=w[0],A=w[1],M=this.findErrorLocations(b),P=this.findErrorMagnitudes(A,b,M);for(let z=0;z<M.length;z++){let U=s.length-1-this.field.log(M[z]);if(U<0)throw _.getChecksumInstance();s[U]=this.field.subtract(s[U],P[z])}return M.length}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){let M=s;s=a,a=M}let u=s,f=a,h=this.field.getZero(),m=this.field.getOne();for(;f.getDegree()>=Math.round(l/2);){let M=u,P=h;if(u=f,h=m,u.isZero())throw _.getChecksumInstance();f=M;let z=this.field.getZero(),U=u.getCoefficient(u.getDegree()),G=this.field.inverse(U);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){let Z=f.getDegree()-u.getDegree(),ee=this.field.multiply(f.getCoefficient(f.getDegree()),G);z=z.add(this.field.buildMonomial(Z,ee)),f=f.subtract(u.multiplyByMonomial(Z,ee))}m=z.multiply(h).subtract(P).negative()}let x=m.getCoefficient(0);if(x===0)throw _.getChecksumInstance();let w=this.field.inverse(x),b=m.multiply(w),A=f.multiply(w);return[b,A]}findErrorLocations(s){let a=s.getDegree(),l=new Int32Array(a),u=0;for(let f=1;f<this.field.getSize()&&u<a;f++)s.evaluateAt(f)===0&&(l[u]=this.field.inverse(f),u++);if(u!==a)throw _.getChecksumInstance();return l}findErrorMagnitudes(s,a,l){let u=a.getDegree(),f=new Int32Array(u);for(let w=1;w<=u;w++)f[u-w]=this.field.multiply(w,a.getCoefficient(w));let h=new Ut(this.field,f),m=l.length,x=new Int32Array(m);for(let w=0;w<m;w++){let b=this.field.inverse(l[w]),A=this.field.subtract(0,s.evaluateAt(b)),M=this.field.inverse(h.evaluateAt(b));x[w]=this.field.multiply(A,M)}return x}}class Ui{constructor(s,a,l,u,f){s instanceof Ui?this.constructor_2(s):this.constructor_1(s,a,l,u,f)}constructor_1(s,a,l,u,f){const h=a==null||l==null,m=u==null||f==null;if(h&&m)throw new X;h?(a=new ge(0,u.getY()),l=new ge(0,f.getY())):m&&(u=new ge(s.getWidth()-1,a.getY()),f=new ge(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=a,this.bottomLeft=l,this.topRight=u,this.bottomRight=f,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),f.getX())),this.minY=Math.trunc(Math.min(a.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),f.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,a){return s==null?a:a==null?s:new Ui(s.image,s.topLeft,s.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(s,a,l){let u=this.topLeft,f=this.bottomLeft,h=this.topRight,m=this.bottomRight;if(s>0){let x=l?this.topLeft:this.topRight,w=Math.trunc(x.getY()-s);w<0&&(w=0);let b=new ge(x.getX(),w);l?u=b:h=b}if(a>0){let x=l?this.bottomLeft:this.bottomRight,w=Math.trunc(x.getY()+a);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let b=new ge(x.getX(),w);l?f=b:m=b}return new Ui(this.image,u,f,h,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Fv{constructor(s,a,l,u){this.columnCount=s,this.errorCorrectionLevel=u,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Mo{constructor(){this.buffer=""}static form(s,a){let l=-1;function u(h,m,x,w,b,A){if(h==="%%")return"%";if(a[++l]===void 0)return;h=w?parseInt(w.substr(1)):void 0;let M=b?parseInt(b.substr(1)):void 0,P;switch(A){case"s":P=a[l];break;case"c":P=a[l][0];break;case"f":P=parseFloat(a[l]).toFixed(h);break;case"p":P=parseFloat(a[l]).toPrecision(h);break;case"e":P=parseFloat(a[l]).toExponential(h);break;case"x":P=parseInt(a[l]).toString(M||16);break;case"d":P=parseFloat(parseInt(a[l],M||10).toPrecision(h)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(M);let z=parseInt(x),U=x&&x[0]+""=="0"?"0":" ";for(;P.length<z;)P=m!==void 0?P+U:U+P;return P}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(f,u)}format(s,...a){this.buffer+=Mo.form(s,a)}toString(){return this.buffer}}class ko{constructor(s){this.boundingBox=new Ui(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let a=this.getCodeword(s);if(a!=null)return a;for(let l=1;l<ko.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(s)-l;if(u>=0&&(a=this.codewords[u],a!=null)||(u=this.imageRowToCodewordIndex(s)+l,u<this.codewords.length&&(a=this.codewords[u],a!=null)))return a}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,a){this.codewords[this.imageRowToCodewordIndex(s)]=a}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Mo;let a=0;for(const l of this.codewords){if(l==null){s.format("%3d:    |   %n",a++);continue}s.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return s.toString()}}ko.MAX_NEARBY_DISTANCE=5;class Do{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let a=this.values.get(s);a==null&&(a=0),a++,this.values.set(s,a)}getValue(){let s=-1,a=new Array;for(const[l,u]of this.values.entries()){const f={getKey:()=>l,getValue:()=>u};f.getValue()>s?(s=f.getValue(),a=[],a.push(f.getKey())):f.getValue()===s&&a.push(f.getKey())}return Ee.toIntArray(a)}getConfidence(s){return this.values.get(s)}}class G1 extends ko{constructor(s,a){super(s),this._isLeft=a}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,s);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=-1,w=1,b=0;for(let A=h;A<m;A++){if(a[A]==null)continue;let M=a[A],P=M.getRowNumber()-x;if(P===0)b++;else if(P===1)w=Math.max(w,b),b=1,x=M.getRowNumber();else if(P<0||M.getRowNumber()>=s.getRowCount()||P>A)a[A]=null;else{let z;w>2?z=(w-2)*P:z=P;let U=z>=A;for(let G=1;G<=z&&!U;G++)U=a[A-G]!=null;U?a[A]=null:(x=M.getRowNumber(),b=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let a=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=a.length)continue;a[u]++}return a}adjustIncompleteIndicatorColumnRowNumbers(s){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.getCodewords(),x=-1;for(let w=f;w<h;w++){if(m[w]==null)continue;let b=m[w];b.setRowNumberAsRowIndicatorColumn();let A=b.getRowNumber()-x;A===0||(A===1?x=b.getRowNumber():b.getRowNumber()>=s.getRowCount()?m[w]=null:x=b.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),a=new Do,l=new Do,u=new Do,f=new Do;for(let m of s){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let x=m.getValue()%30,w=m.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:l.setValue(x*3+1);break;case 1:f.setValue(x/3),u.setValue(x%3);break;case 2:a.setValue(x+1);break}}if(a.getValue().length===0||l.getValue().length===0||u.getValue().length===0||f.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Ee.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Ee.MAX_ROWS_IN_BARCODE)return null;let h=new Fv(a.getValue()[0],l.getValue()[0],u.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(s,h),h}removeIncorrectCodewords(s,a){for(let l=0;l<s.length;l++){let u=s[l];if(s[l]==null)continue;let f=u.getValue()%30,h=u.getRowNumber();if(h>a.getRowCount()){s[l]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:f*3+1!==a.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(f/3)!==a.getErrorCorrectionLevel()||f%3!==a.getRowCountLowerPart())&&(s[l]=null);break;case 2:f+1!==a.getColumnCount()&&(s[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Po{constructor(s,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Ee.MAX_CODEWORDS_IN_BARCODE,a;do a=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(a,u,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(s[l]!=null&&a[l]!=null&&s[l].getRowNumber()===a[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let f=this.detectionResultColumns[u].getCodewords()[l];f!=null&&(f.setRowNumber(s[l].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),f=0;for(let h=this.barcodeColumnCount+1;h>0&&f<this.ADJUST_ROW_NUMBER_SKIP;h--){let m=this.detectionResultColumns[h].getCodewords()[l];m!=null&&(f=Po.adjustRowNumberIfValid(u,f,m),m.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),f=0;for(let h=1;h<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;h++){let m=this.detectionResultColumns[h].getCodewords()[l];m!=null&&(f=Po.adjustRowNumberIfValid(u,f,m),m.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),a=0):++a),a}adjustRowNumbers(s,a,l){if(!this.detectionResultColumns[s-1])return;let u=l[a],f=this.detectionResultColumns[s-1].getCodewords(),h=f;this.detectionResultColumns[s+1]!=null&&(h=this.detectionResultColumns[s+1].getCodewords());let m=new Array(14);m[2]=f[a],m[3]=h[a],a>0&&(m[0]=l[a-1],m[4]=f[a-1],m[5]=h[a-1]),a>1&&(m[8]=l[a-2],m[10]=f[a-2],m[11]=h[a-2]),a<l.length-1&&(m[1]=l[a+1],m[6]=f[a+1],m[7]=h[a+1]),a<l.length-2&&(m[9]=l[a+2],m[12]=f[a+2],m[13]=h[a+2]);for(let x of m)if(Po.adjustRowNumber(u,x))return}static adjustRowNumber(s,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===s.getBucket()?(s.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,a){this.detectionResultColumns[s]=a}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Mo;for(let l=0;l<s.getCodewords().length;l++){a.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){a.format("    |   ");continue}let f=this.detectionResultColumns[u].getCodewords()[l];if(f==null){a.format("    |   ");continue}a.format(" %3d|%3d",f.getRowNumber(),f.getValue())}a.format("%n")}return a.toString()}}class Lo{constructor(s,a,l,u){this.rowNumber=Lo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Lo.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Lo.BARCODE_ROW_UNKNOWN=-1;class hn{static initialize(){for(let s=0;s<Ee.SYMBOL_TABLE.length;s++){let a=Ee.SYMBOL_TABLE[s],l=a&1;for(let u=0;u<Ee.BARS_IN_MODULE;u++){let f=0;for(;(a&1)===l;)f+=1,a>>=1;l=a&1,hn.RATIOS_TABLE[s]||(hn.RATIOS_TABLE[s]=new Array(Ee.BARS_IN_MODULE)),hn.RATIOS_TABLE[s][Ee.BARS_IN_MODULE-u-1]=Math.fround(f/Ee.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let a=hn.getDecodedCodewordValue(hn.sampleBitCounts(s));return a!==-1?a:hn.getClosestDecodedValue(s)}static sampleBitCounts(s){let a=ke.sum(s),l=new Int32Array(Ee.BARS_IN_MODULE),u=0,f=0;for(let h=0;h<Ee.MODULES_IN_CODEWORD;h++){let m=a/(2*Ee.MODULES_IN_CODEWORD)+h*a/Ee.MODULES_IN_CODEWORD;f+s[u]<=m&&(f+=s[u],u++),l[u]++}return l}static getDecodedCodewordValue(s){let a=hn.getBitValue(s);return Ee.getCodeword(a)===-1?-1:a}static getBitValue(s){let a=0;for(let l=0;l<s.length;l++)for(let u=0;u<s[l];u++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(s){let a=ke.sum(s),l=new Array(Ee.BARS_IN_MODULE);if(a>1)for(let h=0;h<l.length;h++)l[h]=Math.fround(s[h]/a);let u=wl.MAX_VALUE,f=-1;this.bSymbolTableReady||hn.initialize();for(let h=0;h<hn.RATIOS_TABLE.length;h++){let m=0,x=hn.RATIOS_TABLE[h];for(let w=0;w<Ee.BARS_IN_MODULE;w++){let b=Math.fround(x[w]-l[w]);if(m+=Math.fround(b*b),m>=u)break}m<u&&(u=m,f=Ee.SYMBOL_TABLE[h])}return f}}hn.bSymbolTableReady=!1,hn.RATIOS_TABLE=new Array(Ee.SYMBOL_TABLE.length).map(C=>new Array(Ee.BARS_IN_MODULE));class X1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class $1{static parseLong(s,a=void 0){return parseInt(s,a)}}class Y1 extends p{}Y1.kind="NullPointerException";class zv{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,a,l){if(s==null)throw new Y1;if(a<0||a>s.length||l<0||a+l>s.length||a+l<0)throw new k;if(l===0)return;for(let u=0;u<l;u++)this.write(s[a+u])}flush(){}close(){}}class Uv extends p{}class Wv extends zv{constructor(s=32){if(super(),this.count=0,s<0)throw new v("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new Uv;l=R.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,a,l){if(a<0||a>s.length||l<0||a+l-s.length>0)throw new k;this.ensureCapacity(this.count+l),S.arraycopy(s,a,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Ge;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ge||(Ge={}));function Z1(){if(typeof window<"u")return window.BigInt||null;if(typeof zo<"u")return zo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Al;function ni(C){if(typeof Al>"u"&&(Al=Z1()),Al===null)throw new Error("BigInt is not supported!");return Al(C)}function Vv(){let C=[];C[0]=ni(1);let s=ni(900);C[1]=s;for(let a=2;a<16;a++)C[a]=C[a-1]*s;return C}class Y{static decode(s,a){let l=new xe(""),u=H.ISO8859_1;l.enableDecoding(u);let f=1,h=s[f++],m=new X1;for(;f<s[0];){switch(h){case Y.TEXT_COMPACTION_MODE_LATCH:f=Y.textCompaction(s,f,l);break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:f=Y.byteCompaction(h,s,u,f,l);break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[f++]);break;case Y.NUMERIC_COMPACTION_MODE_LATCH:f=Y.numericCompaction(s,f,l);break;case Y.ECI_CHARSET:H.getCharacterSetECIByValue(s[f++]);break;case Y.ECI_GENERAL_PURPOSE:f+=2;break;case Y.ECI_USER_DEFINED:f++;break;case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=Y.decodeMacroBlock(s,f,m);break;case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:throw new L;default:f--,f=Y.textCompaction(s,f,l);break}if(f<s.length)h=s[f++];else throw L.getFormatInstance()}if(l.length()===0)throw L.getFormatInstance();let x=new Kr(null,l.toString(),null,a);return x.setOther(m),x}static decodeMacroBlock(s,a,l){if(a+Y.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw L.getFormatInstance();let u=new Int32Array(Y.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<Y.NUMBER_OF_SEQUENCE_CODEWORDS;m++,a++)u[m]=s[a];l.setSegmentIndex(R.parseInt(Y.decodeBase900toBase10(u,Y.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new xe;a=Y.textCompaction(s,a,f),l.setFileId(f.toString());let h=-1;for(s[a]===Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=a+1);a<s[0];)switch(s[a]){case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,s[a]){case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new xe;a=Y.textCompaction(s,a+1,m),l.setFileName(m.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new xe;a=Y.textCompaction(s,a+1,x),l.setSender(x.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new xe;a=Y.textCompaction(s,a+1,w),l.setAddressee(w.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new xe;a=Y.numericCompaction(s,a+1,b),l.setSegmentCount(R.parseInt(b.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new xe;a=Y.numericCompaction(s,a+1,A),l.setTimestamp($1.parseLong(A.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let M=new xe;a=Y.numericCompaction(s,a+1,M),l.setChecksum(R.parseInt(M.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let P=new xe;a=Y.numericCompaction(s,a+1,P),l.setFileSize($1.parseLong(P.toString()));break;default:throw L.getFormatInstance()}break;case Y.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(h!==-1){let m=a-h;l.isLastSegment()&&m--,l.setOptionalData(T.copyOfRange(s,h,h+m))}return a}static textCompaction(s,a,l){let u=new Int32Array((s[0]-a)*2),f=new Int32Array((s[0]-a)*2),h=0,m=!1;for(;a<s[0]&&!m;){let x=s[a++];if(x<Y.TEXT_COMPACTION_MODE_LATCH)u[h]=x/30,u[h+1]=x%30,h+=2;else switch(x){case Y.TEXT_COMPACTION_MODE_LATCH:u[h++]=Y.TEXT_COMPACTION_MODE_LATCH;break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:a--,m=!0;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[h]=Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=s[a++],f[h]=x,h++;break}}return Y.decodeTextCompaction(u,f,h,l),a}static decodeTextCompaction(s,a,l,u){let f=Ge.ALPHA,h=Ge.ALPHA,m=0;for(;m<l;){let x=s[m],w="";switch(f){case Ge.ALPHA:if(x<26)w=String.fromCharCode(65+x);else switch(x){case 26:w=" ";break;case Y.LL:f=Ge.LOWER;break;case Y.ML:f=Ge.MIXED;break;case Y.PS:h=f,f=Ge.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:f=Ge.ALPHA;break}break;case Ge.LOWER:if(x<26)w=String.fromCharCode(97+x);else switch(x){case 26:w=" ";break;case Y.AS:h=f,f=Ge.ALPHA_SHIFT;break;case Y.ML:f=Ge.MIXED;break;case Y.PS:h=f,f=Ge.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:f=Ge.ALPHA;break}break;case Ge.MIXED:if(x<Y.PL)w=Y.MIXED_CHARS[x];else switch(x){case Y.PL:f=Ge.PUNCT;break;case 26:w=" ";break;case Y.LL:f=Ge.LOWER;break;case Y.AL:f=Ge.ALPHA;break;case Y.PS:h=f,f=Ge.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:f=Ge.ALPHA;break}break;case Ge.PUNCT:if(x<Y.PAL)w=Y.PUNCT_CHARS[x];else switch(x){case Y.PAL:f=Ge.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:f=Ge.ALPHA;break}break;case Ge.ALPHA_SHIFT:if(f=h,x<26)w=String.fromCharCode(65+x);else switch(x){case 26:w=" ";break;case Y.TEXT_COMPACTION_MODE_LATCH:f=Ge.ALPHA;break}break;case Ge.PUNCT_SHIFT:if(f=h,x<Y.PAL)w=Y.PUNCT_CHARS[x];else switch(x){case Y.PAL:f=Ge.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:f=Ge.ALPHA;break}break}w!==""&&u.append(w),m++}}static byteCompaction(s,a,l,u,f){let h=new Wv,m=0,x=0,w=!1;switch(s){case Y.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),A=a[u++];for(;u<a[0]&&!w;)switch(b[m++]=A,x=900*x+A,A=a[u++],A){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:u--,w=!0;break;default:if(m%5===0&&m>0){for(let M=0;M<6;++M)h.write(Number(ni(x)>>ni(8*(5-M))));x=0,m=0}break}u===a[0]&&A<Y.TEXT_COMPACTION_MODE_LATCH&&(b[m++]=A);for(let M=0;M<m;M++)h.write(b[M]);break;case Y.BYTE_COMPACTION_MODE_LATCH_6:for(;u<a[0]&&!w;){let M=a[u++];if(M<Y.TEXT_COMPACTION_MODE_LATCH)m++,x=900*x+M;else switch(M){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:u--,w=!0;break}if(m%5===0&&m>0){for(let P=0;P<6;++P)h.write(Number(ni(x)>>ni(8*(5-P))));x=0,m=0}}break}return f.append(oe.decode(h.toByteArray(),l)),u}static numericCompaction(s,a,l){let u=0,f=!1,h=new Int32Array(Y.MAX_NUMERIC_CODEWORDS);for(;a<s[0]&&!f;){let m=s[a++];if(a===s[0]&&(f=!0),m<Y.TEXT_COMPACTION_MODE_LATCH)h[u]=m,u++;else switch(m){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:a--,f=!0;break}(u%Y.MAX_NUMERIC_CODEWORDS===0||m===Y.NUMERIC_COMPACTION_MODE_LATCH||f)&&u>0&&(l.append(Y.decodeBase900toBase10(h,u)),u=0)}return a}static decodeBase900toBase10(s,a){let l=ni(0);for(let f=0;f<a;f++)l+=Y.EXP900[a-f-1]*ni(s[f]);let u=l.toString();if(u.charAt(0)!=="1")throw new L;return u.substring(1)}}Y.TEXT_COMPACTION_MODE_LATCH=900,Y.BYTE_COMPACTION_MODE_LATCH=901,Y.NUMERIC_COMPACTION_MODE_LATCH=902,Y.BYTE_COMPACTION_MODE_LATCH_6=924,Y.ECI_USER_DEFINED=925,Y.ECI_GENERAL_PURPOSE=926,Y.ECI_CHARSET=927,Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Y.MACRO_PDF417_TERMINATOR=922,Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Y.MAX_NUMERIC_CODEWORDS=15,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Y.PL=25,Y.LL=27,Y.AS=27,Y.ML=28,Y.AL=28,Y.PS=29,Y.PAL=29,Y.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Y.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Y.EXP900=Z1()?Vv():[],Y.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ae{constructor(){}static decode(s,a,l,u,f,h,m){let x=new Ui(s,a,l,u,f),w=null,b=null,A;for(let z=!0;;z=!1){if(a!=null&&(w=Ae.getRowIndicatorColumn(s,x,a,!0,h,m)),u!=null&&(b=Ae.getRowIndicatorColumn(s,x,u,!1,h,m)),A=Ae.merge(w,b),A==null)throw X.getNotFoundInstance();let U=A.getBoundingBox();if(z&&U!=null&&(U.getMinY()<x.getMinY()||U.getMaxY()>x.getMaxY()))x=U;else break}A.setBoundingBox(x);let M=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,w),A.setDetectionResultColumn(M,b);let P=w!=null;for(let z=1;z<=M;z++){let U=P?z:M-z;if(A.getDetectionResultColumn(U)!==void 0)continue;let G;U===0||U===M?G=new G1(x,U===0):G=new ko(x),A.setDetectionResultColumn(U,G);let Z=-1,ee=Z;for(let ne=x.getMinY();ne<=x.getMaxY();ne++){if(Z=Ae.getStartColumn(A,U,ne,P),Z<0||Z>x.getMaxX()){if(ee===-1)continue;Z=ee}let q=Ae.detectCodeword(s,x.getMinX(),x.getMaxX(),P,Z,ne,h,m);q!=null&&(G.setCodeword(ne,q),ee=Z,h=Math.min(h,q.getWidth()),m=Math.max(m,q.getWidth()))}}return Ae.createDecoderResult(A)}static merge(s,a){if(s==null&&a==null)return null;let l=Ae.getBarcodeMetadata(s,a);if(l==null)return null;let u=Ui.merge(Ae.adjustBoundingBox(s),Ae.adjustBoundingBox(a));return new Po(l,u)}static adjustBoundingBox(s){if(s==null)return null;let a=s.getRowHeights();if(a==null)return null;let l=Ae.getMax(a),u=0;for(let m of a)if(u+=l-m,m>0)break;let f=s.getCodewords();for(let m=0;u>0&&f[m]==null;m++)u--;let h=0;for(let m=a.length-1;m>=0&&(h+=l-a[m],!(a[m]>0));m--);for(let m=f.length-1;h>0&&f[m]==null;m--)h--;return s.getBoundingBox().addMissingRows(u,h,s.isLeft())}static getMax(s){let a=-1;for(let l of s)a=Math.max(a,l);return a}static getBarcodeMetadata(s,a){let l;if(s==null||(l=s.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let u;return a==null||(u=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(s,a,l,u,f,h){let m=new G1(a,u);for(let x=0;x<2;x++){let w=x===0?1:-1,b=Math.trunc(Math.trunc(l.getX()));for(let A=Math.trunc(Math.trunc(l.getY()));A<=a.getMaxY()&&A>=a.getMinY();A+=w){let M=Ae.detectCodeword(s,0,s.getWidth(),u,b,A,f,h);M!=null&&(m.setCodeword(A,M),u?b=M.getStartX():b=M.getEndX())}}return m}static adjustCodewordCount(s,a){let l=a[0][1],u=l.getValue(),f=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Ae.getNumberOfECCodeWords(s.getBarcodeECLevel());if(u.length===0){if(f<1||f>Ee.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();l.setValue(f)}else u[0]!==f&&l.setValue(f)}static createDecoderResult(s){let a=Ae.createBarcodeMatrix(s);Ae.adjustCodewordCount(s,a);let l=new Array,u=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),f=[],h=new Array;for(let x=0;x<s.getBarcodeRowCount();x++)for(let w=0;w<s.getBarcodeColumnCount();w++){let b=a[x][w+1].getValue(),A=x*s.getBarcodeColumnCount()+w;b.length===0?l.push(A):b.length===1?u[A]=b[0]:(h.push(A),f.push(b))}let m=new Array(f.length);for(let x=0;x<m.length;x++)m[x]=f[x];return Ae.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),u,Ee.toIntArray(l),Ee.toIntArray(h),m)}static createDecoderResultFromAmbiguousValues(s,a,l,u,f){let h=new Int32Array(u.length),m=100;for(;m-- >0;){for(let x=0;x<h.length;x++)a[u[x]]=f[x][h[x]];try{return Ae.decodeCodewords(a,s,l)}catch(x){if(!(x instanceof _))throw x}if(h.length===0)throw _.getChecksumInstance();for(let x=0;x<h.length;x++)if(h[x]<f[x].length-1){h[x]++;break}else if(h[x]=0,x===h.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(s){let a=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let u=0;u<a.length;u++)for(let f=0;f<a[u].length;f++)a[u][f]=new Do;let l=0;for(let u of s.getDetectionResultColumns()){if(u!=null){for(let f of u.getCodewords())if(f!=null){let h=f.getRowNumber();if(h>=0){if(h>=a.length)continue;a[h][l].setValue(f.getValue())}}}l++}return a}static isValidBarcodeColumn(s,a){return a>=0&&a<=s.getBarcodeColumnCount()+1}static getStartColumn(s,a,l,u){let f=u?1:-1,h=null;if(Ae.isValidBarcodeColumn(s,a-f)&&(h=s.getDetectionResultColumn(a-f).getCodeword(l)),h!=null)return u?h.getEndX():h.getStartX();if(h=s.getDetectionResultColumn(a).getCodewordNearby(l),h!=null)return u?h.getStartX():h.getEndX();if(Ae.isValidBarcodeColumn(s,a-f)&&(h=s.getDetectionResultColumn(a-f).getCodewordNearby(l)),h!=null)return u?h.getEndX():h.getStartX();let m=0;for(;Ae.isValidBarcodeColumn(s,a-f);){a-=f;for(let x of s.getDetectionResultColumn(a).getCodewords())if(x!=null)return(u?x.getEndX():x.getStartX())+f*m*(x.getEndX()-x.getStartX());m++}return u?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,a,l,u,f,h,m,x){f=Ae.adjustCodewordStartColumn(s,a,l,u,f,h);let w=Ae.getModuleBitCount(s,a,l,u,f,h);if(w==null)return null;let b,A=ke.sum(w);if(u)b=f+A;else{for(let z=0;z<w.length/2;z++){let U=w[z];w[z]=w[w.length-1-z],w[w.length-1-z]=U}b=f,f=b-A}if(!Ae.checkCodewordSkew(A,m,x))return null;let M=hn.getDecodedValue(w),P=Ee.getCodeword(M);return P===-1?null:new Lo(f,b,Ae.getCodewordBucketNumber(M),P)}static getModuleBitCount(s,a,l,u,f,h){let m=f,x=new Int32Array(8),w=0,b=u?1:-1,A=u;for(;(u?m<l:m>=a)&&w<x.length;)s.get(m,h)===A?(x[w]++,m+=b):(w++,A=!A);return w===x.length||m===(u?l:a)&&w===x.length-1?x:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,a,l,u,f,h){let m=f,x=u?-1:1;for(let w=0;w<2;w++){for(;(u?m>=a:m<l)&&u===s.get(m,h);){if(Math.abs(f-m)>Ae.CODEWORD_SKEW_SIZE)return f;m+=x}x=-x,u=!u}return m}static checkCodewordSkew(s,a,l){return a-Ae.CODEWORD_SKEW_SIZE<=s&&s<=l+Ae.CODEWORD_SKEW_SIZE}static decodeCodewords(s,a,l){if(s.length===0)throw L.getFormatInstance();let u=1<<a+1,f=Ae.correctErrors(s,l,u);Ae.verifyCodewordCount(s,u);let h=Y.decode(s,""+a);return h.setErrorsCorrected(f),h.setErasures(l.length),h}static correctErrors(s,a,l){if(a!=null&&a.length>l/2+Ae.MAX_ERRORS||l<0||l>Ae.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return Ae.errorCorrection.decode(s,l,a)}static verifyCodewordCount(s,a){if(s.length<4)throw L.getFormatInstance();let l=s[0];if(l>s.length)throw L.getFormatInstance();if(l===0)if(a<s.length)s[0]=s.length-a;else throw L.getFormatInstance()}static getBitCountForCodeword(s){let a=new Int32Array(8),l=0,u=a.length-1;for(;!((s&1)!==l&&(l=s&1,u--,u<0));)a[u]++,s>>=1;return a}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Ae.getCodewordBucketNumber(Ae.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let a=new Mo;for(let l=0;l<s.length;l++){a.format("Row %2d: ",l);for(let u=0;u<s[l].length;u++){let f=s[l][u];f.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}a.format("%n")}return a.toString()}}Ae.CODEWORD_SKEW_SIZE=2,Ae.MAX_ERRORS=3,Ae.MAX_EC_CODEWORDS=512,Ae.errorCorrection=new j1;class Wt{decode(s,a=null){let l=Wt.decode(s,a,!1);if(l==null||l.length===0||l[0]==null)throw X.getNotFoundInstance();return l[0]}decodeMultiple(s,a=null){try{return Wt.decode(s,a,!0)}catch(l){throw l instanceof L||l instanceof _?X.getNotFoundInstance():l}}static decode(s,a,l){const u=new Array,f=Se.detectMultiple(s,a,l);for(const h of f.getPoints()){const m=Ae.decode(f.getBits(),h[4],h[5],h[6],h[7],Wt.getMinCodewordWidth(h),Wt.getMaxCodewordWidth(h)),x=new Me(m.getText(),m.getRawBytes(),void 0,h,ie.PDF_417);x.putMetadata(gt.ERROR_CORRECTION_LEVEL,m.getECLevel());const w=m.getOther();w!=null&&x.putMetadata(gt.PDF417_EXTRA_METADATA,w),u.push(x)}return u.map(h=>h)}static getMaxWidth(s,a){return s==null||a==null?0:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMinWidth(s,a){return s==null||a==null?R.MAX_VALUE:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Wt.getMaxWidth(s[0],s[4]),Wt.getMaxWidth(s[6],s[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.max(Wt.getMaxWidth(s[1],s[5]),Wt.getMaxWidth(s[7],s[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Wt.getMinWidth(s[0],s[4]),Wt.getMinWidth(s[6],s[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.min(Wt.getMinWidth(s[1],s[5]),Wt.getMinWidth(s[7],s[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}reset(){}}class Il extends p{}Il.kind="ReaderException";class K1{constructor(s,a){this.verbose=s===!0,a&&this.setHints(a)}decode(s,a){return a&&this.setHints(a),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const a=!r(s)&&s.get(V.TRY_HARDER)===!0,l=r(s)?null:s.get(V.POSSIBLE_FORMATS),u=new Array;if(!r(l)){const f=l.some(h=>h===ie.UPC_A||h===ie.UPC_E||h===ie.EAN_13||h===ie.EAN_8||h===ie.CODABAR||h===ie.CODE_39||h===ie.CODE_93||h===ie.CODE_128||h===ie.ITF||h===ie.RSS_14||h===ie.RSS_EXPANDED);f&&!a&&u.push(new Is(s,this.verbose)),l.includes(ie.QR_CODE)&&u.push(new ti),l.includes(ie.DATA_MATRIX)&&u.push(new ei),l.includes(ie.AZTEC)&&u.push(new El),l.includes(ie.PDF_417)&&u.push(new Wt),f&&a&&u.push(new Is(s,this.verbose))}u.length===0&&(a||u.push(new Is(s,this.verbose)),u.push(new ti),u.push(new ei),u.push(new El),u.push(new Wt),a&&u.push(new Is(s,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Il("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(s,this.hints)}catch(l){if(l instanceof Il)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class Hv extends At{constructor(s=null,a=500){const l=new K1;l.setHints(s),super(l,a)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class jv extends At{constructor(s=500){super(new Wt,s)}}class Gv extends At{constructor(s=500){super(new ti,s)}}var yf;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(yf||(yf={}));var Rt=yf;class wf{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Yt(s,Int32Array.from([1])))}buildGenerator(s){const a=this.cachedGenerators;if(s>=a.length){let l=a[a.length-1];const u=this.field;for(let f=a.length;f<=s;f++){const h=l.multiply(new Yt(u,Int32Array.from([1,u.exp(f-1+u.getGeneratorBase())])));a.push(h),l=h}}return a[s]}encode(s,a){if(a===0)throw new v("No error correction bytes");const l=s.length-a;if(l<=0)throw new v("No data bytes provided");const u=this.buildGenerator(a),f=new Int32Array(l);S.arraycopy(s,0,f,0,l);let h=new Yt(this.field,f);h=h.multiplyByMonomial(a,1);const x=h.divide(u)[1].getCoefficients(),w=a-x.length;for(let b=0;b<w;b++)s[l+b]=0;S.arraycopy(x,0,s,l+w,x.length)}}class xt{constructor(){}static applyMaskPenaltyRule1(s){return xt.applyMaskPenaltyRule1Internal(s,!0)+xt.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let a=0;const l=s.getArray(),u=s.getWidth(),f=s.getHeight();for(let h=0;h<f-1;h++){const m=l[h];for(let x=0;x<u-1;x++){const w=m[x];w===m[x+1]&&w===l[h+1][x]&&w===l[h+1][x+1]&&a++}}return xt.N2*a}static applyMaskPenaltyRule3(s){let a=0;const l=s.getArray(),u=s.getWidth(),f=s.getHeight();for(let h=0;h<f;h++)for(let m=0;m<u;m++){const x=l[h];m+6<u&&x[m]===1&&x[m+1]===0&&x[m+2]===1&&x[m+3]===1&&x[m+4]===1&&x[m+5]===0&&x[m+6]===1&&(xt.isWhiteHorizontal(x,m-4,m)||xt.isWhiteHorizontal(x,m+7,m+11))&&a++,h+6<f&&l[h][m]===1&&l[h+1][m]===0&&l[h+2][m]===1&&l[h+3][m]===1&&l[h+4][m]===1&&l[h+5][m]===0&&l[h+6][m]===1&&(xt.isWhiteVertical(l,m,h-4,h)||xt.isWhiteVertical(l,m,h+7,h+11))&&a++}return a*xt.N3}static isWhiteHorizontal(s,a,l){a=Math.max(a,0),l=Math.min(l,s.length);for(let u=a;u<l;u++)if(s[u]===1)return!1;return!0}static isWhiteVertical(s,a,l,u){l=Math.max(l,0),u=Math.min(u,s.length);for(let f=l;f<u;f++)if(s[f][a]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let a=0;const l=s.getArray(),u=s.getWidth(),f=s.getHeight();for(let x=0;x<f;x++){const w=l[x];for(let b=0;b<u;b++)w[b]===1&&a++}const h=s.getHeight()*s.getWidth();return Math.floor(Math.abs(a*2-h)*10/h)*xt.N4}static getDataMaskBit(s,a,l){let u,f;switch(s){case 0:u=l+a&1;break;case 1:u=l&1;break;case 2:u=a%3;break;case 3:u=(l+a)%3;break;case 4:u=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:f=l*a,u=(f&1)+f%3;break;case 6:f=l*a,u=(f&1)+f%3&1;break;case 7:f=l*a,u=f%3+(l+a&1)&1;break;default:throw new v("Invalid mask pattern: "+s)}return u===0}static applyMaskPenaltyRule1Internal(s,a){let l=0;const u=a?s.getHeight():s.getWidth(),f=a?s.getWidth():s.getHeight(),h=s.getArray();for(let m=0;m<u;m++){let x=0,w=-1;for(let b=0;b<f;b++){const A=a?h[m][b]:h[b][m];A===w?x++:(x>=5&&(l+=xt.N1+(x-5)),x=1,w=A)}x>=5&&(l+=xt.N1+(x-5))}return l}}xt.N1=3,xt.N2=3,xt.N3=40,xt.N4=10;class Ol{constructor(s,a){this.width=s,this.height=a;const l=new Array(a);for(let u=0;u!==a;u++)l[u]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,a){return this.bytes[a][s]}getArray(){return this.bytes}setNumber(s,a,l){this.bytes[a][s]=l}setBoolean(s,a,l){this.bytes[a][s]=l?1:0}clear(s){for(const a of this.bytes)T.fill(a,s)}equals(s){if(!(s instanceof Ol))return!1;const a=s;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,u=this.height;l<u;++l){const f=this.bytes[l],h=a.bytes[l];for(let m=0,x=this.width;m<x;++m)if(f[m]!==h[m])return!1}return!0}toString(){const s=new xe;for(let a=0,l=this.height;a<l;++a){const u=this.bytes[a];for(let f=0,h=this.width;f<h;++f)switch(u[f]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Wi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new xe;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Wi.NUM_MASK_PATTERNS}}Wi.NUM_MASK_PATTERNS=8;class $e extends p{}$e.kind="WriterException";class we{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,a,l,u,f){we.clearMatrix(f),we.embedBasicPatterns(l,f),we.embedTypeInfo(a,u,f),we.maybeEmbedVersionInfo(l,f),we.embedDataBits(s,u,f)}static embedBasicPatterns(s,a){we.embedPositionDetectionPatternsAndSeparators(a),we.embedDarkDotAtLeftBottomCorner(a),we.maybeEmbedPositionAdjustmentPatterns(s,a),we.embedTimingPatterns(a)}static embedTypeInfo(s,a,l){const u=new B;we.makeTypeInfoBits(s,a,u);for(let f=0,h=u.getSize();f<h;++f){const m=u.get(u.getSize()-1-f),x=we.TYPE_INFO_COORDINATES[f],w=x[0],b=x[1];if(l.setBoolean(w,b,m),f<8){const A=l.getWidth()-f-1,M=8;l.setBoolean(A,M,m)}else{const M=l.getHeight()-7+(f-8);l.setBoolean(8,M,m)}}}static maybeEmbedVersionInfo(s,a){if(s.getVersionNumber()<7)return;const l=new B;we.makeVersionInfoBits(s,l);let u=6*3-1;for(let f=0;f<6;++f)for(let h=0;h<3;++h){const m=l.get(u);u--,a.setBoolean(f,a.getHeight()-11+h,m),a.setBoolean(a.getHeight()-11+h,f,m)}}static embedDataBits(s,a,l){let u=0,f=-1,h=l.getWidth()-1,m=l.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);m>=0&&m<l.getHeight();){for(let x=0;x<2;++x){const w=h-x;if(!we.isEmpty(l.get(w,m)))continue;let b;u<s.getSize()?(b=s.get(u),++u):b=!1,a!==255&&xt.getDataMaskBit(a,w,m)&&(b=!b),l.setBoolean(w,m,b)}m+=f}f=-f,m+=f,h-=2}if(u!==s.getSize())throw new $e("Not all bits consumed: "+u+"/"+s.getSize())}static findMSBSet(s){return 32-R.numberOfLeadingZeros(s)}static calculateBCHCode(s,a){if(a===0)throw new v("0 polynomial");const l=we.findMSBSet(a);for(s<<=l-1;we.findMSBSet(s)>=l;)s^=a<<we.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,a,l){if(!Wi.isValidMaskPattern(a))throw new $e("Invalid mask pattern");const u=s.getBits()<<3|a;l.appendBits(u,5);const f=we.calculateBCHCode(u,we.TYPE_INFO_POLY);l.appendBits(f,10);const h=new B;if(h.appendBits(we.TYPE_INFO_MASK_PATTERN,15),l.xor(h),l.getSize()!==15)throw new $e("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,a){a.appendBits(s.getVersionNumber(),6);const l=we.calculateBCHCode(s.getVersionNumber(),we.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new $e("should not happen but we got: "+a.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let a=8;a<s.getWidth()-8;++a){const l=(a+1)%2;we.isEmpty(s.get(a,6))&&s.setNumber(a,6,l),we.isEmpty(s.get(6,a))&&s.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new $e;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,a,l){for(let u=0;u<8;++u){if(!we.isEmpty(l.get(s+u,a)))throw new $e;l.setNumber(s+u,a,0)}}static embedVerticalSeparationPattern(s,a,l){for(let u=0;u<7;++u){if(!we.isEmpty(l.get(s,a+u)))throw new $e;l.setNumber(s,a+u,0)}}static embedPositionAdjustmentPattern(s,a,l){for(let u=0;u<5;++u){const f=we.POSITION_ADJUSTMENT_PATTERN[u];for(let h=0;h<5;++h)l.setNumber(s+h,a+u,f[h])}}static embedPositionDetectionPattern(s,a,l){for(let u=0;u<7;++u){const f=we.POSITION_DETECTION_PATTERN[u];for(let h=0;h<7;++h)l.setNumber(s+h,a+u,f[h])}}static embedPositionDetectionPatternsAndSeparators(s){const a=we.POSITION_DETECTION_PATTERN[0].length;we.embedPositionDetectionPattern(0,0,s),we.embedPositionDetectionPattern(s.getWidth()-a,0,s),we.embedPositionDetectionPattern(0,s.getWidth()-a,s);const l=8;we.embedHorizontalSeparationPattern(0,l-1,s),we.embedHorizontalSeparationPattern(s.getWidth()-l,l-1,s),we.embedHorizontalSeparationPattern(0,s.getWidth()-l,s);const u=7;we.embedVerticalSeparationPattern(u,0,s),we.embedVerticalSeparationPattern(s.getHeight()-u-1,0,s),we.embedVerticalSeparationPattern(u,s.getHeight()-u,s)}static maybeEmbedPositionAdjustmentPatterns(s,a){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,u=we.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let f=0,h=u.length;f!==h;f++){const m=u[f];if(m>=0)for(let x=0;x!==h;x++){const w=u[x];w>=0&&we.isEmpty(a.get(w,m))&&we.embedPositionAdjustmentPattern(w-2,m-2,a)}}}}we.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),we.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),we.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),we.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),we.VERSION_INFO_POLY=7973,we.TYPE_INFO_POLY=1335,we.TYPE_INFO_MASK_PATTERN=21522;class Xv{constructor(s,a){this.dataBytes=s,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Je{constructor(){}static calculateMaskPenalty(s){return xt.applyMaskPenaltyRule1(s)+xt.applyMaskPenaltyRule2(s)+xt.applyMaskPenaltyRule3(s)+xt.applyMaskPenaltyRule4(s)}static encode(s,a,l=null){let u=Je.DEFAULT_BYTE_MODE_ENCODING;const f=l!==null&&l.get(Rt.CHARACTER_SET)!==void 0;f&&(u=l.get(Rt.CHARACTER_SET).toString());const h=this.chooseMode(s,u),m=new B;if(h===ye.BYTE&&(f||Je.DEFAULT_BYTE_MODE_ENCODING!==u)){const ne=H.getCharacterSetECIByName(u);ne!==void 0&&this.appendECI(ne,m)}this.appendModeInfo(h,m);const x=new B;this.appendBytes(s,h,x,u);let w;if(l!==null&&l.get(Rt.QR_VERSION)!==void 0){const ne=Number.parseInt(l.get(Rt.QR_VERSION).toString(),10);w=me.getVersionForNumber(ne);const q=this.calculateBitsNeeded(h,m,x,w);if(!this.willFit(q,w,a))throw new $e("Data too big for requested version")}else w=this.recommendVersion(a,h,m,x);const b=new B;b.appendBitArray(m);const A=h===ye.BYTE?x.getSizeInBytes():s.length;this.appendLengthInfo(A,w,h,b),b.appendBitArray(x);const M=w.getECBlocksForLevel(a),P=w.getTotalCodewords()-M.getTotalECCodewords();this.terminateBits(P,b);const z=this.interleaveWithECBytes(b,w.getTotalCodewords(),P,M.getNumBlocks()),U=new Wi;U.setECLevel(a),U.setMode(h),U.setVersion(w);const G=w.getDimensionForVersion(),Z=new Ol(G,G),ee=this.chooseMaskPattern(z,a,w,Z);return U.setMaskPattern(ee),we.buildMatrix(z,a,w,ee,Z),U.setMatrix(Z),U}static recommendVersion(s,a,l,u){const f=this.calculateBitsNeeded(a,l,u,me.getVersionForNumber(1)),h=this.chooseVersion(f,s),m=this.calculateBitsNeeded(a,l,u,h);return this.chooseVersion(m,s)}static calculateBitsNeeded(s,a,l,u){return a.getSize()+s.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(s){return s<Je.ALPHANUMERIC_TABLE.length?Je.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,a=null){if(H.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(s))return ye.KANJI;let l=!1,u=!1;for(let f=0,h=s.length;f<h;++f){const m=s.charAt(f);if(Je.isDigit(m))l=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)u=!0;else return ye.BYTE}return u?ye.ALPHANUMERIC:l?ye.NUMERIC:ye.BYTE}static isOnlyDoubleByteKanji(s){let a;try{a=oe.encode(s,H.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const f=a[u]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(s,a,l,u){let f=Number.MAX_SAFE_INTEGER,h=-1;for(let m=0;m<Wi.NUM_MASK_PATTERNS;m++){we.buildMatrix(s,a,l,m,u);let x=this.calculateMaskPenalty(u);x<f&&(f=x,h=m)}return h}static chooseVersion(s,a){for(let l=1;l<=40;l++){const u=me.getVersionForNumber(l);if(Je.willFit(s,u,a))return u}throw new $e("Data too big")}static willFit(s,a,l){const u=a.getTotalCodewords(),h=a.getECBlocksForLevel(l).getTotalECCodewords(),m=u-h,x=(s+7)/8;return m>=x}static terminateBits(s,a){const l=s*8;if(a.getSize()>l)throw new $e("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let h=0;h<4&&a.getSize()<l;++h)a.appendBit(!1);const u=a.getSize()&7;if(u>0)for(let h=u;h<8;h++)a.appendBit(!1);const f=s-a.getSizeInBytes();for(let h=0;h<f;++h)a.appendBits(h&1?17:236,8);if(a.getSize()!==l)throw new $e("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,a,l,u,f,h){if(u>=l)throw new $e("Block ID too large");const m=s%l,x=l-m,w=Math.floor(s/l),b=w+1,A=Math.floor(a/l),M=A+1,P=w-A,z=b-M;if(P!==z)throw new $e("EC bytes mismatch");if(l!==x+m)throw new $e("RS blocks mismatch");if(s!==(A+P)*x+(M+z)*m)throw new $e("Total bytes mismatch");u<x?(f[0]=A,h[0]=P):(f[0]=M,h[0]=z)}static interleaveWithECBytes(s,a,l,u){if(s.getSizeInBytes()!==l)throw new $e("Number of bits and data bytes does not match");let f=0,h=0,m=0;const x=new Array;for(let b=0;b<u;++b){const A=new Int32Array(1),M=new Int32Array(1);Je.getNumDataBytesAndNumECBytesForBlockID(a,l,u,b,A,M);const P=A[0],z=new Uint8Array(P);s.toBytes(8*f,z,0,P);const U=Je.generateECBytes(z,M[0]);x.push(new Xv(z,U)),h=Math.max(h,P),m=Math.max(m,U.length),f+=A[0]}if(l!==f)throw new $e("Data bytes does not match offset");const w=new B;for(let b=0;b<h;++b)for(const A of x){const M=A.getDataBytes();b<M.length&&w.appendBits(M[b],8)}for(let b=0;b<m;++b)for(const A of x){const M=A.getErrorCorrectionBytes();b<M.length&&w.appendBits(M[b],8)}if(a!==w.getSizeInBytes())throw new $e("Interleaving error: "+a+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(s,a){const l=s.length,u=new Int32Array(l+a);for(let h=0;h<l;h++)u[h]=s[h]&255;new wf(Te.QR_CODE_FIELD_256).encode(u,a);const f=new Uint8Array(a);for(let h=0;h<a;h++)f[h]=u[l+h];return f}static appendModeInfo(s,a){a.appendBits(s.getBits(),4)}static appendLengthInfo(s,a,l,u){const f=l.getCharacterCountBits(a);if(s>=1<<f)throw new $e(s+" is bigger than "+((1<<f)-1));u.appendBits(s,f)}static appendBytes(s,a,l,u){switch(a){case ye.NUMERIC:Je.appendNumericBytes(s,l);break;case ye.ALPHANUMERIC:Je.appendAlphanumericBytes(s,l);break;case ye.BYTE:Je.append8BitBytes(s,l,u);break;case ye.KANJI:Je.appendKanjiBytes(s,l);break;default:throw new $e("Invalid mode: "+a)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const a=Je.getDigit(s);return a>=0&&a<=9}static appendNumericBytes(s,a){const l=s.length;let u=0;for(;u<l;){const f=Je.getDigit(s.charAt(u));if(u+2<l){const h=Je.getDigit(s.charAt(u+1)),m=Je.getDigit(s.charAt(u+2));a.appendBits(f*100+h*10+m,10),u+=3}else if(u+1<l){const h=Je.getDigit(s.charAt(u+1));a.appendBits(f*10+h,7),u+=2}else a.appendBits(f,4),u++}}static appendAlphanumericBytes(s,a){const l=s.length;let u=0;for(;u<l;){const f=Je.getAlphanumericCode(s.charCodeAt(u));if(f===-1)throw new $e;if(u+1<l){const h=Je.getAlphanumericCode(s.charCodeAt(u+1));if(h===-1)throw new $e;a.appendBits(f*45+h,11),u+=2}else a.appendBits(f,6),u++}}static append8BitBytes(s,a,l){let u;try{u=oe.encode(s,l)}catch(f){throw new $e(f)}for(let f=0,h=u.length;f!==h;f++){const m=u[f];a.appendBits(m,8)}}static appendKanjiBytes(s,a){let l;try{l=oe.encode(s,H.SJIS)}catch(f){throw new $e(f)}const u=l.length;for(let f=0;f<u;f+=2){const h=l[f]&255,m=l[f+1]&255,x=h<<8&4294967295|m;let w=-1;if(x>=33088&&x<=40956?w=x-33088:x>=57408&&x<=60351&&(w=x-49472),w===-1)throw new $e("Invalid byte sequence");const b=(w>>8)*192+(w&255);a.appendBits(b,13)}}static appendECI(s,a){a.appendBits(ye.ECI.getBits(),4),a.appendBits(s.getValue(),8)}}Je.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Je.DEFAULT_BYTE_MODE_ENCODING=H.UTF8.getName();class Vi{write(s,a,l,u=null){if(s.length===0)throw new v("Found empty contents");if(a<0||l<0)throw new v("Requested dimensions are too small: "+a+"x"+l);let f=Ke.L,h=Vi.QUIET_ZONE_SIZE;u!==null&&(u.get(Rt.ERROR_CORRECTION)!==void 0&&(f=Ke.fromString(u.get(Rt.ERROR_CORRECTION).toString())),u.get(Rt.MARGIN)!==void 0&&(h=Number.parseInt(u.get(Rt.MARGIN).toString(),10)));const m=Je.encode(s,f,u);return this.renderResult(m,a,l,h)}writeToDom(s,a,l,u,f=null){typeof s=="string"&&(s=document.querySelector(s));const h=this.write(a,l,u,f);s&&s.appendChild(h)}renderResult(s,a,l,u){const f=s.getMatrix();if(f===null)throw new fr;const h=f.getWidth(),m=f.getHeight(),x=h+u*2,w=m+u*2,b=Math.max(a,x),A=Math.max(l,w),M=Math.min(Math.floor(b/x),Math.floor(A/w)),P=Math.floor((b-h*M)/2),z=Math.floor((A-m*M)/2),U=this.createSVGElement(b,A);for(let G=0,Z=z;G<m;G++,Z+=M)for(let ee=0,ne=P;ee<h;ee++,ne+=M)if(f.get(ee,G)===1){const q=this.createSvgRectElement(ne,Z,M,M);U.appendChild(q)}return U}createSVGElement(s,a){const l=document.createElementNS(Vi.SVG_NS,"svg");return l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(s,a,l,u){const f=document.createElementNS(Vi.SVG_NS,"rect");return f.setAttributeNS(null,"x",s.toString()),f.setAttributeNS(null,"y",a.toString()),f.setAttributeNS(null,"height",l.toString()),f.setAttributeNS(null,"width",u.toString()),f.setAttributeNS(null,"fill","#000000"),f}}Vi.QUIET_ZONE_SIZE=4,Vi.SVG_NS="http://www.w3.org/2000/svg";class Ts{encode(s,a,l,u,f){if(s.length===0)throw new v("Found empty contents");if(a!==ie.QR_CODE)throw new v("Can only encode QR_CODE, but got "+a);if(l<0||u<0)throw new v(`Requested dimensions are too small: ${l}x${u}`);let h=Ke.L,m=Ts.QUIET_ZONE_SIZE;f!==null&&(f.get(Rt.ERROR_CORRECTION)!==void 0&&(h=Ke.fromString(f.get(Rt.ERROR_CORRECTION).toString())),f.get(Rt.MARGIN)!==void 0&&(m=Number.parseInt(f.get(Rt.MARGIN).toString(),10)));const x=Je.encode(s,h,f);return Ts.renderResult(x,l,u,m)}static renderResult(s,a,l,u){const f=s.getMatrix();if(f===null)throw new fr;const h=f.getWidth(),m=f.getHeight(),x=h+u*2,w=m+u*2,b=Math.max(a,x),A=Math.max(l,w),M=Math.min(Math.floor(b/x),Math.floor(A/w)),P=Math.floor((b-h*M)/2),z=Math.floor((A-m*M)/2),U=new Ce(b,A);for(let G=0,Z=z;G<m;G++,Z+=M)for(let ee=0,ne=P;ee<h;ee++,ne+=M)f.get(ee,G)===1&&U.setRegion(ne,Z,M,M);return U}}Ts.QUIET_ZONE_SIZE=4;class $v{encode(s,a,l,u,f){let h;switch(a){case ie.QR_CODE:h=new Ts;break;default:throw new v("No encoder available for format "+a)}return h.encode(s,a,l,u,f)}}class pr extends re{constructor(s,a,l,u,f,h,m,x){if(super(h,m),this.yuvData=s,this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=f,u+h>a||f+m>l)throw new v("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(h,m)}getRow(s,a){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(s+this.top)*this.dataWidth+this.left;return S.arraycopy(this.yuvData,u,a,0,l),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=s*a,u=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return S.arraycopy(this.yuvData,f,u,0,l),u;for(let h=0;h<a;h++){const m=h*s;S.arraycopy(this.yuvData,f,u,m,s),f+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,a,l,u){return new pr(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+a,l,u,!1)}renderThumbnail(){const s=this.getWidth()/pr.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/pr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(s*a),u=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let h=0;h<a;h++){const m=h*s;for(let x=0;x<s;x++){const w=u[f+x*pr.THUMBNAIL_SCALE_FACTOR]&255;l[m+x]=4278190080|w*65793}f+=this.dataWidth*pr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/pr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/pr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,a){const l=this.yuvData;for(let u=0,f=this.top*this.dataWidth+this.left;u<a;u++,f+=this.dataWidth){const h=f+s/2;for(let m=f,x=f+s-1;m<h;m++,x--){const w=l[m];l[m]=l[x],l[x]=w}}}invert(){return new ae(this)}}pr.THUMBNAIL_SCALE_FACTOR=2;class vf extends re{constructor(s,a,l,u,f,h,m){if(super(a,l),this.dataWidth=u,this.dataHeight=f,this.left=h,this.top=m,s.BYTES_PER_ELEMENT===4){const x=a*l,w=new Uint8ClampedArray(x);for(let b=0;b<x;b++){const A=s[b],M=A>>16&255,P=A>>7&510,z=A&255;w[b]=(M+P+z)/4&255}this.luminances=w}else this.luminances=s;if(u===void 0&&(this.dataWidth=a),f===void 0&&(this.dataHeight=l),h===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(s,a){if(s<0||s>=this.getHeight())throw new v("Requested row is outside the image: "+s);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(s+this.top)*this.dataWidth+this.left;return S.arraycopy(this.luminances,u,a,0,l),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=s*a,u=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return S.arraycopy(this.luminances,f,u,0,l),u;for(let h=0;h<a;h++){const m=h*s;S.arraycopy(this.luminances,f,u,m,s),f+=this.dataWidth}return u}isCropSupported(){return!0}crop(s,a,l,u){return new vf(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+s,this.top+a)}invert(){return new ae(this)}}class q1 extends H{static forName(s){return this.getCharacterSetECIByName(s)}}class Ef{}Ef.ISO_8859_1=H.ISO8859_1;class Q1{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class J1{static singletonList(s){return[s]}static min(s,a){return s.sort(a)[0]}}class Yv{constructor(s){this.previous=s}getPrevious(){return this.previous}}class Ns extends Yv{constructor(s,a,l){super(s),this.value=a,this.bitCount=l}appendTo(s,a){s.appendBits(this.value,this.bitCount)}add(s,a){return new Ns(this,s,a)}addBinaryShift(s,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ns(this,s,a)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+R.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class bf extends Ns{constructor(s,a,l){super(s,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(s,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):l===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(s,a){return new bf(this,s,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Zv(C,s,a){return new bf(C,s,a)}function Bo(C,s,a){return new Ns(C,s,a)}const Kv=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ri=0,Tl=1,Un=2,eg=3,mr=4,qv=new Ns(null,0,0),_f=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function Qv(C){for(let s of C)T.fill(s,-1);return C[ri][mr]=0,C[Tl][mr]=0,C[Tl][ri]=28,C[eg][mr]=0,C[Un][mr]=0,C[Un][ri]=15,C}const tg=Qv(T.createInt32Array(6,6));class xr{constructor(s,a,l,u){this.token=s,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,a){let l=this.bitCount,u=this.token;if(s!==this.mode){let h=_f[this.mode][s];u=Bo(u,h&65535,h>>16),l+=h>>16}let f=s===Un?4:5;return u=Bo(u,a,f),new xr(u,s,0,l+f)}shiftAndAppend(s,a){let l=this.token,u=this.mode===Un?4:5;return l=Bo(l,tg[this.mode][s],u),l=Bo(l,a,5),new xr(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(s){let a=this.token,l=this.mode,u=this.bitCount;if(this.mode===mr||this.mode===Un){let m=_f[l][ri];a=Bo(a,m&65535,m>>16),u+=m>>16,l=ri}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new xr(a,l,this.binaryShiftByteCount+1,u+f);return h.binaryShiftByteCount===2047+31&&(h=h.endBinaryShift(s+1)),h}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Zv(a,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new xr(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let a=this.bitCount+(_f[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?a+=xr.calculateBinaryShiftCost(s)-xr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(a+=10),a<=s.bitCount}toBitArray(s){let a=[];for(let u=this.endBinaryShift(s.length).token;u!==null;u=u.getPrevious())a.unshift(u);let l=new B;for(const u of a)u.appendTo(l,s);return l}toString(){return te.format("%s bits=%d bytes=%d",Kv[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}xr.INITIAL_STATE=new xr(qv,ri,0,0);function Jv(C){const s=te.getCharCode(" "),a=te.getCharCode("."),l=te.getCharCode(",");C[ri][s]=1;const u=te.getCharCode("Z"),f=te.getCharCode("A");for(let M=f;M<=u;M++)C[ri][M]=M-f+2;C[Tl][s]=1;const h=te.getCharCode("z"),m=te.getCharCode("a");for(let M=m;M<=h;M++)C[Tl][M]=M-m+2;C[Un][s]=1;const x=te.getCharCode("9"),w=te.getCharCode("0");for(let M=w;M<=x;M++)C[Un][M]=M-w+2;C[Un][l]=12,C[Un][a]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let M=0;M<b.length;M++)C[eg][te.getCharCode(b[M])]=M;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let M=0;M<A.length;M++)te.getCharCode(A[M])>0&&(C[mr][te.getCharCode(A[M])]=M);return C}const Cf=Jv(T.createInt32Array(5,256));class Fo{constructor(s){this.text=s}encode(){const s=te.getCharCode(" "),a=te.getCharCode(`
`);let l=J1.singletonList(xr.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let h,m=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case te.getCharCode("\r"):h=m===a?2:0;break;case te.getCharCode("."):h=m===s?3:0;break;case te.getCharCode(","):h=m===s?4:0;break;case te.getCharCode(":"):h=m===s?5:0;break;default:h=0}h>0?(l=Fo.updateStateListForPair(l,f,h),f++):l=this.updateStateListForChar(l,f)}return J1.min(l,(f,h)=>f.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,a){const l=[];for(let u of s)this.updateStateForChar(u,a,l);return Fo.simplifyStates(l)}updateStateForChar(s,a,l){let u=this.text[a]&255,f=Cf[s.getMode()][u]>0,h=null;for(let m=0;m<=mr;m++){let x=Cf[m][u];if(x>0){if(h==null&&(h=s.endBinaryShift(a)),!f||m===s.getMode()||m===Un){const w=h.latchAndAppend(m,x);l.push(w)}if(!f&&tg[s.getMode()][m]>=0){const w=h.shiftAndAppend(m,x);l.push(w)}}}if(s.getBinaryShiftByteCount()>0||Cf[s.getMode()][u]===0){let m=s.addBinaryShiftChar(a);l.push(m)}}static updateStateListForPair(s,a,l){const u=[];for(let f of s)this.updateStateForPair(f,a,l,u);return this.simplifyStates(u)}static updateStateForPair(s,a,l,u){let f=s.endBinaryShift(a);if(u.push(f.latchAndAppend(mr,l)),s.getMode()!==mr&&u.push(f.shiftAndAppend(mr,l)),l===3||l===4){let h=f.latchAndAppend(Un,16-l).latchAndAppend(Un,1);u.push(h)}if(s.getBinaryShiftByteCount()>0){let h=s.addBinaryShiftChar(a).addBinaryShiftChar(a+1);u.push(h)}}static simplifyStates(s){let a=[];for(const l of s){let u=!0;for(const f of a){if(f.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(f)&&(a=a.filter(h=>h!==f))}u&&a.push(l)}return a}}class De{constructor(){}static encodeBytes(s){return De.encode(s,De.DEFAULT_EC_PERCENT,De.DEFAULT_AZTEC_LAYERS)}static encode(s,a,l){let u=new Fo(s).encode(),f=R.truncDivision(u.getSize()*a,100)+11,h=u.getSize()+f,m,x,w,b,A;if(l!==De.DEFAULT_AZTEC_LAYERS){if(m=l<0,x=Math.abs(l),x>(m?De.MAX_NB_BITS_COMPACT:De.MAX_NB_BITS))throw new v(te.format("Illegal value %s for layers",l));w=De.totalBitsInLayer(x,m),b=De.WORD_SIZE[x];let q=w-w%b;if(A=De.stuffBits(u,b),A.getSize()+f>q)throw new v("Data to large for user specified layer");if(m&&A.getSize()>b*64)throw new v("Data to large for user specified layer")}else{b=0,A=null;for(let q=0;;q++){if(q>De.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(m=q<=3,x=m?q+1:q,w=De.totalBitsInLayer(x,m),h>w)continue;(A==null||b!==De.WORD_SIZE[x])&&(b=De.WORD_SIZE[x],A=De.stuffBits(u,b));let Ne=w-w%b;if(!(m&&A.getSize()>b*64)&&A.getSize()+f<=Ne)break}}let M=De.generateCheckWords(A,w,b),P=A.getSize()/b,z=De.generateModeMessage(m,x,P),U=(m?11:14)+x*4,G=new Int32Array(U),Z;if(m){Z=U;for(let q=0;q<G.length;q++)G[q]=q}else{Z=U+1+2*R.truncDivision(R.truncDivision(U,2)-1,15);let q=R.truncDivision(U,2),Ne=R.truncDivision(Z,2);for(let _e=0;_e<q;_e++){let gn=_e+R.truncDivision(_e,15);G[q-_e-1]=Ne-gn-1,G[q+_e]=Ne+gn+1}}let ee=new Ce(Z);for(let q=0,Ne=0;q<x;q++){let _e=(x-q)*4+(m?9:12);for(let gn=0;gn<_e;gn++){let Jn=gn*2;for(let pn=0;pn<2;pn++)M.get(Ne+Jn+pn)&&ee.set(G[q*2+pn],G[q*2+gn]),M.get(Ne+_e*2+Jn+pn)&&ee.set(G[q*2+gn],G[U-1-q*2-pn]),M.get(Ne+_e*4+Jn+pn)&&ee.set(G[U-1-q*2-pn],G[U-1-q*2-gn]),M.get(Ne+_e*6+Jn+pn)&&ee.set(G[U-1-q*2-gn],G[q*2+pn])}Ne+=_e*8}if(De.drawModeMessage(ee,m,Z,z),m)De.drawBullsEye(ee,R.truncDivision(Z,2),5);else{De.drawBullsEye(ee,R.truncDivision(Z,2),7);for(let q=0,Ne=0;q<R.truncDivision(U,2)-1;q+=15,Ne+=16)for(let _e=R.truncDivision(Z,2)&1;_e<Z;_e+=2)ee.set(R.truncDivision(Z,2)-Ne,_e),ee.set(R.truncDivision(Z,2)+Ne,_e),ee.set(_e,R.truncDivision(Z,2)-Ne),ee.set(_e,R.truncDivision(Z,2)+Ne)}let ne=new Q1;return ne.setCompact(m),ne.setSize(Z),ne.setLayers(x),ne.setCodeWords(P),ne.setMatrix(ee),ne}static drawBullsEye(s,a,l){for(let u=0;u<l;u+=2)for(let f=a-u;f<=a+u;f++)s.set(f,a-u),s.set(f,a+u),s.set(a-u,f),s.set(a+u,f);s.set(a-l,a-l),s.set(a-l+1,a-l),s.set(a-l,a-l+1),s.set(a+l,a-l),s.set(a+l,a-l+1),s.set(a+l,a+l-1)}static generateModeMessage(s,a,l){let u=new B;return s?(u.appendBits(a-1,2),u.appendBits(l-1,6),u=De.generateCheckWords(u,28,4)):(u.appendBits(a-1,5),u.appendBits(l-1,11),u=De.generateCheckWords(u,40,4)),u}static drawModeMessage(s,a,l,u){let f=R.truncDivision(l,2);if(a)for(let h=0;h<7;h++){let m=f-3+h;u.get(h)&&s.set(m,f-5),u.get(h+7)&&s.set(f+5,m),u.get(20-h)&&s.set(m,f+5),u.get(27-h)&&s.set(f-5,m)}else for(let h=0;h<10;h++){let m=f-5+h+R.truncDivision(h,5);u.get(h)&&s.set(m,f-7),u.get(h+10)&&s.set(f+7,m),u.get(29-h)&&s.set(m,f+7),u.get(39-h)&&s.set(f-7,m)}}static generateCheckWords(s,a,l){let u=s.getSize()/l,f=new wf(De.getGF(l)),h=R.truncDivision(a,l),m=De.bitsToWords(s,l,h);f.encode(m,h-u);let x=a%l,w=new B;w.appendBits(0,x);for(const b of Array.from(m))w.appendBits(b,l);return w}static bitsToWords(s,a,l){let u=new Int32Array(l),f,h;for(f=0,h=s.getSize()/a;f<h;f++){let m=0;for(let x=0;x<a;x++)m|=s.get(f*a+x)?1<<a-x-1:0;u[f]=m}return u}static getGF(s){switch(s){case 4:return Te.AZTEC_PARAM;case 6:return Te.AZTEC_DATA_6;case 8:return Te.AZTEC_DATA_8;case 10:return Te.AZTEC_DATA_10;case 12:return Te.AZTEC_DATA_12;default:throw new v("Unsupported word size "+s)}}static stuffBits(s,a){let l=new B,u=s.getSize(),f=(1<<a)-2;for(let h=0;h<u;h+=a){let m=0;for(let x=0;x<a;x++)(h+x>=u||s.get(h+x))&&(m|=1<<a-1-x);(m&f)===f?(l.appendBits(m&f,a),h--):m&f?l.appendBits(m,a):(l.appendBits(m|1,a),h--)}return l}static totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}De.DEFAULT_EC_PERCENT=33,De.DEFAULT_AZTEC_LAYERS=0,De.MAX_NB_BITS=32,De.MAX_NB_BITS_COMPACT=4,De.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Nl{encode(s,a,l,u){return this.encodeWithHints(s,a,l,u,null)}encodeWithHints(s,a,l,u,f){let h=Ef.ISO_8859_1,m=De.DEFAULT_EC_PERCENT,x=De.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(Rt.CHARACTER_SET)&&(h=q1.forName(f.get(Rt.CHARACTER_SET).toString())),f.has(Rt.ERROR_CORRECTION)&&(m=R.parseInt(f.get(Rt.ERROR_CORRECTION).toString())),f.has(Rt.AZTEC_LAYERS)&&(x=R.parseInt(f.get(Rt.AZTEC_LAYERS).toString()))),Nl.encodeLayers(s,a,l,u,h,m,x)}static encodeLayers(s,a,l,u,f,h,m){if(a!==ie.AZTEC)throw new v("Can only encode AZTEC, but got "+a);let x=De.encode(te.getBytes(s,f),h,m);return Nl.renderResult(x,l,u)}static renderResult(s,a,l){let u=s.getMatrix();if(u==null)throw new fr;let f=u.getWidth(),h=u.getHeight(),m=Math.max(a,f),x=Math.max(l,h),w=Math.min(m/f,x/h),b=(m-f*w)/2,A=(x-h*w)/2,M=new Ce(m,x);for(let P=0,z=A;P<h;P++,z+=w)for(let U=0,G=b;U<f;U++,G+=w)u.get(U,P)&&M.setRegion(G,z,w,w);return M}}n.AbstractExpandedDecoder=cf,n.ArgumentException=y,n.ArithmeticException=bs,n.AztecCode=Q1,n.AztecCodeReader=El,n.AztecCodeWriter=Nl,n.AztecDecoder=Ze,n.AztecDetector=F1,n.AztecDetectorResult=L1,n.AztecEncoder=De,n.AztecHighLevelEncoder=Fo,n.AztecPoint=nn,n.BarcodeFormat=ie,n.Binarizer=N,n.BinaryBitmap=E,n.BitArray=B,n.BitMatrix=Ce,n.BitSource=hf,n.BrowserAztecCodeReader=Sv,n.BrowserBarcodeReader=Nv,n.BrowserCodeReader=At,n.BrowserDatamatrixCodeReader=Mv,n.BrowserMultiFormatReader=Hv,n.BrowserPDF417Reader=jv,n.BrowserQRCodeReader=Gv,n.BrowserQRCodeSvgWriter=Vi,n.CharacterSetECI=H,n.ChecksumException=_,n.Code128Reader=se,n.Code39Reader=Tt,n.DataMatrixDecodedBitStreamParser=Jr,n.DataMatrixReader=ei,n.DecodeHintType=V,n.DecoderResult=Kr,n.DefaultGridSampler=B1,n.DetectorResult=vl,n.EAN13Reader=Bi,n.EncodeHintType=Rt,n.Exception=p,n.FormatException=L,n.GenericGF=Te,n.GenericGFPoly=Yt,n.GlobalHistogramBinarizer=ve,n.GridSampler=sf,n.GridSamplerInstance=qr,n.HTMLCanvasElementLuminanceSource=pe,n.HybridBinarizer=le,n.ITFReader=Xe,n.IllegalArgumentException=v,n.IllegalStateException=fr,n.InvertedLuminanceSource=ae,n.LuminanceSource=re,n.MathUtils=ke,n.MultiFormatOneDReader=Is,n.MultiFormatReader=K1,n.MultiFormatWriter=$v,n.NotFoundException=X,n.OneDReader=It,n.PDF417DecodedBitStreamParser=Y,n.PDF417DecoderErrorCorrection=j1,n.PDF417Reader=Wt,n.PDF417ResultMetadata=X1,n.PerspectiveTransform=qn,n.PlanarYUVLuminanceSource=pr,n.QRCodeByteMatrix=Ol,n.QRCodeDataMask=Fn,n.QRCodeDecodedBitStreamParser=lt,n.QRCodeDecoderErrorCorrectionLevel=Ke,n.QRCodeDecoderFormatInformation=Kt,n.QRCodeEncoder=Je,n.QRCodeEncoderQRCode=Wi,n.QRCodeMaskUtil=xt,n.QRCodeMatrixUtil=we,n.QRCodeMode=ye,n.QRCodeReader=ti,n.QRCodeVersion=me,n.QRCodeWriter=Ts,n.RGBLuminanceSource=vf,n.RSS14Reader=mt,n.RSSExpandedReader=K,n.ReaderException=Il,n.ReedSolomonDecoder=To,n.ReedSolomonEncoder=wf,n.ReedSolomonException=_s,n.Result=Me,n.ResultMetadataType=gt,n.ResultPoint=ge,n.StringUtils=te,n.UnsupportedOperationException=Q,n.VideoInputDevice=Fe,n.WhiteRectangleDetector=Nr,n.WriterException=$e,n.ZXingArrays=T,n.ZXingCharset=q1,n.ZXingInteger=R,n.ZXingStandardCharsets=Ef,n.ZXingStringBuilder=xe,n.ZXingStringEncoding=oe,n.ZXingSystem=S,n.createAbstractExpandedDecoder=V1,Object.defineProperty(n,"__esModule",{value:!0})})})(Dh,Dh.exports);var tt=Dh.exports;const DM=Ph(tt),PM=iE({__proto__:null,default:DM},[tt]);var ux=function(){function t(e,n,r){if(this.formatMap=new Map([[fe.QR_CODE,tt.BarcodeFormat.QR_CODE],[fe.AZTEC,tt.BarcodeFormat.AZTEC],[fe.CODABAR,tt.BarcodeFormat.CODABAR],[fe.CODE_39,tt.BarcodeFormat.CODE_39],[fe.CODE_93,tt.BarcodeFormat.CODE_93],[fe.CODE_128,tt.BarcodeFormat.CODE_128],[fe.DATA_MATRIX,tt.BarcodeFormat.DATA_MATRIX],[fe.MAXICODE,tt.BarcodeFormat.MAXICODE],[fe.ITF,tt.BarcodeFormat.ITF],[fe.EAN_13,tt.BarcodeFormat.EAN_13],[fe.EAN_8,tt.BarcodeFormat.EAN_8],[fe.PDF_417,tt.BarcodeFormat.PDF_417],[fe.RSS_14,tt.BarcodeFormat.RSS_14],[fe.RSS_EXPANDED,tt.BarcodeFormat.RSS_EXPANDED],[fe.UPC_A,tt.BarcodeFormat.UPC_A],[fe.UPC_E,tt.BarcodeFormat.UPC_E],[fe.UPC_EAN_EXTENSION,tt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!PM)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),o=new Map;o.set(tt.DecodeHintType.POSSIBLE_FORMATS,i),o.set(tt.DecodeHintType.TRY_HARDER,!1),this.hints=o}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(o){i(o)}})},t.prototype.decode=function(e){var n=new tt.MultiFormatReader(this.verbose,this.hints),r=new tt.HTMLCanvasElementLuminanceSource(e),i=new tt.BinaryBitmap(new tt.HybridBinarizer(r)),o=n.decode(i);return{text:o.text,format:bv.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),LM=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function d(y){try{p(r.next(y))}catch(v){c(v)}}function g(y){try{p(r.throw(y))}catch(v){c(v)}}function p(y){y.done?o(y.value):i(y.value).then(d,g)}p((r=r.apply(t,e||[])).next())})},BM=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(y){return g([p,y])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},fx=function(){function t(e,n,r){if(this.formatMap=new Map([[fe.QR_CODE,"qr_code"],[fe.AZTEC,"aztec"],[fe.CODABAR,"codabar"],[fe.CODE_39,"code_39"],[fe.CODE_93,"code_93"],[fe.CODE_128,"code_128"],[fe.DATA_MATRIX,"data_matrix"],[fe.ITF,"itf"],[fe.EAN_13,"ean_13"],[fe.EAN_8,"ean_8"],[fe.PDF_417,"pdf417"],[fe.UPC_A,"upc_a"],[fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return LM(this,void 0,void 0,function(){var n,r;return BM(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:bv.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,o=e;i<o.length;i++){var c=o[i],d=c.boundingBox.width*c.boundingBox.height;d>r&&(r=d,n=c)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),dx=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function d(y){try{p(r.next(y))}catch(v){c(v)}}function g(y){try{p(r.throw(y))}catch(v){c(v)}}function p(y){y.done?o(y.value):i(y.value).then(d,g)}p((r=r.apply(t,e||[])).next())})},hx=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(y){return g([p,y])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},FM=function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&fx.isSupported()?(this.primaryDecoder=new fx(e,r,i),this.secondaryDecoder=new ux(e,r,i)):this.primaryDecoder=new ux(e,r,i)}return t.prototype.decodeAsync=function(e){return dx(this,void 0,void 0,function(){var n;return hx(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return dx(this,void 0,void 0,function(){var n,r;return hx(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var o=e/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),P1=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_u=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function d(y){try{p(r.next(y))}catch(v){c(v)}}function g(y){try{p(r.throw(y))}catch(v){c(v)}}function p(y){y.done?o(y.value):i(y.value).then(d,g)}p((r=r.apply(t,e||[])).next())})},Cu=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(y){return g([p,y])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Cv=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),zM=function(t){P1(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(Cv),UM=function(t){P1(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(zM),WM=function(t){P1(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(Cv),VM=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new UM(this.track)},t.prototype.torchFeature=function(){return new WM(this.track)},t}(),HM=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return _u(this,void 0,void 0,function(){var o,c;return Cu(this,function(d){switch(d.label){case 0:return o=new t(e,n,i),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:d.sent(),d.label=2;case 2:return o.setupSurface(),[2,o]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return _u(this,void 0,void 0,function(){return Cu(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),o=i.length,c=0;e.mediaStream.getVideoTracks().forEach(function(d){e.mediaStream.removeTrack(d),d.stop(),++c,c>=o&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new VM(this.getFirstTrackOrFail())},t}(),jM=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return _u(this,void 0,void 0,function(){return Cu(this,function(i){return[2,HM.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return _u(this,void 0,void 0,function(){var n,r;return Cu(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t}(),gx=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function d(y){try{p(r.next(y))}catch(v){c(v)}}function g(y){try{p(r.throw(y))}catch(v){c(v)}}function p(y){y.done?o(y.value):i(y.value).then(d,g)}p((r=r.apply(t,e||[])).next())})},px=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(y){return g([p,y])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},GM=function(){function t(){}return t.failIfNotSupported=function(){return gx(this,void 0,void 0,function(){return px(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return gx(this,void 0,void 0,function(){return px(this,function(n){return[2,jM.create(e)]})})},t}(),XM=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function d(y){try{p(r.next(y))}catch(v){c(v)}}function g(y){try{p(r.throw(y))}catch(v){c(v)}}function p(y){y.done?o(y.value):i(y.value).then(d,g)}p((r=r.apply(t,e||[])).next())})},$M=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(y){return g([p,y])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},YM=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Js.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Js.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return XM(this,void 0,void 0,function(){var e,n,r,i,o,c,d;return $M(this,function(g){switch(g.label){case 0:return e=function(p){for(var y=p.getVideoTracks(),v=0,E=y;v<E.length;v++){var _=E[v];_.enabled=!1,_.stop(),p.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),i=[],o=0,c=r;o<c.length;o++)d=c[o],d.kind==="videoinput"&&i.push({id:d.deviceId,label:d.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(o){for(var c=[],d=0,g=o;d<g.length;d++){var p=g[d];p.kind==="video"&&c.push({id:p.id,label:p.label})}e(c)},i=MediaStreamTrack;i.getSources(r)})},t}(),yt;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(yt||(yt={}));var ZM=function(){function t(){this.state=yt.NOT_STARTED,this.onGoingTransactionNewState=yt.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===yt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=yt.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===yt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=yt.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==yt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case yt.UNKNOWN:throw"Transition from unknown is not allowed";case yt.NOT_STARTED:this.failIfNewStateIs(e,[yt.PAUSED]);break;case yt.SCANNING:break;case yt.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];if(e===o)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),KM=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===yt.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==yt.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===yt.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===yt.PAUSED},t}(),qM=function(){function t(){}return t.create=function(){return new KM(new ZM)},t}(),QM=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),On=function(t){QM(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(RM),JM=function(){function t(e,n){this.logger=n,this.fps=On.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=On.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?_v.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Dr(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),ek=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new kM(this.verbose),this.qrcode=new FM(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=qM.create()}return t.prototype.start=function(e,n,r,i){var o=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var d=JM.create(n,this.logger);this.clearElement();var g=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=g,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:On.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var v=this,E=this.stateManagerProxy.startTransition(yt.SCANNING);return new Promise(function(_,N){var S=p?d.videoConstraints:v.createVideoConstraints(e);if(!S){E.cancel(),N("videoConstraints should be defined");return}var k={};(!p||d.aspectRatio)&&(k.aspectRatio=d.aspectRatio);var O={onRenderSurfaceReady:function(T,R){v.setupUi(T,R,d),v.isScanning=!0,v.foreverScan(d,r,c)}};GM.failIfNotSupported().then(function(T){T.create(S).then(function(R){return R.render(o.element,k,O).then(function(B){v.renderedCamera=B,E.execute(),_(null)}).catch(function(B){E.cancel(),N(B)})}).catch(function(R){E.cancel(),N(Js.errorGettingUserMedia(R))})}).catch(function(T){E.cancel(),N(Js.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(yt.PAUSED),this.showPausedState(),(Dr(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(yt.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(yt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var o=document.getElementById(On.SHADED_REGION_ELEMENT_ID);o&&e.element.removeChild(o)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Dr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var c=new Image;c.onload=function(){var d=c.width,g=c.height,p=document.getElementById(r.elementId),y=p.clientWidth?p.clientWidth:On.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:g,On.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(d,g,y,v);if(n){var _=r.createCanvasElement(y,v,"qr-canvas-visible");_.style.display="inline-block",p.appendChild(_);var N=_.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=y,N.canvas.height=v,N.drawImage(c,0,0,d,g,E.x,E.y,E.width,E.height)}var S=On.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(c.width,E.width),O=Math.max(c.height,E.height),T=k+2*S,R=O+2*S,B=r.createCanvasElement(T,R);p.appendChild(B);var F=B.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=T,F.canvas.height=R,F.drawImage(c,0,0,d,g,S,S,k,O);try{r.qrcode.decodeRobustlyAsync(B).then(function(V){i(cx.createFromQrcodeResult(V))}).catch(o)}catch(V){o("QR code parse error, error = ".concat(V))}},c.onerror=o,c.onabort=o,c.onstalled=o,c.onsuspend=o,c.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return YM.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!_v.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[fe.QR_CODE,fe.AZTEC,fe.CODABAR,fe.CODE_39,fe.CODE_93,fe.CODE_128,fe.DATA_MATRIX,fe.MAXICODE,fe.ITF,fe.EAN_13,fe.EAN_8,fe.PDF_417,fe.RSS_14,fe.RSS_EXPANDED,fe.UPC_A,fe.UPC_E,fe.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,o=e.formatsToSupport;i<o.length;i++){var c=o[i];NM(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Dr(e))return!0;if(!Dr(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Dr(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Dr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,o=r.qrbox;this.validateQrboxConfig(o);var c=this.toQrdimensions(e,n,o),d=function(p){if(p<On.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(On.MIN_QR_BOX_SIZE,"px.")},g=function(p){return p>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=e),p};d(c.width),d(c.height),c.width=g(c.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=Dr(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(e,n,i);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&o.height<=n,d={x:0,y:0,width:e,height:n},g=c?this.getShadedRegionBounds(e,n,o):d,p=this.createCanvasElement(g.width,g.height),y={willReadFrequently:!0},v=p.getContext("2d",y);v.canvas.width=g.width,v.canvas.height=g.height,this.element.append(p),c&&this.possiblyInsertShadingElement(this.element,e,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=v,this.canvasElement=p},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Js.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,cx.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var o=Js.codeParseError(i);return n(o,MM.createFrom(o)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),c=o.videoWidth/o.clientWidth,d=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*c,p=this.qrRegion.height*d,y=this.qrRegion.x*c,v=this.qrRegion.y*d;this.context.drawImage(o,y,v,g,p,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(_){!_&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){E()})):E()}).catch(function(_){i.logger.logError("Error happend while scanning context",_),E()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},o="exact",c=function(N){if(N in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},d=Object.keys(e);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var g=Object.keys(e)[0];if(g!==n&&g!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var p=e.facingMode;if(typeof p=="string"){if(c(p))return{facingMode:p}}else if(typeof p=="object")if(o in p){if(c(p["".concat(o)]))return{facingMode:{exact:p["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var y=typeof p;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var v=e.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(o in v)return{deviceId:{exact:v["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var E=typeof v;throw"Invalid type of 'deviceId' = ".concat(E)}}}var _=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var o=(r-e)/2,c=(i-n)/2;return{x:o,y:c,width:e,height:n}}else{var d=e,g=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(g)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?On.BORDER_SHADER_MATCH_COLOR:On.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,o=n,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(o,"px"),c.style.display="none",c.id=Dr(r)?"qr-canvas":r,c},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var o=document.createElement("div");o.style.position="absolute";var c=(n-i.width)/2,d=(r-i.height)/2;if(o.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(On.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var g=5,p=40;this.insertShaderBorders(o,p,g,-g,null,0,!0),this.insertShaderBorders(o,p,g,-g,null,0,!1),this.insertShaderBorders(o,p,g,null,-g,0,!0),this.insertShaderBorders(o,p,g,null,-g,0,!1),this.insertShaderBorders(o,g,p+g,-g,null,-g,!0),this.insertShaderBorders(o,g,p+g,null,-g,-g,!0),this.insertShaderBorders(o,g,p+g,-g,null,-g,!1),this.insertShaderBorders(o,g,p+g,null,-g,-g,!1),this.hasBorderShaders=!0}e.append(o)}},t.prototype.insertShaderBorders=function(e,n,r,i,o,c,d){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=On.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(r,"px"),i!==null&&(g.style.top="".concat(i,"px")),o!==null&&(g.style.bottom="".concat(o,"px")),d?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),e.appendChild(g)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var mx;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(mx||(mx={}));function tk({onDetected:t,onClose:e}){const n=W.useRef(),r=W.useRef();return I.useEffect(()=>{const i="barcode-scanner";return r.current=new ek(i),r.current.start({facingMode:"environment"},{fps:10,qrbox:250},o=>{t(o),r.current.stop(),e()},o=>{}),()=>{r.current&&(r.current.stop().catch(()=>{}),r.current.clear())}},[t,e]),I.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center"},I.createElement("div",{className:"bg-white p-6 rounded-xl shadow-xl flex flex-col items-center relative"},I.createElement("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 text-2xl",onClick:e},"×"),I.createElement("div",{className:"mb-2 font-bold text-lg"},"Scan Barcode"),I.createElement("div",{id:"barcode-scanner",ref:n,style:{width:300,height:300}}),I.createElement("div",{className:"mt-2 text-xs text-gray-500"},"Point your camera at a barcode")))}const xx={item_name:"",quantity:1,location:"",category:"",supplier:"",cost:"",sale_price:""};function nk(){const[t,e]=W.useState([]),[n,r]=W.useState(!0),[i,o]=W.useState(xx),[c,d]=W.useState(!1),[g,p]=W.useState(""),[y,v]=W.useState(!1),[E,_]=W.useState(null),[N,S]=W.useState(!1),[k,O]=W.useState(!1),[T,R]=W.useState(null),[B,F]=W.useState(!1),[V,L]=W.useState(!1),[j,H]=W.useState(null),[Q,oe]=W.useState(null),[te,xe]=W.useState(null),Ce=()=>{r(!0),fetch("http://localhost:8000/inventory/").then(he=>he.json()).then(he=>{e(he),r(!1)})};W.useEffect(()=>{Ce()},[]);const X=he=>{const{name:ie,value:bt}=he.target;o(gt=>({...gt,[ie]:bt}))},ve=async he=>{he.preventDefault(),d(!0),p("");try{if(!(await fetch("http://localhost:8000/inventory/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...i,quantity:Number(i.quantity),cost:i.cost?Number(i.cost):void 0,sale_price:i.sale_price?Number(i.sale_price):void 0})})).ok)throw new Error("Failed to add item");o(xx),Ce()}catch(ie){p(ie.message||"Error adding item")}finally{d(!1)}},le=async he=>{window.confirm("Delete this item?")&&(await fetch(`http://localhost:8000/inventory/${he}`,{method:"DELETE"}),Ce())},re=he=>{_(he),v(!0)},ae=async he=>{await fetch(`http://localhost:8000/inventory/${he.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(he)}),v(!1),_(null),Ce()},pe=he=>{H(he),L(!0),oe(null),xe(he?[{description:he.item_name,quantity:he.quantity,price:he.sale_price||0}]:[{description:"",quantity:1,price:0}])},Fe=({recipient:he,products:ie})=>{oe(he),xe(ie),L(!1),R(j),O(!0)},be=he=>{alert("Barcode detected: "+he),F(!1)},At=()=>{if(!t.length)return;const he=Object.keys(t[0]),ie=[he.join(",")];for(const Yt of t)ie.push(he.map(bs=>{let Te=Yt[bs];return typeof Te=="string"&&(Te='"'+Te.replace(/"/g,'""')+'"'),Te}).join(","));const bt=ie.join(`
`),gt=new Blob([bt],{type:"text/csv"}),Kr=URL.createObjectURL(gt),Kn=document.createElement("a");Kn.href=Kr,Kn.download=`inventory_export_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Kn),Kn.click(),setTimeout(()=>{document.body.removeChild(Kn),URL.revokeObjectURL(Kr)},0)},Me=()=>{if(!t.length)return;const he=`<!DOCTYPE html>
<html><head><title>Print All Barcodes</title>
  <style>
    body { font-family: sans-serif; background: #fff; }
    .barcode-grid { display: flex; flex-wrap: wrap; gap: 24px; justify-content: flex-start; }
    .barcode-label { width: 210px; border: 1px solid #eee; border-radius: 8px; padding: 16px 8px; margin-bottom: 8px; display: flex; flex-direction: column; align-items: center; }
    .barcode-label .name { font-size: 16px; font-weight: bold; margin-bottom: 6px; text-align: center; }
    .barcode-label .barcode { margin-bottom: 4px; }
  </style>
</head><body>
  <h2 style="text-align:center;">All Inventory Barcodes</h2>
  <div class="barcode-grid">
    ${t.map(bt=>`
      <div class="barcode-label">
        <div class="name">${bt.item_name||""}</div>
        <div class="barcode"><svg id="barcode-${bt.id}"></svg></div>
        <div style="font-size:12px;">${bt.barcode||bt.id||""}</div>
      </div>
    `).join("")}
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"><\/script>
  <script>
    window.onload = function() {
      ${t.map(bt=>`
        if (typeof JsBarcode !== 'undefined') {
          JsBarcode("#barcode-${bt.id}", "${bt.barcode||bt.id||""}", { width:2, height:48, fontSize:12, displayValue:true });
        }
      `).join("")}
      setTimeout(function() { window.print(); window.close(); }, 600);
    };
  <\/script>
</body></html>`,ie=window.open("","","width=900,height=700");ie.document.open(),ie.document.write(he),ie.document.close()};return I.createElement("div",{className:"p-8"},I.createElement("div",{className:"flex items-center justify-between mb-6"},I.createElement("h1",{className:"text-2xl font-bold"},"Inventory"),I.createElement("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 font-semibold shadow",onClick:()=>F(!0)},"Scan Barcode"),I.createElement("button",{className:"ml-4 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 font-semibold shadow",onClick:At},"Export"),I.createElement("button",{className:"ml-4 bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 font-semibold shadow",onClick:Me},"Print All Barcodes")),I.createElement("form",{className:"mb-6 flex flex-wrap gap-4 items-end",onSubmit:ve},I.createElement("input",{name:"item_name",value:i.item_name,onChange:X,placeholder:"Name",required:!0,className:"border px-2 py-1 rounded"}),I.createElement("input",{name:"quantity",type:"number",min:"1",value:i.quantity,onChange:X,placeholder:"Quantity",required:!0,className:"border px-2 py-1 rounded w-24"}),I.createElement("input",{name:"location",value:i.location,onChange:X,placeholder:"Inventory Location",className:"border px-2 py-1 rounded"}),I.createElement("input",{name:"category",value:i.category,onChange:X,placeholder:"Category",className:"border px-2 py-1 rounded"}),I.createElement("input",{name:"supplier",value:i.supplier,onChange:X,placeholder:"Supplier (link)",className:"border px-2 py-1 rounded"}),I.createElement("input",{name:"cost",type:"number",step:"0.01",value:i.cost,onChange:X,placeholder:"Cost",className:"border px-2 py-1 rounded w-28"}),I.createElement("input",{name:"sale_price",type:"number",step:"0.01",value:i.sale_price,onChange:X,placeholder:"Sale Price",className:"border px-2 py-1 rounded w-28"}),I.createElement("button",{type:"submit",disabled:c,className:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700"},c?"Adding...":"Add Item"),g&&I.createElement("span",{className:"text-red-500 ml-4"},g)),n?I.createElement("div",null,"Loading..."):I.createElement(DO,{items:t,onDelete:le,onEdit:re,onPrintBarcode:he=>{R(he),S(!0)},onPrintInvoice:pe}),y&&I.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},I.createElement("div",{className:"bg-white p-6 rounded shadow-lg min-w-[320px] relative"},I.createElement("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:()=>v(!1)},"×"),I.createElement("h2",{className:"text-lg font-bold mb-4"},"Edit Item"),I.createElement("form",{onSubmit:he=>{he.preventDefault(),ae(E)},className:"flex flex-col gap-2"},I.createElement("input",{name:"item_name",value:E.item_name,onChange:he=>_({...E,item_name:he.target.value}),required:!0,className:"border px-2 py-1 rounded"}),I.createElement("input",{name:"quantity",type:"number",min:"1",value:E.quantity,onChange:he=>_({...E,quantity:Number(he.target.value)}),required:!0,className:"border px-2 py-1 rounded"}),I.createElement("input",{name:"location",value:E.location,onChange:he=>_({...E,location:he.target.value}),className:"border px-2 py-1 rounded"}),I.createElement("input",{name:"category",value:E.category,onChange:he=>_({...E,category:he.target.value}),className:"border px-2 py-1 rounded"}),I.createElement("input",{name:"supplier",value:E.supplier,onChange:he=>_({...E,supplier:he.target.value}),className:"border px-2 py-1 rounded"}),I.createElement("input",{name:"cost",type:"number",step:"0.01",value:E.cost,onChange:he=>_({...E,cost:Number(he.target.value)}),className:"border px-2 py-1 rounded w-28"}),I.createElement("input",{name:"sale_price",type:"number",step:"0.01",value:E.sale_price,onChange:he=>_({...E,sale_price:Number(he.target.value)}),className:"border px-2 py-1 rounded w-28"}),I.createElement("div",{className:"flex gap-2 mt-2"},I.createElement("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700"},"Save"),I.createElement("button",{type:"button",className:"bg-gray-300 px-4 py-1 rounded hover:bg-gray-400",onClick:()=>v(!1)},"Cancel"))))),I.createElement(IM,{open:N,onClose:()=>S(!1),item:T}),I.createElement(OM,{open:k,onClose:()=>O(!1),item:T,recipient:Q,products:te}),I.createElement(TM,{open:V,onClose:()=>L(!1),onContinue:Fe,initialRecipient:Q,initialProducts:te}),B&&I.createElement(tk,{onDetected:be,onClose:()=>F(!1)}))}function rk(){const[t,e]=W.useState("in"),[n,r]=W.useState(""),[i,o]=W.useState(1),[c,d]=W.useState(""),[g,p]=W.useState(!1),[y,v]=W.useState(null),[E,_]=W.useState(""),[N,S]=W.useState(!0),k=async T=>{if(T.preventDefault(),v(null),_(""),d(""),!!n){p(!0);try{let R=`http://localhost:8000/inventory/barcode/${n}`,B=await fetch(R);if(B.ok){let F=await B.json();v(F),_("")}else _("Item not found."),v(null)}catch(R){_("Error: "+R.message),v(null)}p(!1)}},O=async T=>{if(T.preventDefault(),!(!n||!y)){p(!0),d("");try{let B=await fetch("http://localhost:8000/inventory/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({barcode:n,quantity:Number(i),mode:t})}),F=await B.json();B.ok?(d(F.message||"Success"),v(V=>({...V,quantity:t==="in"?V.quantity+Number(i):V.quantity-Number(i)}))):d(F.detail||"Error")}catch(R){d("Error: "+R.message)}p(!1),o(1)}};return I.createElement("div",{className:"p-4 sm:p-8 max-w-lg mx-auto min-h-screen flex flex-col items-center justify-start bg-transparent"},I.createElement("div",{className:"w-full max-w-md bg-white bg-opacity-90 backdrop-blur-md rounded-xl shadow-xl p-8 mt-12 mb-8 relative border border-blue-100"},I.createElement("div",{className:"flex items-center gap-3 mb-6"},I.createElement(gC,{className:"text-3xl text-blue-500"}),I.createElement("h1",{className:"text-2xl font-bold tracking-wide"},"Scan In // Scan Out")),I.createElement("div",{className:"mb-6 flex w-full max-w-xs mx-auto"},I.createElement("button",{onClick:()=>e("in"),className:`flex-1 py-2 px-4 text-center font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-green-400 border border-r-0 border-gray-300 ${t==="in"?"bg-green-600 text-white shadow rounded-l-lg z-10":"bg-gray-100 text-gray-700 hover:bg-green-50 rounded-l-lg"}`,"aria-pressed":t==="in",type:"button",style:{borderTopRightRadius:0,borderBottomRightRadius:0}},"Scan In"),I.createElement("button",{onClick:()=>e("out"),className:`flex-1 py-2 px-4 text-center font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-red-400 border border-l-0 border-gray-300 ${t==="out"?"bg-red-600 text-white shadow rounded-r-lg z-10":"bg-gray-100 text-gray-700 hover:bg-red-50 rounded-r-lg"}`,"aria-pressed":t==="out",type:"button",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0}},"Scan Out")),I.createElement("form",{onSubmit:k,className:"flex flex-col gap-4 mb-4"},I.createElement("div",{className:"flex items-center gap-2"},I.createElement("input",{type:"text",placeholder:"Scan or enter barcode",value:n,onChange:T=>r(T.target.value),className:"border px-3 py-2 rounded w-full text-lg focus:outline-none focus:ring-2 focus:ring-blue-300",autoFocus:!0,required:!0}),I.createElement("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors text-lg flex items-center gap-2",disabled:g},g?"...":"Search"))),E&&I.createElement("div",{className:"flex items-center gap-2 text-red-600 font-semibold mb-2"},I.createElement(hC,null)," ",E),y&&I.createElement("div",{className:"border rounded-xl p-4 mb-4 bg-gray-50 shadow-inner"},I.createElement("div",{className:"flex items-center justify-between cursor-pointer select-none",onClick:()=>S(T=>!T)},I.createElement("div",{className:"font-bold text-lg mb-1"},y.item_name),N?I.createElement(xC,null):I.createElement(mC,null)),N&&I.createElement("div",{className:"mt-2"},I.createElement("div",{className:"mb-1"},"Barcode: ",I.createElement("span",{className:"font-mono text-blue-600"},y.barcode)),I.createElement("div",null,"Current Quantity: ",I.createElement("span",{className:"font-bold text-green-700"},y.quantity))),I.createElement("form",{onSubmit:O,className:"flex flex-col gap-3 mt-4"},I.createElement("input",{type:"number",min:"1",value:i,onChange:T=>o(T.target.value),className:"border px-3 py-2 rounded w-32 focus:outline-none focus:ring-2 focus:ring-blue-200",required:!0}),I.createElement("button",{type:"submit",className:`px-4 py-2 rounded font-semibold transition-colors ${t==="in"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,disabled:g},g?"Processing...":t==="in"?"Add Quantity":"Remove Quantity"))),c&&I.createElement("div",{className:`mt-2 text-center text-lg font-semibold flex items-center justify-center gap-2 ${c.toLowerCase().includes("success")?"text-green-600":"text-blue-700"}`},I.createElement(pC,null)," ",c),I.createElement("div",{className:"mt-6 text-gray-500 text-sm text-center"},"Tip: Scan or enter a barcode to view and update item quantity.")))}function ik(){const[t,e]=W.useState([]),[n,r]=W.useState(""),[i,o]=W.useState(""),[c,d]=W.useState(""),[g,p]=W.useState("newest"),[y,v]=W.useState(!1),[E,_]=W.useState(""),N=async()=>{v(!0),_("");try{if(!n)throw new Error("Please enter keywords.");let S=`http://localhost:8000/vinted-bot-search?keywords=${encodeURIComponent(n)}`;i&&(S+=`&min_price=${encodeURIComponent(i)}`),c&&(S+=`&max_price=${encodeURIComponent(c)}`),g&&(S+=`&sort=${encodeURIComponent(g)}`);const k=await fetch(S);if(!k.ok)throw new Error("Failed to fetch products");const O=await k.json();e(O.products||[])}catch(S){_(S.message)}v(!1)};return I.createElement("div",{className:"p-8 max-w-3xl mx-auto"},I.createElement("h1",{className:"text-2xl font-bold mb-4"},"Vinted Bot"),I.createElement("div",{className:"flex gap-4 mb-4"},I.createElement("input",{type:"text",placeholder:"Keywords (e.g. Ralph Lauren hoodie)",className:"border px-2 py-1 rounded w-64",value:n,onChange:S=>r(S.target.value)}),I.createElement("input",{type:"number",placeholder:"Min price (£)",className:"border px-2 py-1 rounded w-32",value:i,onChange:S=>o(S.target.value)}),I.createElement("input",{type:"number",placeholder:"Max price (£)",className:"border px-2 py-1 rounded w-32",value:c,onChange:S=>d(S.target.value)}),I.createElement("select",{className:"border px-2 py-1 rounded w-40",value:g,onChange:S=>p(S.target.value)},I.createElement("option",{value:"newest"},"Newest to Oldest"),I.createElement("option",{value:"oldest"},"Oldest to Newest"),I.createElement("option",{value:"price_asc"},"Price: Low to High"),I.createElement("option",{value:"price_desc"},"Price: High to Low")),I.createElement("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:N,disabled:y},y?"Searching...":"Search")),E&&I.createElement("div",{className:"text-red-600 font-semibold mb-4"},E),I.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},t.map((S,k)=>I.createElement("div",{key:k,className:"border rounded p-4 bg-gray-50 flex flex-col"},I.createElement("img",{src:S.image_url,alt:S.title,className:"w-full h-48 object-cover rounded mb-2"}),I.createElement("div",{className:"font-bold text-lg mb-1"},S.title),I.createElement("div",{className:"mb-1"},"Price: ",I.createElement("span",{className:"font-bold"},"£",S.price)),I.createElement("div",{className:"text-gray-600 mb-2"},S.description),S.seller_rating!==void 0&&S.seller_rating!==null&&I.createElement("div",{className:"mb-1"},"Seller Rating: ",I.createElement("span",{className:"font-semibold"},S.seller_rating)),S.seller_feedback_count!==void 0&&S.seller_feedback_count!==null&&I.createElement("div",{className:"mb-1"},"Seller Feedbacks: ",I.createElement("span",{className:"font-semibold"},S.seller_feedback_count)),S.created_at&&I.createElement("div",{className:"mb-1"},"Posted: ",I.createElement("span",{className:"font-semibold"},new Date(S.created_at).toLocaleString())),S.bump_time&&I.createElement("div",{className:"mb-1"},"Bump Time: ",I.createElement("span",{className:"font-semibold"},S.bump_time)),S.view_count!==void 0&&S.view_count!==null&&I.createElement("div",{className:"mb-1"},"Views: ",I.createElement("span",{className:"font-semibold"},S.view_count)),S.interested_count!==void 0&&S.interested_count!==null&&I.createElement("div",{className:"mb-1"},"Interested: ",I.createElement("span",{className:"font-semibold"},S.interested_count)),S.condition&&I.createElement("div",{className:"mb-1"},"Condition: ",I.createElement("span",{className:"font-semibold"},S.condition)),S.size&&I.createElement("div",{className:"mb-1"},"Size: ",I.createElement("span",{className:"font-semibold"},S.size)),I.createElement("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline"},"View on Vinted")))),t.length===0&&!y&&I.createElement("div",{className:"text-gray-500 mt-8"},"No products found. Try different keywords or price."))}const Bc=["A","B","C","D","E"],Fc=[1,2,3,4,5],aa=14,yx="10.0.0.114";function sk(t,e){return Bc.indexOf(t)*Fc.length+(e-1)}function ok({inventory:t,setInventory:e}){const[n,r]=W.useState(""),[i,o]=W.useState(null),[c,d]=W.useState(null),[g,p]=W.useState(null),y=N=>{N.preventDefault();const S=t.find(k=>k.item_name.toLowerCase()===n.trim().toLowerCase()||k.barcode&&k.barcode===n.trim());o(S),S&&S.location?(d(S.location.toUpperCase()),v(S.location.toUpperCase())):d(null)},v=async N=>{const S=N[0],k=Number(N.slice(1)),O=sk(S,k);await fetch(`http://${yx}/json/state`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({seg:Array.from({length:Bc.length*Fc.length}).map((T,R)=>R===O?{id:R,start:R*aa,stop:(R+1)*aa-1,col:[[255,180,0]],bri:255}:{id:R,start:R*aa,stop:(R+1)*aa-1,col:[[20,20,20]],bri:30}),on:!0})})},E=N=>t.filter(S=>(S.location||"").toUpperCase()===N),_=async()=>{await fetch(`http://${yx}/json/state`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({on:!0,bri:102,seg:[{id:0,start:0,stop:Bc.length*Fc.length*aa-1,col:[[255,180,0],[0,255,128],[128,0,255]],fx:9}]})})};return I.createElement("div",{className:"bg-white rounded-xl shadow p-6 w-full max-w-3xl mx-auto mt-6"},I.createElement("form",{onSubmit:y,className:"flex gap-2 mb-4"},I.createElement("input",{className:"border rounded px-3 py-2 flex-1",placeholder:"Find item by name or barcode...",value:n,onChange:N=>r(N.target.value)}),I.createElement("button",{className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2",type:"submit"},I.createElement(F0,null)," Find Item")),I.createElement("div",{className:"flex flex-col items-center"},I.createElement("button",{className:"mb-4 bg-gradient-to-r from-blue-400 to-green-400 text-white px-6 py-2 rounded shadow hover:from-blue-500 hover:to-green-500 font-semibold transition",onClick:_},"Set Standby Mode (Rainbow Analogous)"),I.createElement("div",{className:"grid grid-cols-5 gap-4 mb-6"},Bc.flatMap(N=>Fc.map(S=>{const k=`${N}${S}`,O=c===k||g===k,T=E(k);return I.createElement("div",{key:k,className:`w-20 h-20 flex flex-col items-center justify-center rounded-lg border-2 cursor-pointer transition-all duration-200 ${O?"border-yellow-400 bg-yellow-100 shadow-lg":"border-gray-300 bg-gray-50"}`,onClick:()=>p(k),title:`Box ${k}`},I.createElement(du,{className:"text-2xl mb-1"}),I.createElement("span",{className:"font-bold"},k),I.createElement("span",{className:"text-xs text-gray-500"},T.length," items"))}))),i&&I.createElement("div",{className:"mb-4 text-green-600 font-semibold"},"Found: ",i.item_name," (",i.location,")"),g&&I.createElement("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-30"},I.createElement("div",{className:"bg-white rounded-xl shadow-lg p-6 min-w-[320px] relative"},I.createElement("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",onClick:()=>p(null)},"×"),I.createElement("div",{className:"font-bold text-lg mb-2"},"Box ",g),I.createElement("ul",{className:"max-h-48 overflow-y-auto mb-4"},E(g).length===0?I.createElement("li",{className:"text-gray-500"},"No items in this box."):E(g).map(N=>I.createElement("li",{key:N.id,className:"mb-2 flex flex-col gap-1"},I.createElement("div",{className:"flex items-center justify-between"},I.createElement("span",null,I.createElement("span",{className:"font-semibold"},N.item_name)," ",I.createElement("span",{className:"text-xs text-gray-500"},"(",N.barcode,")")),I.createElement("span",{className:"ml-2 text-gray-700 text-xs"},"Qty: ",N.quantity)),I.createElement("div",{className:"flex gap-1 items-center"},I.createElement("button",{className:"bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded text-xs font-semibold",onClick:async()=>{await fetch("http://localhost:8000/inventory/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({barcode:N.barcode,quantity:1,mode:"in"})}),e(S=>S.map(k=>k.id===N.id?{...k,quantity:k.quantity+1}:k))}},"+1"),I.createElement("button",{className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-xs font-semibold",onClick:async()=>{await fetch("http://localhost:8000/inventory/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({barcode:N.barcode,quantity:1,mode:"out"})}),e(S=>S.map(k=>k.id===N.id?{...k,quantity:Math.max(0,k.quantity-1)}:k))}},"-1"))))),I.createElement("button",{className:"mt-4 w-full bg-yellow-400 text-white py-2 rounded hover:bg-yellow-500 font-semibold",onClick:()=>{d(g),v(g)}},"Highlight this Box with LEDs")))))}const ak=async()=>{const t=await fetch("http://localhost:8000/inventory");return t.ok?t.json():[]};function lk(){const[t,e]=W.useState([]);return W.useEffect(()=>{ak().then(e)},[]),I.createElement("div",{className:"p-8"},I.createElement("h1",{className:"text-2xl font-bold mb-6"},"Find Item"),I.createElement(ok,{inventory:t,setInventory:e}))}function ck({onLogin:t}){const[e,n]=W.useState(""),[r,i]=W.useState(""),[o,c]=W.useState(""),d=g=>{g.preventDefault(),e==="admin"&&r==="admin"?t():c("Invalid credentials. Try admin / admin.")};return I.createElement("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100"},I.createElement("form",{onSubmit:d,className:"bg-white p-8 rounded-xl shadow-xl flex flex-col gap-4 min-w-[320px]"},I.createElement("h2",{className:"text-2xl font-bold text-center mb-2"},"Login"),o&&I.createElement("div",{className:"text-red-500 text-center font-semibold"},o),I.createElement("input",{className:"border rounded px-3 py-2",placeholder:"Username",value:e,onChange:g=>n(g.target.value),autoFocus:!0}),I.createElement("input",{className:"border rounded px-3 py-2",placeholder:"Password",type:"password",value:r,onChange:g=>i(g.target.value)}),I.createElement("button",{className:"bg-blue-600 text-white py-2 rounded hover:bg-blue-700 font-semibold",type:"submit"},"Login")))}function uk(){const[t,e]=W.useState(()=>!!localStorage.getItem("loggedIn")),n=()=>{localStorage.setItem("loggedIn","1"),e(!0)},r=()=>{localStorage.removeItem("loggedIn"),e(!1)};return t?I.createElement(q3,null,I.createElement("div",{className:"flex min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100"},I.createElement(CC,{onLogout:r}),I.createElement("main",{className:"flex-1 ml-56"},I.createElement(I3,null,I.createElement(Zi,{path:"/",element:I.createElement(MO,null)}),I.createElement(Zi,{path:"/inventory",element:I.createElement(nk,null)}),I.createElement(Zi,{path:"/scan",element:I.createElement(rk,null)}),I.createElement(Zi,{path:"/vinted-bot",element:I.createElement(ik,null)}),I.createElement(Zi,{path:"/find-item",element:I.createElement(lk,null)}),I.createElement(Zi,{path:"*",element:I.createElement(S3,{to:"/"})}))))):I.createElement(ck,{onLogin:n})}vd.createRoot(document.getElementById("root")).render(I.createElement(I.StrictMode,null,I.createElement(uk,null)));
